var x=Object.defineProperty;var _=(n,e,t)=>e in n?x(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var r=(n,e,t)=>(_(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const style="";var RenderLayer=(n=>(n[n.Default=0]="Default",n[n.Foreground=10]="Foreground",n[n.Window=20]="Window",n[n.Battle=50]="Battle",n))(RenderLayer||{});class CanvasRenderer{constructor(e,t=[]){r(this,"_canvas");r(this,"_canvasContext");r(this,"_cacheContext");r(this,"_postProcesses",[]);r(this,"_cacheInfos");const a=document.getElementById(e);if(!a)throw new Error("Engine Error: \u672A\u627E\u5230\u5BF9\u5E94\u7684Canvas Id");this._canvas=a,this._canvasContext=this._canvas.getContext("2d"),this._cacheInfos=[0,10,20,50].map(i=>{const o=document.createElement("canvas");o.width=this.width,o.height=this.height;const s=o.getContext("2d");return{renderOrder:i,canvas:o,context:s}}),this._cacheInfos.sort((i,o)=>i.renderOrder-o.renderOrder),this._cacheContext=this._cacheInfos[0].context,this._postProcesses=t}get width(){return this._canvas.width}get height(){return this._canvas.height}get context(){return this._canvasContext}drawSprite(e,t,a,i,o,s,h,c,d,l,m){typeof s!="number"?(c=i,d=o,i=0,o=0,l=s=e.naturalWidth,m=h=e.naturalHeight):typeof c!="number"&&(c=i,d=o,l=s,m=h,i=0,o=0,s=e.naturalWidth,h=e.naturalHeight),this._cacheContext.save(),this._cacheContext.globalAlpha=t,a!==0&&(this._cacheContext.translate(c+s/2,d+h/2),this._cacheContext.rotate(a*Math.PI/180),this._cacheContext.translate(-c-s/2,-d-h/2)),this._cacheContext.drawImage(e,i,o,s,h,c,d,l,m),this._cacheContext.restore()}drawRect(e,t,a,i,o,s=0,h=1){!o||o.trim()==="transparent"||(this._cacheContext.save(),this._cacheContext.fillStyle=o,this._cacheContext.globalAlpha=h,this.drawRoundRectPath(e,t,a,i,s),this._cacheContext.fill(),this._cacheContext.restore())}drawBorder(e,t,a,i,o,s=1){var d,l;if(o.width<=0)return;const h=(d=o.radius)!=null?d:0;this._cacheContext.save(),this._cacheContext.globalAlpha=s;const c=o.width/2;e+=c,t+=c,a-=o.width,i-=o.width,this._cacheContext.strokeStyle=(l=o.color)!=null?l:"white",this._cacheContext.lineWidth=o.width,this.drawRoundRectPath(e,t,a,i,h),this._cacheContext.stroke(),this._cacheContext.restore()}drawRoundRectPath(e,t,a,i,o=0){this._cacheContext.beginPath(),this._cacheContext.moveTo(e,t+o),this._cacheContext.lineTo(e,t+i-o),this._cacheContext.quadraticCurveTo(e,t+i,e+o,t+i),this._cacheContext.lineTo(e+a-o,t+i),this._cacheContext.quadraticCurveTo(e+a,t+i,e+a,t+i-o),this._cacheContext.lineTo(e+a,t+o),this._cacheContext.quadraticCurveTo(e+a,t,e+a-o,t),this._cacheContext.lineTo(e+o,t),this._cacheContext.quadraticCurveTo(e,t,e,t+o)}drawTextOneLine(e,t,a,i,o,s=1){this._cacheContext.save(),this._cacheContext.globalAlpha=s,this._cacheContext.font=`${i.italic?"italic":""} ${i.bold?"bold":""} ${i.size}px ${i.family}`,this._cacheContext.textBaseline="top",this._cacheContext.fillStyle=i.color,this._cacheContext.fillText(e,t,a,o),this._cacheContext.restore()}measureText(e,t,a){if(e.length===0)return[{text:"",width:0}];this._cacheContext.save(),this._cacheContext.font=`${a.italic?"italic":""} ${a.bold?"bold":""} ${a.size}px ${a.family}`;let i="",o=0;const s=[];for(let h=0;h<e.length;h++){const c=e[h];if(c===`
`)s.push({text:i,width:o}),i="",o=0;else{const d=this._cacheContext.measureText(i+c);d.width>t?(s.push({text:i,width:o}),i=c,o=d.width-o):(i+=c,o=d.width)}}return s.push({text:i,width:o}),s}renderBegin(){this._cacheInfos.forEach(e=>{e.context.clearRect(0,0,this.width,this.height)})}renderEnd(){this._postProcesses.length!==0?this._postProcesses.forEach(e=>e.render(this)):(this._canvasContext.clearRect(0,0,this.width,this.height),this._cacheInfos.forEach(e=>{this._canvasContext.drawImage(e.canvas,0,0,this.width,this.height,0,0,this.width,this.height)}))}render(e){this.renderBegin(),e(),this.renderEnd()}registerPostProcess(e){return this._postProcesses.push(e),()=>{const t=this._postProcesses.indexOf(e);t>=0&&this._postProcesses.splice(t,1)}}selectRenderLayer(e=0){var a;const t=this._cacheInfos.find(i=>i.renderOrder===e);this._cacheContext=(a=t==null?void 0:t.context)!=null?a:this._cacheInfos[0].context}get selectedRendererContext(){return this._cacheContext}get cacheInfos(){return this._cacheInfos}}class EventEmitter{constructor(){r(this,"_listeners",new Array)}register(e){this._listeners.push(e)}once(e){const t=a=>{e(a),this.remove(t)};this.register(t)}remove(e){const t=this._listeners.indexOf(e);t!=-1&&this._listeners.splice(t,1)}clear(){this._listeners=[]}emit(e){this._listeners.forEach(t=>t(e))}}const BASE_URL="/dq1-web/",ASSETS_PREFIX=`${BASE_URL}/assets/`,SPRITES_PREFIX=ASSETS_PREFIX+"sprites/",AUDIO_PREFIX=ASSETS_PREFIX+"audios/",DATA_PREFIX=ASSETS_PREFIX+"data/";var AssetLoadStatus=(n=>(n[n.READY=0]="READY",n[n.RUNNING=1]="RUNNING",n[n.SUCCESS=2]="SUCCESS",n[n.FAIED=3]="FAIED",n))(AssetLoadStatus||{});class AssetLoader{constructor(){r(this,"runningPromise",[]);r(this,"status",0);r(this,"pendingAssetPromises",[]);r(this,"assetEvent",new EventEmitter)}addAssets(...e){return this.pendingAssetPromises=[...this.pendingAssetPromises,...e],this}async load(){for(this.status=1;this.pendingAssetPromises.length>0;)this.runningPromise=[...this.pendingAssetPromises],this.pendingAssetPromises=[],await Promise.all(this.runningPromise);this.assetEvent.emit(2)}loadOneTime(){this.status===0&&Promise.all(this.pendingAssetPromises).then(e=>{this.status=2,this.runningPromise=this.runningPromise.filter(t=>e.indexOf(t)<0)}).catch(()=>{this.status=3,this.runningPromise=[]}).finally(()=>{this.assetEvent.emit(this.status)})}}const supportSpriteExt=n=>[".png",".jpg",".jpeg",".bmp"].some(e=>n.endsWith(e)),supportAudioExt=n=>[".mp3",".jpg",".jpeg",".bmp"].some(e=>n.endsWith(e));class Resource{constructor(){r(this,"_sprites",new Map);r(this,"_audios",new Map)}loadSprite(e){if(this.hasSprite(e))return Promise.resolve(this.getSprite(e));const t=`${SPRITES_PREFIX}${e}`;if(!supportSpriteExt(t))return Promise.reject(`resource: load image ${t} error, not support ext.`);const a=new Image;return a.src=t,new Promise((o,s)=>{a.addEventListener("load",()=>{this._sprites.set(e,a),o(a)}),a.addEventListener("error",()=>{s(`resource: load image ${t} error.`)})})}loadAudio(e){if(this.hasAudio(e))return Promise.resolve(this.getAudio(e));const t=`${AUDIO_PREFIX}${e}`;if(!supportAudioExt(t))return Promise.reject(`resource: load audio ${t} error, not support ext.`);const a=new Audio(t);return new Promise((o,s)=>{a.addEventListener("canplay",()=>{this._audios.set(e,a),o(a)}),a.addEventListener("error",()=>{s(`resource: load audio ${t} error.`)})})}loadJson(e){const t=`${DATA_PREFIX}${e}`;return fetch(t).then(a=>a.json()).catch(a=>Promise.reject(`resource: load json ${t} error, ${a}`))}hasSprite(e){return this._sprites.has(e)}getSprite(e){return this._sprites.get(e)}hasAudio(e){return this._audios.has(e)}getAudio(e){return this._audios.get(e)}}const delay$1=n=>new Promise(e=>{setTimeout(()=>{e(n)},n)}),nextFrame=()=>new Promise(n=>{requestAnimationFrame(()=>n(1))}),waitUtil=async(n,e,t)=>{let a=0;for(;!n()&&e>a;)a+=t.scaleDeltaTime,await nextFrame();return e<=a},waitWhile=async(n,e,t)=>{let a=0;for(;n()&&e>a;)a+=t.scaleDeltaTime,await nextFrame();return e<=a},timestampToTime=n=>{const e=Math.floor(n/1e3),t=e%60,a=Math.floor(e/60)%60;return{h:Math.floor(e/3600),m:a,s:t}},timestampToTimeFormat=n=>{const{h:e,m:t,s:a}=timestampToTime(n);return`${e}:${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`};class Time{constructor(){r(this,"_deltaTime",0);r(this,"_currentFrameTime",0);r(this,"_previousFrameTime",0);r(this,"_currentFrame",0);r(this,"_runningTime",0);r(this,"gameplayTime",0);r(this,"scaleTimes",1)}init(){this._deltaTime=0,this._currentFrameTime=Date.now(),this._previousFrameTime=Date.now(),this.gameplayTime=0,this._runningTime=0}tick(){this._currentFrame++;const e=this._currentFrameTime;this._currentFrameTime=Date.now(),this._deltaTime=this._currentFrameTime-this._previousFrameTime,this._previousFrameTime=e,this.gameplayTime+=this._deltaTime,this._runningTime+=this._deltaTime}get scaleDeltaTime(){return this._deltaTime*this.scaleTimes}get deltaTime(){return this._deltaTime}get currentFrameTime(){return this._currentFrameTime}get previousFrameTime(){return this._previousFrameTime}get runningTime(){return this._runningTime}get currentFrame(){return this._currentFrame}}const container=new Map;function GameComponent(n=!0){return function(e){container.set((n?"$":"")+e.name,e)}}const InnerGameComponent=GameComponent(!0),GameplayComponent=GameComponent(!1);function lerpVector2(n,e,t){const a=[e[0]-n[0],e[1]-n[1]];if(a[0]===0&&a[1]===0)return n;if(a[0]===0)return[n[0],lerp(n[1],e[1],t)];if(a[1]===0)return[lerp(n[0],e[0],t),n[1]];const i=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return[t*a[0]/i+n[0],t*a[1]/i+n[1]]}function lerp(n,e,t){return Math.abs(e-n)<=t?e:n+t*Math.sign(e-n)}function distance(n,e){const t=[e[0]-n[0],e[1]-n[1]];return t[0]===0||t[1]===0?Math.abs(t[0])+Math.abs(t[1]):Math.sqrt(t[0]*t[0]+t[1]*t[1])}function vector2Add(n,e){return[n[0]+e[0],n[1]+e[1]]}function vector2Minus(n,e){return[n[0]-e[0],n[1]-e[1]]}function vector2Multiply(n,e){return[n[0]*e[0],n[1]*e[1]]}function vector2Equal(n,e){return n[0]===e[0]&&n[1]===e[1]}function vector2Include(n,e){return n[0]>=e[0][0]&&n[0]<=e[1][0]&&n[1]>=e[0][1]&&n[1]<=e[1][1]}function random(n,e=0){return Math.floor(Math.random()*n)+e}function clamp(n,e,t){return e>t&&([e,t]=[t,e]),Math.min(t,Math.max(e,n))}function range(n){return n.length===0?0:n.length===1?n[0]:random(n[1]-n[0],n[0])}function HasType$1(n,e){return(n&e)>0}class Component{constructor(e){r(this,"active",!0);r(this,"enable",!0);r(this,"_root");this._root=e}saveToEngineGlobal(){}get root(){return this._root}get engine(){return this._root.engine}get renderer(){return this._root.engine.renderer}get time(){return this._root.engine.time}get resource(){return this._root.engine.resource}get background(){return this._root.background}get input(){return this._root.engine.input}get camera(){return this._root.engine.camera}get sceneManager(){return this._root.engine.sceneManager}get audios(){return this._root.engine.audios}set localPosition(e){this.root.localX=e[0],this.root.localY=e[1]}get worldPosition(){return[this._root.worldX,this._root.worldY]}get cameraPosition(){return[this._root.cameraX,this._root.cameraY]}get width(){return this.root.measureWidth}get height(){return this.root.measureHeight}parseData(e,t){}awake(){}start(){}tick(){}update(){}render(){}}const DefaultInputCheckDelay=500;class Input{constructor(e){r(this,"_time");r(this,"active",!0);r(this,"_handlers",[]);r(this,"pressedKyes",[]);r(this,"pressedKeyInfo",{key:"",frame:0,updateTime:0,intialTime:0});this._time=e}init(){const e=()=>{const i=this.pressedKyes.length>0?this.pressedKyes[this.pressedKyes.length-1]:"";i!==this.pressedKeyInfo.key&&(this.pressedKeyInfo.key=i,this.pressedKeyInfo.frame=this._time.currentFrame,this.pressedKeyInfo.intialTime=this._time.currentFrameTime,this.pressedKeyInfo.updateTime=0)},t=i=>()=>{!this.active||this.pressedKeyInfo.key===i.key||(this.pressedKyes.push(i.key),e())},a=i=>()=>{!this.active||(this.pressedKyes=this.pressedKyes.filter(o=>o!==i.key),e())};document.addEventListener("keydown",i=>{this._handlers.push(t(i))}),document.addEventListener("keyup",i=>{this._handlers.push(a(i))})}isPressed(e,t=!1){return e===this.pressedKeyInfo.key&&(!t||this._time.currentFrame===this.pressedKeyInfo.frame)}getHorizontalValue(e=-1){return(this.isLeftPressed()||this.isRightPressed())&&this._time.currentFrameTime-this.pressedKeyInfo.updateTime>=e?(this.pressedKeyInfo.updateTime=this._time.currentFrameTime,this.isLeftPressed()?-1:1):0}getVerticalValue(e=-1){return(this.isDownPressed()||this.isUpPressed())&&this._time.currentFrameTime-this.pressedKeyInfo.updateTime>=e?(this.pressedKeyInfo.updateTime=this._time.currentFrameTime,this.isUpPressed()?-1:1):0}isDownPressed(){return this.isPressed("s")}isUpPressed(){return this.isPressed("w")}isLeftPressed(){return this.isPressed("a")}isRightPressed(){return this.isPressed("d")}isConfirmPressed(){return this.isPressed("j",!0)}isCancelPressed(){return this.isPressed("k",!0)}getPressedDirection(){return this.isLeftPressed()?Direction.left:this.isRightPressed()?Direction.right:this.isUpPressed()?Direction.up:this.isDownPressed()?Direction.down:Direction.none}tick(){this._handlers.forEach(e=>e()),this._handlers=[]}}var Direction=(n=>(n[n.none=-1]="none",n[n.up=0]="up",n[n.down=1]="down",n[n.left=2]="left",n[n.right=3]="right",n))(Direction||{});function parseDirection(n){return n==null?-1:typeof n=="string"?n==="down"?1:n==="up"?0:n==="left"?2:n==="right"?3:-1:n}function getDirectionByCoord(n){return n[0]<0?2:n[0]>0?3:n[1]<0?0:n[1]>0?1:-1}const DirectionToCoord=new Map([[-1,[0,0]],[2,[-1,0]],[3,[1,0]],[0,[0,-1]],[1,[0,1]]]);function oppsiteDirection(n){return n===2?3:n===3?2:n===0?1:n===1?0:-1}var __defProp$A=Object.defineProperty,__getOwnPropDesc$A=Object.getOwnPropertyDescriptor,__decorateClass$A=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$A(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$A(e,t,i),i};const DefaultTileSize=32;function nextCoordByDirection(n,e){const t=DirectionToCoord.get(e);return[n[0]+t[0],n[1]+t[1]]}function checkNextCoordCanMove(n,e,t){return!e.getVariable(GlobalSceneComponentMarker).collider(n,playerCenterPosition(CoordToPosition(n)),t)}function playerCenterPosition(n){return vector2Add(n,[DefaultTileSize>>1,DefaultTileSize>>1])}const DefaultRoleSprite="characters.png",DefalutMoveTileWidth=32,DefaultMoveTileHeight=32,DefaultAnimationCountInDirection=2,DefaultAnimationDuration=1e3,DefaultMoveState={coord:[0,0],position:[0,0],targetCoord:[0,0],targetPosition:[0,0],direction:Direction.down};function CoordToPosition(n){return[n[0]*DefalutMoveTileWidth,n[1]*DefaultMoveTileHeight]}function PositionToCoord(n){return[Math.floor(n[0]/DefalutMoveTileWidth),Math.floor(n[1]/DefaultMoveTileHeight)]}let MoveComponent=class extends Component{constructor(){super(...arguments);r(this,"sprite");r(this,"inited",!1);r(this,"roleIndex",0);r(this,"direction",Direction.down);r(this,"animationCountInDirection",DefaultAnimationCountInDirection);r(this,"animationIndex",0);r(this,"animationDuration",DefaultAnimationDuration);r(this,"animationDirections",new Set);r(this,"offset",[0,0]);r(this,"_animationDelta",0)}update(){!this.inited||this.refreshAnimation()}refreshAnimation(){this._animationDelta+=this.time.scaleDeltaTime,this._animationDelta>=this.animationDuration&&(this._animationDelta=0,this.animationIndex=++this.animationIndex%2,this.refreshAnimationSprite())}refreshAnimationSprite(){this.background.pivotOffset=this.animationPositionInSprite}get animationPositionInSprite(){return[(this.direction*this.animationCountInDirection+this.animationIndex)*DefalutMoveTileWidth+this.offset[0],this.roleIndex*DefaultMoveTileHeight+this.offset[1]]}parseData(e,t){var i,o,s;this.animationDuration=(i=t.aniamtionDuration)!=null?i:DefaultAnimationDuration,(!t.animationDiretions||t.animationDiretions.length==0)&&(t.animationDiretions=[Direction.down]),this.direction=parseDirection((o=t.initDirection)!=null?o:t.animationDiretions[0]),this.animationDirections=new Set(this.animationDirections),this.roleIndex=t.roleIndex,t.sprite||(t.sprite=DefaultRoleSprite),this.background.name=t.sprite,this.offset=(s=t.animtionOffset)!=null?s:[0,0];const a=this.resource.loadSprite(t.sprite).then(h=>{this.inited=!0,this.sprite=h,this.background.sprite=h,this.refreshAnimationSprite()});e.addAssets(a)}};MoveComponent=__decorateClass$A([InnerGameComponent],MoveComponent);const MoveComponent$1=MoveComponent,LayoutUnLimit=-3,LayoutMatchParent=-2,LayoutFitContent=-1;function measureLocalPositionByGravity(n,e,t,a=[0,0]){return n==="center"?(e-t)/2:n==="right"||n==="bottom"?e-t-a[1]:a[0]}var __defProp$z=Object.defineProperty,__getOwnPropDesc$z=Object.getOwnPropertyDescriptor,__decorateClass$z=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$z(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$z(e,t,i),i};const DefaultLineHeightScale=1.25,DefaultFont={color:"#eee",family:"VonwaonBitmap",size:30,bold:!1,italic:!1,align:"left"};let TextComponent=class extends Component{constructor(){super(...arguments);r(this,"_text","");r(this,"font",DefaultFont);r(this,"lineHeightScale",DefaultLineHeightScale);r(this,"showTextLineInfo");r(this,"padding",[0,0,0,0])}start(){this.showTextLineInfo||this.setText(this._text)}setText(e=""){const t=this.renderer.measureText(e,this.textMaxWidth,this.font);this.showTextLineInfo=t[0]}render(){if(!this.showTextLineInfo)return;const e=this.padding[0]+Math.max(1-this.lineHeightScale,1)*this.font.size>>1,t=measureLocalPositionByGravity(this.font.align,this.textMaxWidth,this.showTextLineInfo.width)+this.padding[3];this.renderer.drawTextOneLine(this.showTextLineInfo.text,this.cameraPosition[0]+t,this.cameraPosition[1]+e,this.font,this.textMaxWidth,this.root.alpha)}get textMaxWidth(){return this.width-this.padding[1]-this.padding[3]}parseData(e,t){var a,i,o;this._text=(a=t.text)!=null?a:this._text,t.font&&(this.font={...this.font,...t.font}),this.lineHeightScale=(i=t.lineHeight)!=null?i:this.lineHeightScale,this.padding=(o=t.padding)!=null?o:this.padding}};TextComponent=__decorateClass$z([InnerGameComponent],TextComponent);var __defProp$y=Object.defineProperty,__getOwnPropDesc$y=Object.getOwnPropertyDescriptor,__decorateClass$y=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$y(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$y(e,t,i),i};const DefaultTextSpeed=30,DefaultScreenScrollSpeed=3e3,DefaultShowMaxLines=4;let ScrollTextComponent=class extends Component{constructor(){super(...arguments);r(this,"initText","");r(this,"screenSpeed",DefaultScreenScrollSpeed);r(this,"textSpeed",DefaultTextSpeed);r(this,"font",DefaultFont);r(this,"textLines",[]);r(this,"lineHeight",DefaultLineHeightScale);r(this,"padding",[0,0,0,0])}start(){this.textLines.length===0&&this.showTextScroll(this.initText)}async showTextScroll(e,t="",a,i){if(e.length===0)return;const o=this.renderer.measureText(t,this.textMaxWidth,this.font)[0],s=this.renderer.measureText(e,this.textMaxWidth-o.width,this.font);let h=this.textLines.length;for(let c=0;c<s.length;c++){if(this.textLines.length>=DefaultShowMaxLines){const l=this.textLines.length-DefaultShowMaxLines+1;await this.scrollLineLength(l),h-=l}const d=s[c];this.textLines.push({...d,text:"",prefix:c==0?t:"",prefixWidth:o.width}),a&&a();for(let l=0;l<d.text.length;l++)this.textLines[this.textLines.length-1].text=d.text.slice(0,l+1),await delay$1(this.textSpeed)}h>0&&await this.scrollLineLength(h),i&&i()}showText(e,t=""){this.textLines=[],this.appendText(e,t)}appendText(e,t=""){const a=this.renderer.measureText(t,this.textMaxWidth,this.font)[0];this.textLines.push(...this.renderer.measureText(e,this.textMaxWidth-a.width,this.font).map((i,o)=>({...i,prefix:o==0?t:"",prefixWidth:a.width})))}clearText(){this.textLines=[]}async scrollClearText(){await this.scrollLineLength(this.textLines.length)}async scrollLineLength(e){let t=0;const a=this.lineHeight*this.font.size,i=this.root.localY;for(;e>0;)t+=this.screenSpeed/1e3,this.root.localY=i-t,t>=a&&(t=0,this.textLines.shift(),this.root.localY=i,e--),await nextFrame()}render(){const e=this.engine.renderer.selectedRendererContext;e.save(),e.rect(0,0,this.width,this.height),e.clip();const t=this.lineHeight*this.font.size,a=this.padding[0]+Math.max(1,this.lineHeight-1)*this.font.size>>1;this.textLines.forEach((i,o)=>{const s=measureLocalPositionByGravity(this.font.align,this.textMaxWidth,i.width)+this.padding[3];i.text.length>0&&this.renderer.drawTextOneLine(i.prefix,this.cameraPosition[0]+s,this.cameraPosition[1]+a+o*t,this.font,this.textMaxWidth,this.root.alpha),this.renderer.drawTextOneLine(i.text,this.cameraPosition[0]+s+i.prefixWidth,this.cameraPosition[1]+a+o*t,this.font,this.textMaxWidth,this.root.alpha)}),e.restore()}get textMaxWidth(){return this.width-this.padding[1]-this.padding[3]}parseData(e,t){var a,i,o,s,h,c;this.initText=(a=t.text)!=null?a:this.initText,this.screenSpeed=(i=t.screenScrollSpeed)!=null?i:this.screenSpeed,this.textSpeed=(o=t.textSpeed)!=null?o:this.textSpeed,t.font&&(this.font={...this.font,...t.font}),this.padding=(s=t.padding)!=null?s:this.padding,this.lineHeight=(h=t.lineHeight)!=null?h:this.lineHeight,this.padding=(c=t.padding)!=null?c:this.padding}};ScrollTextComponent=__decorateClass$y([InnerGameComponent],ScrollTextComponent);class ConstInterpolator{constructor(e){this.value=e}execute(){return this.value}}class LinearInterpolator{constructor(e,t){this.min=e,this.max=t}execute(e){return clamp(this.min+(this.max-this.min)*e,this.min,this.max)}}class Animation{constructor({name:e="",keys:t=new Map,frameCount:a=30,reverse:i=!1,duration:o=2e3,times:s=1,auto:h=!0}){r(this,"name");r(this,"duration");r(this,"frameCount");r(this,"keys");r(this,"times",1);r(this,"fillEnd",!1);r(this,"auto",!0);r(this,"reverse",!1);r(this,"animTime",0);r(this,"restTimes",0);r(this,"currentFrame",0);r(this,"isPaused",!1);if(this.name=e,this.reverse=i,this.restTimes=this.times=s,this.frameCount=a,this.duration=o,this.keys=t,i){for(const[c,d]of t.entries()){const l=[...d].reverse().map(m=>({...m,frame:2*a-m.frame}));t.set(c,d.concat(l))}this.frameCount*=2,this.duration*=2}for(const c of this.keys.values())for(let d=1;d<c.length;d++)c[d-1].next=c[d];this.isPaused=!h}update(e){this.animTime+=e,this.updateFrame()}updateFrame(){this.isPaused||this.isEnd||(this.currentFrame=this.animTime*this.frameCount/this.duration,this.animTime>=this.duration&&(this.animTime-=this.duration,this.currentFrame-=this.frameCount,this.isLoop||(this.restTimes-=1,this.restTimes<=0&&(this.currentFrame=Math.max(0,this.frameCount-1)))))}currentKeys(){return Array.from(this.keys.keys()).map(e=>this.currentKey(e)).filter(e=>!!e)}currentKey(e){const t=this.keys.get(e);if(!t||t.length===0)return;let a=t.findIndex(i=>i.frame>this.currentFrame);return a===-1&&(a=t.length),a=Math.max(0,a-1),{property:e,animationKey:t[a]}}getFrameKeyValue(e){return typeof e.value!="number"||!e.next?e.value:((!e.interpolator||typeof e.interpolator=="string")&&(e.interpolator=e.interpolator==="const"?new ConstInterpolator(e.value):new LinearInterpolator(e.value,e.next.value)),e.interpolator.execute(clamp((this.animTime-e.frame/this.frameCount*this.duration)/((e.next.frame-e.frame)*this.duration/this.frameCount),0,1)))}reset(){this.animTime=0,this.currentFrame=0,this.restTimes=this.times}pause(){this.isPaused=!0}replay(e=!1){e&&this.reset(),this.isPaused=!1}stop(){this.pause(),this.reset()}get isPlaying(){return!this.isEnd&&!this.isPaused}get isEnd(){return this.keys.size==0||!this.isLoop&&this.restTimes<=0}get isLoop(){return this.times<0}}var __defProp$x=Object.defineProperty,__getOwnPropDesc$x=Object.getOwnPropertyDescriptor,__decorateClass$x=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$x(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$x(e,t,i),i};function isPropertyAnimationPathData(n){return!!n.path}let PropertyAnimationComponent=class extends Component{constructor(){super(...arguments);r(this,"_animation")}update(){this._animation&&this._animation.isPlaying&&(this._animation.update(this.time.scaleDeltaTime),!this._animation.isEnd&&!this._animation.isPaused&&this._animation.currentKeys().forEach(({property:t,animationKey:a})=>{const i=this._animation.getFrameKeyValue(a);if(t==="localX"||t==="localY")this.root[t]=i;else if(t==="backgroundAlpha")this.background.alpha=i;else if(t==="backgroundSprite"){if(typeof a.value=="string")this.root.background.name=a.value,this.root.background.sprite=this.resource.getSprite(a.value);else if(typeof a.value=="object"){const o=a.value;this.root.background.name=o.name,this.root.background.sprite=this.resource.getSprite(o.name),o.spriteWidth&&(this.root.background.spriteWidth=o.spriteWidth),o.spriteHeight&&(this.root.background.spriteHeight=o.spriteHeight),o.pivotOffset&&(this.root.background.pivotOffset=o.pivotOffset)}}}))}pause(){var e;(e=this._animation)==null||e.pause()}stop(){var e;(e=this._animation)==null||e.stop()}replay(e=!0){var t;(t=this._animation)==null||t.replay(e)}parseData(e,t){isPropertyAnimationPathData(t)?e.addAssets(this.resource.loadJson(t.path).then(a=>this.parseAnimationData(e,a))):this.parseAnimationData(e,t)}setAnimation(e){this.stop(),this._animation=e}parseAnimationData(e,t){t.keys||(t.keys={});for(const[a,i]of Object.entries(t.keys))["backgroundSprite"].includes(a)&&i.forEach(o=>{e.addAssets(this.resource.loadSprite(o.value))});this._animation=new Animation({...t,keys:new Map(Object.entries(t.keys))})}};PropertyAnimationComponent=__decorateClass$x([InnerGameComponent],PropertyAnimationComponent);const PropertyAnimationComponent$1=PropertyAnimationComponent;var __defProp$w=Object.defineProperty,__getOwnPropDesc$w=Object.getOwnPropertyDescriptor,__decorateClass$w=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$w(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$w(e,t,i),i};let Cursor=class extends Component{constructor(){super(...arguments);r(this,"_status","Unselect");r(this,"_animationComponent")}start(){this.setStatus(this._status,!0)}setStatus(e,t=!1){!this._animationComponent||!t&&this._status===e||(e==="Selected"?(this._animationComponent.stop(),this.background.alpha=1):e==="Unselect"?(this._animationComponent.stop(),this.background.alpha=0):e==="Hover"&&this._animationComponent.replay(!0),this._status=e)}parseData(e,t){var a,i,o,s,h,c;this._status=(a=t.initStatus)!=null?a:this._status,(i=t.times)!=null||(t.times=-1),(o=t.duration)!=null||(t.duration=1e3),(s=t.reverse)!=null||(t.reverse=!0),(h=t.frameCount)!=null||(t.frameCount=30),(c=t.keys)!=null||(t.keys={backgroundAlpha:[{frame:0,value:1},{frame:t.frameCount,value:0}]}),this._animationComponent=this.root.addComponent(PropertyAnimationComponent$1,t,e)}};Cursor=__decorateClass$w([InnerGameComponent],Cursor);const Cursor$1=Cursor;class AbsoluteLayout{constructor(e){r(this,"_root");this._root=e}layout(){if(this._root.configWidth===LayoutFitContent||this._root.configHeight===LayoutFitContent)throw new Error("AbsoluteLayout\u7684\u5BBD\u9AD8\u5FC5\u987B\u5B9A\u957F");const[e,t]=this._root.children.reduce(([a,i],o)=>{const[s,h]=o.layout();return[o.localX,o.localY]=vector2Add(vector2Minus(vector2Multiply([this._root.measureWidth,this._root.measureHeight],o.anchorPoint),vector2Multiply([s,h],o.pivot)),[o.localX,o.localY]),[Math.max(o.localX+s,a),Math.max(o.localY+h,i)]},[0,0]);return[e,t]}}class GameObject{constructor(e,t="component",a=null,i=null){r(this,"_localX",0);r(this,"_localY",0);r(this,"worldX",0);r(this,"worldY",0);r(this,"measureWidth",0);r(this,"measureHeight",0);r(this,"width",0);r(this,"height",0);r(this,"configWidth",-1);r(this,"configHeight",-1);r(this,"configLayout");r(this,"active",!0);r(this,"enable",!0);r(this,"name","");r(this,"children",[]);r(this,"components",[]);r(this,"background");r(this,"alpha",1);r(this,"animtations",[]);r(this,"parent");r(this,"engine");r(this,"static",!1);r(this,"pivot",[0,0]);r(this,"layoutGravity",["left","top"]);r(this,"useScreenPosition",!1);r(this,"useScreenPositionInRender",!1);r(this,"events",new EventEmitter);r(this,"configRenderLayer",-1);r(this,"_renderLayer",-1);if(this.name=t,e)this.parent=e,this.engine=this.parent.engine;else{if(!i)throw new Error(`${t}\u4E2D\u7684engine\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A`);this.parent=this,this.engine=i}this.background={name:"",sprite:void 0,scaleType:"original",color:"transparent",spriteWidth:-1,spriteHeight:-1,border:{width:0,color:"white",radius:4},pivotOffset:[0,0],alpha:1,rotate:0},this.configLayout=a!=null?a:new AbsoluteLayout(this)}layout(){this.measureWidth=this.configWidth===LayoutMatchParent?this.parent.measureWidth:Math.max(0,this.configWidth),this.measureHeight=this.configHeight===LayoutMatchParent?this.parent.measureHeight:Math.max(0,this.configHeight);const[e,t]=this.layoutChildren();return this.configWidth===LayoutFitContent&&(this.measureWidth=e),this.configHeight===LayoutFitContent&&(this.measureHeight=t),[this.measureWidth,this.measureHeight]}layoutChildren(){return this.children.length===0?[0,0]:this.configLayout.layout()}awake(){var e;(e=this.components)==null||e.forEach(t=>t.awake&&t.awake()),this.awakeChildren()}awakeChildren(){var e;(e=this.children)==null||e.forEach(t=>t.awake&&t.awake())}start(){var e;(e=this.components)==null||e.forEach(t=>t.start&&t.start()),this.startChildren()}startChildren(){var e;(e=this.children)==null||e.forEach(t=>t.start&&t.start())}update(){this.active&&this.enable&&(this.updateWorldPosition(),this.updateComponents(),this.updateChildrens())}updateWorldPosition(){this.worldX=this==this.parent||this.useScreenPosition?this._localX:this.parent.worldX+this.localX,this.worldY=this==this.parent||this.useScreenPosition?this._localY:this.parent.worldY+this.localY}updateChildrens(){this.children.forEach(e=>{e.active&&e.enable&&e.update&&e.update()})}updateComponents(){this.components.forEach(e=>{e.active&&e.enable&&e.update&&e.update()})}render(){this.active&&(this.engine.renderer.selectRenderLayer(this.renderOrder),this.renderBackground(),this.renderComponents(),this.renderChildrens())}renderBackground(){var e,t;if(this.engine.renderer.drawRect(this.cameraX,this.cameraY,this.measureWidth,this.measureHeight,this.background.color,(t=(e=this.background.border)==null?void 0:e.radius)!=null?t:0,this.background.alpha),this.background.sprite||supportSpriteExt(this.background.name)&&(this.background.sprite=this.engine.resource.getSprite(this.background.name)),this.background.sprite){const a=this.background.spriteWidth>0?this.background.spriteWidth:this.background.scaleType==="fit"?this.background.sprite.naturalWidth:this.measureWidth,i=this.background.spriteHeight>0?this.background.spriteHeight:this.background.scaleType==="fit"?this.background.sprite.naturalHeight:this.measureHeight,o=this.background.scaleType==="fit"?this.measureWidth:this.background.spriteWidth>0&&this.background.spriteWidth<this.measureWidth?this.background.spriteWidth:this.measureWidth,s=this.background.scaleType==="fit"?this.measureHeight:this.background.spriteHeight>0&&this.background.spriteHeight<this.measureHeight?this.background.spriteHeight:this.measureHeight;this.engine.renderer.drawSprite(this.background.sprite,this.background.alpha,this.background.rotate,this.background.pivotOffset[0],this.background.pivotOffset[1],a,i,this.cameraX,this.cameraY,o,s)}this.engine.renderer.drawBorder(this.cameraX,this.cameraY,this.measureWidth,this.measureHeight,this.background.border,this.background.alpha)}get anchorPoint(){return[this.layoutGravity[0]==="right"?1:this.layoutGravity[0]==="center"?.5:0,this.layoutGravity[1]==="bottom"?1:this.layoutGravity[1]==="center"?.5:0]}renderComponents(){this.components.forEach(e=>{e.active&&e.render&&e.render()})}renderChildrens(){this.children.forEach(e=>{e.render&&e.render()})}getComponentsInChildren(e){const t=[],a=[this];for(;a.length>0;){const i=a.shift(),o=i.components.filter(s=>s instanceof e);t.push(...o),a.push(...i.children)}return t}getComponentInChildren(e){const t=[this];for(;t.length>0;){const a=t.shift(),i=a.components.find(o=>o instanceof e);if(i)return i;t.push(...a.children)}}getComponent(e){return this.components.find(t=>t instanceof e)}getComponents(e){return this.components.filter(t=>t instanceof e)}getComponentInChildByName(e,t){const a=[this];for(;a.length>0;){const i=a.shift();if(i.name===e){const o=i.components.find(s=>s instanceof t);if(o)return o}a.push(...i.children)}}getGameObjectInChildren(e){const t=[this];for(;t.length>0;){const a=t.shift();if(a.name===e)return a;t.push(...a.children)}}addComponent(e,t,a=new AssetLoader){const i=new e(this);return i.parseData(a,t),this.components.push(i),i}set localX(e){this._localX=e,this.updateWorldPosition()}get localX(){return this._localX}set localY(e){this._localY=e,this.updateWorldPosition()}get localY(){return this._localY}get cameraX(){return this.useScreenPositionInRender?this.worldX:this.worldX-this.engine.camera.x}get cameraY(){return this.useScreenPositionInRender?this.worldY:this.worldY-this.engine.camera.y}get boundingBox(){const e=[this.worldX,this.worldY],t=[this.measureWidth,this.measureHeight];return[e,vector2Add(e,t)]}get renderOrder(){return this.configRenderLayer===-1?this.parent&&(this._renderLayer=this.parent===this?0:this.parent._renderLayer):this._renderLayer=this.configRenderLayer,this._renderLayer}}class HorizontalLayout{constructor(e,t){r(this,"_root");r(this,"_gravity");r(this,"_padding");var a;this._root=e,this._gravity=t.gravity,this._padding=(a=t.padding)!=null?a:[0,0,0,0]}layout(){let e=0,t=0;this._root.children.forEach(i=>{i.localX=this._padding[3]+e;const[o,s]=i.layout();e+=o,t=Math.max(t,s)});const a=this._root.configHeight===LayoutFitContent?t+this._padding[0]+this._padding[2]:this._root.measureHeight;return this._root.children.forEach(i=>{i.localY=measureLocalPositionByGravity(this._gravity,a,i.measureHeight,[this._padding[0],this._padding[2]])}),[e+this._padding[1]+this._padding[3],t+this._padding[0]+this._padding[2]]}}class VerticalLayout{constructor(e,t){r(this,"_root");r(this,"_gravity");r(this,"_padding");var a;this._root=e,this._gravity=t.gravity,this._padding=(a=t.padding)!=null?a:[0,0,0,0]}layout(){let e=0,t=0;this._root.children.forEach(i=>{i.localY=this._padding[3]+t;const[o,s]=i.layout();t+=s,e=Math.max(e,o)});const a=this._root.configWidth===LayoutFitContent?e+this._padding[1]+this._padding[3]:this._root.measureWidth;return this._root.children.forEach(i=>{i.localX=measureLocalPositionByGravity(this._gravity,a,i.measureWidth,[this._padding[1],this._padding[3]])}),[e+this._padding[1]+this._padding[3],t+this._padding[0]+this._padding[2]]}}const name$9="Loading",width$9="-2",height$9="-2",root$9={x:0,y:0,width:-2,height:-2,active:!0,children:[{x:0,y:0,width:300,height:40,active:!0,pivot:[.5,.5],layoutGravity:["center","center"],components:[]}]},DefaultLoadingSceneData={name:name$9,width:width$9,height:height$9,root:root$9};var SceneLoadType=(n=>(n[n.Replace=0]="Replace",n[n.Addon=1]="Addon",n[n.Global=2]="Global",n))(SceneLoadType||{});const gameScenes=new Map([["loading",DefaultLoadingSceneData]]);function AddGameSceneData(n){n.forEach(e=>{gameScenes.set(e.name,e)})}function GetGameSceneData(n){const e=gameScenes.get(n);if(!e)throw new Error(`Load Scene Data Error: Not Found ${n}`);return e}class SceneManger{constructor(e){r(this,"_currentScene");r(this,"gameScenes",new Map);r(this,"loadingScene");r(this,"_scenes",[]);r(this,"_renderScenes",[]);r(this,"_cacheScenes",[]);r(this,"_loadingScenes",[]);this.engine=e}get loading(){return this._loadingScenes.length>0}init(){this.loadingScene=parseScene(GetGameSceneData("loading"),this.engine)}tick(){this.loading&&(this._loadingScenes=this._loadingScenes.filter(e=>!e.loaded),this.loading&&this.loadingScene&&this.loadingScene.tick()),this.loading||this._renderScenes.forEach(e=>e.tick())}loadScene(e,t){let a=this._cacheScenes.find(i=>e===i.name);if(!a){const i=GetGameSceneData(e);a=parseScene(i,this.engine),this._loadingScenes.push(a)}return a.loadType=t!=null?t:a.loadType,a.loadType===0&&(this._currentScene=a,this._scenes=this._scenes.filter(i=>i.loadType===2)),this._scenes.push(a),this._renderScenes=[...this._scenes],this._renderScenes.sort((i,o)=>i.priority-o.priority),a}unloadScene(e){this._scenes=this._scenes.filter(t=>t.name!==e),this._renderScenes=this._renderScenes.filter(t=>t.name!==e)}get scenes(){return this._scenes}get currentScene(){return this._currentScene}}class Scene{constructor(e="",t,a){r(this,"name","");r(this,"rootObject");r(this,"active",!0);r(this,"enable",!0);r(this,"loaded",!1);r(this,"engine");r(this,"width",-1);r(this,"height",-1);r(this,"isSetCamera",!0);r(this,"bgm");r(this,"isAsync",!1);r(this,"priority",10);r(this,"loadType",SceneLoadType.Replace);r(this,"isMeetEnemy",!1);r(this,"enemies",[]);r(this,"isCave",!1);r(this,"group");this.name=e,this.rootObject=t,this.engine=a}show(){this.isSetCamera&&(this.engine.camera.sceneWidth=this.width===-1?this.engine.renderer.width:this.width,this.engine.camera.sceneHeight=this.height===-1?this.engine.renderer.height:this.height,this.engine.camera.refresh()),this.active=!0}hide(){this.active=!1}awake(){var e;this.group=(e=this.group)!=null?e:this.name,this.rootObject.measureWidth=this.rootObject.configWidth===LayoutMatchParent?this.width:this.rootObject.configWidth===LayoutFitContent?this.engine.renderer.width:this.rootObject.configWidth,this.rootObject.measureHeight=this.rootObject.configHeight===LayoutMatchParent?this.height:this.rootObject.configHeight===LayoutFitContent?this.engine.renderer.height:this.rootObject.configHeight,this.rootObject.layout(),this.rootObject.awake(),this.init()}init(){}start(){this.rootObject.start()}tick(){this.loaded&&this.active&&(this.enable&&this.update(),this.render())}update(){this.loaded&&this.active&&this.enable&&this.rootObject.update()}render(){this.loaded&&this.active&&this.rootObject.render()}}let id=0,assetLoader$1=new AssetLoader;function parseLayout(n,e={type:"AbsoluteLayout"}){if(e.type==="VerticalLayout")return new VerticalLayout(n,e);if(e.type==="HorizontalLayout")return new HorizontalLayout(n,e);if(e.type==="GridLayout"){const t=new GridLayout(n,e);return e.template&&(n.children=[],assetLoader$1.addAssets(n.engine.resource.loadJson(e.template).then(a=>{t.initTemplate(a)}))),t}return new AbsoluteLayout(n)}function parseGameObject(n,e,t){var o,s,h,c,d,l,m,p,u,g,y,f;if(e!==null&&(t=e.engine),t===null)throw new Error("\u89E3\u6790GameObject\u6570\u636E\u5931\u8D25\uFF0C\u672A\u8BBE\u7F6E\u5F15\u64CE");const a=t,i=new GameObject(e,(o=n.name)!=null?o:`GameObject${id++}`,null,a);return i.configLayout=parseLayout(i,n.layout),i.localX=n.x,i.localY=n.y,i.configWidth=n.width,i.configHeight=n.height,i.active=n.active,i.alpha=n.alpha===void 0?1:n.alpha,i.layoutGravity=(s=n.layoutGravity)!=null?s:["left","top"],i.pivot=n.pivot||[0,0],i.useScreenPosition=typeof n.useScreenPosition=="boolean"?n.useScreenPosition:!1,i.useScreenPositionInRender=e!==null&&e.useScreenPositionInRender||i.useScreenPosition,i.configRenderLayer=n.renderLayer===void 0?-1:n.renderLayer,typeof n.background=="string"&&supportSpriteExt(n.background)?i.background.name=n.background:typeof n.background=="object"&&(i.background={name:n.background.sprite,spriteWidth:(h=n.background.spriteWidth)!=null?h:i.background.spriteWidth,spriteHeight:(c=n.background.spriteHeight)!=null?c:i.background.spriteHeight,scaleType:(d=n.background.scaleType)!=null?d:i.background.scaleType,color:(l=n.background.backgroundColor)!=null?l:i.background.color,border:{width:(m=n.background.borderWidth)!=null?m:i.background.border.width,color:(p=n.background.borderColor)!=null?p:i.background.border.color,radius:(u=n.background.radius)!=null?u:i.background.border.radius},rotate:(g=n.background.rotate)!=null?g:0,pivotOffset:(y=n.background.pivotOffset)!=null?y:i.background.pivotOffset,alpha:(f=n.background.alpha)!=null?f:i.background.alpha}),i.background&&i.background.name&&assetLoader$1.addAssets(a.resource.loadSprite(i.background.name).then(v=>i.background.sprite=v)),n.children&&(i.children=n.children.map(v=>parseGameObject(v,i,a))),n.components&&(i.components=n.components.filter(v=>v.type.trim()&&a.componentContainer.has(v.type.trim())).map(v=>{const C=new(a.componentContainer.get(v.type.trim()))(i);return C.parseData(assetLoader$1,v),C}).concat(i.components)),i}const DefaultScenePriority=10;function parseScene(n,e){var a,i,o,s,h,c,d;assetLoader$1=new AssetLoader;const t=new Scene(n.name,parseGameObject(n.root,null,e),e);return t.width=n.width&&n.width>=0?n.width:e.renderer.width,t.height=n.height&&n.height>=0?n.height:e.renderer.height,t.bgm=n.bgm,t.loadType=(a=n.loadType)!=null?a:SceneLoadType.Replace,t.priority=(i=n.priority)!=null?i:DefaultScenePriority,t.isCave=(o=n.isCave)!=null?o:!1,t.isMeetEnemy=(s=n.isMeetEnemy)!=null?s:!1,t.isSetCamera=(h=n.hasCamera)!=null?h:!0,t.enemies=(d=(c=n.enemies)==null?void 0:c.split(",").filter(l=>!!l).map(l=>parseInt(l)))!=null?d:[],t.group=n.group,n.bgm&&assetLoader$1.addAssets(e.resource.loadAudio(n.bgm)),assetLoader$1.assetEvent.register(l=>{l===AssetLoadStatus.SUCCESS&&(t.show(),t.awake(),t.start(),t.loaded=!0)}),assetLoader$1.load(),t}class GridLayout{constructor(e,t,a){r(this,"_root");r(this,"cell");r(this,"row");r(this,"col");r(this,"spacing");r(this,"gravity");r(this,"template");var i;this._root=e,this.cell=t.cell,this.row=t.row,this.col=t.col,this.spacing=(i=t.spacing)!=null?i:[0,0],this.gravity=t.gravity,this.template=a}initTemplate(e){this.template=e,this._root.children=[];for(let t=0;t<this.row*this.col;t++)this._root.children.push(this.parseTemplate(e))}parseTemplate(e){const t=parseGameObject(e,this._root);return t.configWidth===-2&&(t.configWidth=this.cell[0]),t.configHeight===-2&&(t.configHeight=this.cell[1]),t}regenerate(e,t){!this.template||(this.col=t,this.row=e,this.initTemplate(this.template),this._root.layout(),this._root.awakeChildren(),this._root.startChildren())}layout(){const e=this.cell[0],t=this.cell[1],a=this.spacing[0],i=this.spacing[1],o=e+a,s=t+i,h=this._root.children;let c=0;for(let d=0;d<this.row;d++)for(let l=0;l<this.col;l++){const m=l*o,p=d*s;if(c<h.length){const u=h[c],[g,y]=u.layout();u.localX=m+measureLocalPositionByGravity(this.gravity[0],e,g),u.localY=p+measureLocalPositionByGravity(this.gravity[1],t,y),c++}}return[this.col*o-a,this.row*s-i]}}var __defProp$v=Object.defineProperty,__getOwnPropDesc$v=Object.getOwnPropertyDescriptor,__decorateClass$v=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$v(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$v(e,t,i),i},WrapLayoutType=(n=>(n[n.None=0]="None",n[n.Height=1]="Height",n[n.Width=2]="Width",n))(WrapLayoutType||{});let ListComponent=class extends Component{constructor(){super(...arguments);r(this,"_hoverListener",[]);r(this,"_selectListener",[]);r(this,"_cancelListener",[]);r(this,"_isCanSelect",!0);r(this,"_items",[]);r(this,"_adapter");r(this,"_col",1);r(this,"_row",1);r(this,"_wrapLayout",0);r(this,"_wrapLayoutOffset",0);r(this,"_currentIndex",0)}awake(){this._items=this.root.getComponentsInChildren(ListItem),this.getRowAndColfromLayout(),this.setCanSelect(this._isCanSelect)}getRowAndColfromLayout(){this.root.configLayout instanceof GridLayout?(this._col=Math.max(1,this.root.configLayout.col),this._row=Math.max(1,this.root.configLayout.row),this.layout()):(this._row=this._items.length,this._col=1,this._wrapLayout=0)}update(){if(!!this._isCanSelect){if(this.input.isConfirmPressed()&&this.renderLength>0)this._items[this._currentIndex].select(),this.trigger("select");else if(this.input.isCancelPressed())this.trigger("cancel");else if(this.renderLength>0){const e=this.input.getHorizontalValue(DefaultInputCheckDelay),t=this.input.getVerticalValue(DefaultInputCheckDelay);let a=this._currentIndex;(e===1&&(this._currentIndex+e)%this._col!==0&&this._currentIndex<this.renderLength-1||e===-1&&this._currentIndex%this._col!==0)&&(a+=e),this._currentIndex+t*this._col>=0&&this._currentIndex+t*this._col<this.renderLength&&(a+=t*this._col),a!==this._currentIndex&&(this._items[this._currentIndex].unhover(),this.setCursorIndex(a))}}}setCursorIndex(e){this._currentIndex=e,this.refreshHover()}get cursorIndex(){return this._currentIndex}refreshHover(){if(!!this._isCanSelect&&(this._currentIndex=clamp(this._currentIndex,0,this.renderLength-1),this._items.length!==0)){for(let e=0;e<this._items.length;e++)e<this.dataLength&&e===this._currentIndex?this._items[e].hover():this._items[e].unhover();this._currentIndex<this.dataLength&&(this._items[this._currentIndex].hover(),this.trigger("hover"))}}setAdapter(e){this._adapter=e,e.conainer=this,this.refresh()}refresh(e=!0){if(e&&this.layout(),this._adapter){for(let t=0;t<this._items.length;t++)t<this.renderLength?(this._items[t].root.active=!0,this._adapter.getView(this._items[t],this._adapter.getData(t),t)):this._items[t].root.active=!1;this.refreshHover()}}setCanSelect(e){if(!e)for(let t=0;t<this._items.length;t++)this._items[t].unhover();this._isCanSelect=e}layout(){if(this._wrapLayout!==0){const e=this.root.configLayout;this._wrapLayout===1?(this._row=Math.max(1,Math.ceil(this.dataLength/this._col)),e.regenerate(this._row,this._col),this.root.measureHeight+=this._wrapLayoutOffset):(this._col=Math.max(1,Math.ceil(this.dataLength/this._row)),e.regenerate(this._row,this._col),this.root.measureWidth+=this._wrapLayoutOffset),this._items=this.root.getComponentsInChildren(ListItem)}}addHoverListenner(e){this._hoverListener.push(e)}addSelectListener(e){this._selectListener.push(e)}addCancelListener(e){this._cancelListener.push(e)}removeHoverListenner(e){this._hoverListener=this._hoverListener.filter(t=>t!==e)}removeSelectListener(e){this._selectListener=this._selectListener.filter(t=>t!==e)}removeCancelListener(e){this._cancelListener=this._cancelListener.filter(t=>t!==e)}trigger(e){e==="hover"?this._hoverListener.forEach(t=>t(this.currentItem,this._currentIndex)):e==="select"?this._selectListener.forEach(t=>t(this.currentItem,this._currentIndex)):this._cancelListener.forEach(t=>t())}get renderLength(){return Math.min(this._items.length,this.dataLength)}get dataLength(){var e,t;return(t=(e=this._adapter)==null?void 0:e.length)!=null?t:0}get currentItem(){return this._items[this._currentIndex]}adapter(){return this._adapter?this._adapter:void 0}parseData(e,t){var a,i;this._isCanSelect=typeof t.canSelect=="boolean"?t.canSelect:this._isCanSelect,this._wrapLayout=(a=t.wrapLayout)!=null?a:this._wrapLayout,this._wrapLayoutOffset=(i=t.wrapLayoutOffset)!=null?i:this._wrapLayoutOffset}};ListComponent=__decorateClass$v([InnerGameComponent],ListComponent);class ListItem extends Component{constructor(){super(...arguments);r(this,"isCanSelect",!1)}}class Adapter{constructor(e){r(this,"_data",[]);r(this,"conainer");this._data=e}getData(e){return this._data[e]}get length(){return this._data.length}setData(e){var a;const t=this._data.length;this._data=e,(a=this.conainer)==null||a.refresh(t!==e.length)}}class TextAdapter extends Adapter{getView(e,t){e.setKeyText(t.text)}}class KeyValueAdapter extends Adapter{getView(e,t){e.setKeyText(t.key),e.setValueText(t.value)}}var __defProp$u=Object.defineProperty,__getOwnPropDesc$u=Object.getOwnPropertyDescriptor,__decorateClass$u=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$u(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$u(e,t,i),i};let KeyValueItemComponent=class extends ListItem{constructor(){super(...arguments);r(this,"_keyComponent");r(this,"_valueComponent");r(this,"_arrow");r(this,"_arrowCursor")}awake(){this._keyComponent=this.root.children[0].components.find(e=>e instanceof TextComponent),this.root.children.length>2?(this._valueComponent=this.root.children[1].components.find(e=>e instanceof TextComponent),this._arrow=this.root.children[2]):this._arrow=this.root.children[1],this._arrowCursor=this._arrow.getComponent(Cursor$1),this._arrow&&(this._arrow.alpha=0)}setKeyText(e){var t;(t=this._keyComponent)==null||t.setText(e)}setValueText(e){var t;(t=this._valueComponent)==null||t.setText(e)}select(){var e;!this.isCanSelect||!this._arrow||(this._arrow.active=!0,(e=this._arrowCursor)==null||e.setStatus("Selected"))}unselect(){}hover(){var e;!this.isCanSelect||!this._arrow||(this._arrow.active=!0,(e=this._arrowCursor)==null||e.setStatus("Hover"))}unhover(){var e;!this.isCanSelect||!this._arrow||(this._arrow.active=!1,(e=this._arrowCursor)==null||e.setStatus("Unselect"))}parseData(e,t){this.isCanSelect=typeof t.canSelect=="boolean"?t.canSelect:this.isCanSelect}};KeyValueItemComponent=__decorateClass$u([InnerGameComponent],KeyValueItemComponent);var __defProp$t=Object.defineProperty,__getOwnPropDesc$t=Object.getOwnPropertyDescriptor,__decorateClass$t=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$t(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$t(e,t,i),i},ColliderLayerType=(n=>(n[n.Static=1]="Static",n[n.Hero=2]="Hero",n[n.NPC=4]="NPC",n))(ColliderLayerType||{});const ColliderLayerInteraction=new Map([[1,7],[2,5],[4,7]]);function GetColliderLayerInteractive(n,e){var t;return HasType$1((t=ColliderLayerInteraction.get(n))!=null?t:0,e)}class Collider extends Component{constructor(){super(...arguments);r(this,"trigger",!1)}}let BoxCollider=class extends Collider{constructor(){super(...arguments);r(this,"size",[32,32]);r(this,"layer",1)}collider(e,t,a=!1){return this.trigger===a&&this.root.active&&this.active&&GetColliderLayerInteractive(this.layer,t)&&vector2Include(e,[this.worldPosition,vector2Add(this.worldPosition,this.size)])}parseData(e,t){var a;this.size=t.size||this.size,this.layer=t.layer||this.layer,this.trigger=(a=t.trigger)!=null?a:this.trigger}};BoxCollider=__decorateClass$t([InnerGameComponent],BoxCollider);var __defProp$s=Object.defineProperty,__getOwnPropDesc$s=Object.getOwnPropertyDescriptor,__decorateClass$s=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$s(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$s(e,t,i),i};let FadingComponent=class extends Component{constructor(){super(...arguments);r(this,"_animaitonComponent")}async fading({type:e="in",duration:t=1e3,color:a="black"}){if(!!this._animaitonComponent)if(this.background.color=a,this.root.active=!0,t<=0)this.root.active=e==="in";else{const i=new Animation({name:`fadingAnimation-${e}`,auto:!0,duration:t,times:1,reverse:!1,keys:new Map([["backgroundAlpha",e==="out"?[{frame:0,value:1},{frame:30,value:0}]:[{frame:0,value:0},{frame:30,value:1}]]])});this._animaitonComponent.setAnimation(i),await waitUtil(()=>i.isEnd,t,this.engine.time),e==="out"&&(this.root.active=!1)}}async flashing({color:e="red",duration:t=100,times:a=1}){if(!this._animaitonComponent)return;this.background.color=e,this.root.active=!0;const i=new Animation({name:"fadingAnimationFlashing",auto:!0,duration:t,times:a,frameCount:60,keys:new Map([["backgroundAlpha",[{frame:0,value:0},{frame:30,value:1},{frame:60,value:0}]]])});this._animaitonComponent.setAnimation(i),await waitUtil(()=>i.isEnd,t*a*2,this.engine.time),this.root.active=!1}parseData(){this._animaitonComponent=this.root.addComponent(PropertyAnimationComponent$1,{type:"PropetyAnimationComponent",name:"fadingAnimation",auto:!1,keys:{backgroundAlpha:[{frame:0,value:"1"}]}}),this.engine.setVariable(GlobalFadingMarker,this)}};FadingComponent=__decorateClass$s([InnerGameComponent],FadingComponent);class Camera{constructor(e,t){r(this,"x",-1);r(this,"y",-1);r(this,"_width",0);r(this,"_height",0);r(this,"_halfWidth",0);r(this,"_halfHeight",0);r(this,"sceneWidth",4096);r(this,"sceneHeight",4096);r(this,"_previousCenter",[0,0]);this.width=e,this.height=t}moveToCenter(e,t=!0){t&&this._previousCenter[0]===e[0]&&this._previousCenter[1]===e[1]||(this._previousCenter=[...e],this.x=this.width>=this.sceneWidth?this.sceneWidth-this.width>>1:e[0]<=this._halfWidth?0:this._halfWidth+e[0]>=this.sceneWidth?Math.max(0,this.sceneWidth-this.width):e[0]-this._halfWidth,this.y=this.height>=this.sceneHeight?this.sceneHeight-this.height>>1:e[1]<=this._halfHeight?0:this._halfHeight+e[1]>=this.sceneHeight?Math.max(0,this.sceneHeight-this.height):e[1]-this._halfHeight)}refresh(e=[0,0]){this.moveToCenter(e,!1)}set width(e){this._width=e,this._halfWidth=e/2}get width(){return this._width}set height(e){this._height=e,this._halfHeight=e/2}get height(){return this._height}}class AudioManager{constructor(e){r(this,"_bgmAudio");r(this,"_meAudio");r(this,"_seAudio");r(this,"_volume",100);r(this,"_bgmVolume",100);r(this,"_sfxVolume",100);r(this,"resource");this.resource=e}setAudioVolume(e){e==="bgm"&&this._bgmAudio?this._bgmAudio.volume=this._bgmVolume*this._volume/1e4:e==="me"&&this._meAudio?this._meAudio.volume=this._sfxVolume*this._volume/1e4:e==="se"&&this._seAudio&&(this._seAudio.volume=this._sfxVolume*this._volume/1e4)}playBGM(e,t=!0,a=!0){if(!e){this.pauseBGM();return}const i=this.resource.getAudio(e);if(i){if(!t&&i!==this._bgmAudio&&!i.paused)return;this.pause(this._bgmAudio),this._bgmAudio=i,this._bgmAudio.currentTime=0,this.setAudioVolume("bgm"),this._bgmAudio.loop=a,this._bgmAudio.play()}}replayBGM(e=!0){this.setAudioVolume("bgm"),this.replay(this._bgmAudio,e)}pauseBGM(){this.pause(this._bgmAudio)}playME(e,t=!0,a=!1){if(!e){this.pauseME();return}const i=this.resource.getAudio(e);if(i){if(!t&&i===this._meAudio&&!i.paused)return;this.pause(this._meAudio),this._meAudio=i,this._meAudio.currentTime=0,this.setAudioVolume("me"),this._meAudio.loop=a,this._meAudio.play()}}pauseME(){this.pause(this._meAudio)}playSE(e,t=!0,a=!1){if(!e){this.pauseSE();return}const i=this.resource.getAudio(e);if(i){if(!t&&i===this._seAudio&&!i.paused)return;this.pause(this._seAudio),this._seAudio=i,this.setAudioVolume("se"),this._seAudio.currentTime=0,this._seAudio.loop=a,this._seAudio.play()}}pauseSE(){this.pause(this._seAudio)}replay(e,t=!0){e&&(t&&(e.currentTime=0),e.play())}pause(e){e&&e.pause()}get BGMAudio(){return this._bgmAudio}get MEAudio(){return this._meAudio}get SEAudio(){return this._seAudio}set volume(e){this._volume=e,this.setAudioVolume("bgm"),this.setAudioVolume("me"),this.setAudioVolume("se")}get volume(){return this._volume}set bgmVolume(e){this._bgmVolume=e,this.setAudioVolume("bgm")}get bgmVolume(){return this._bgmVolume}set sfxVolume(e){this._sfxVolume=e,this.setAudioVolume("se"),this.setAudioVolume("me")}get sfxVolume(){return this._sfxVolume}}const LanguageSimplifiedChinese="simplified_chinese",DefaultLanguage=LanguageSimplifiedChinese,DefaultSuppoertLanguage=[LanguageSimplifiedChinese];class I18N{constructor(e=DefaultLanguage,t=[DefaultLanguage],a=[],i=""){r(this,"language",DefaultLanguage);r(this,"values",new Map);r(this,"supportLanguages",[DefaultLanguage]);r(this,"events",new EventEmitter);r(this,"prefix","");this.supportLanguages=t,this.prefix=i,this.setLanguageAndEntries(e,a)}async changeLanguage(e){if(this.supportLanguages.indexOf(e)===-1)throw new Error(`i18n Error: \u4E0D\u652F\u6301 ${e}`);const t=await this.loadLanguageEntries(e);this.setLanguageAndEntries(e,t)}async loadLanguageEntries(e,t){return await(t!=null?t:new Resource).loadJson(`i18n/${e}.json`)}setLanguageAndEntries(e,t){if(this.supportLanguages.indexOf(e)===-1)throw new Error(`i18n Error: \u4E0D\u652F\u6301 ${e}`);this.language=e,t.forEach(a=>{a.key&&this.values.set(a.key,a)}),this.events.emit(this)}getEntryValue(e){var a;const t={key:e,value:e};return e.startsWith(this.prefix)&&(a=this.values.get(e))!=null?a:t}getTextValue(e){return this.getEntryValue(e).value}getEntriesByStartWith(e){return e.startsWith(this.prefix)?Array.from(this.values.values()).filter(t=>t.key.startsWith(e)):[]}getEntries(e){return Array.from(this.values.values()).filter(t=>!e||e&&e(t))}}const GlobalTeamControllerMarker="$TeamController",GlobalSceneComponentMarker="$GlobalSceneComponent",GlobalWindowMarker="$GlobalWindow",GlobalFadingMarker="$GlobalFading",GlobalBattleInfo="$GlobalBattleInfo";class Engine{constructor(e,t,a,i,o,s,h,c){r(this,"renderer");r(this,"resource");r(this,"time");r(this,"input");r(this,"camera");r(this,"audios");r(this,"i18n");r(this,"sceneManager");r(this,"componentContainer");r(this,"_globalVariables",new Map);r(this,"_hoosTick");this.renderer=e,this.resource=t,this.audios=a,this.time=i,this.input=o,this.camera=s,this.sceneManager=new SceneManger(this),this.i18n=h,this.componentContainer=new Map([...container,...c])}init(){this.time.init(),this.input.init(),this.sceneManager.init()}run(e){this._hoosTick=e,this.init(),requestAnimationFrame(()=>this.tick())}tick(){var e,t,a,i,o,s,h,c;(e=this._hoosTick)!=null&&e.start&&this._hoosTick.start(this),(t=this._hoosTick)!=null&&t.beforeTime&&this._hoosTick.beforeTime(this),this.time.tick(),(a=this._hoosTick)!=null&&a.afterTime&&this._hoosTick.afterTime(this),(i=this._hoosTick)!=null&&i.beforeInput&&this._hoosTick.beforeInput(this),this.input.tick(),(o=this._hoosTick)!=null&&o.afterInput&&this._hoosTick.afterInput(this),(s=this._hoosTick)!=null&&s.beforeRender&&this._hoosTick.beforeRender(this),this.renderer.render(()=>{this.sceneManager.tick()}),(h=this._hoosTick)!=null&&h.afterRender&&this._hoosTick.afterRender(this),(c=this._hoosTick)!=null&&c.end&&this._hoosTick.end(this),requestAnimationFrame(()=>this.tick())}getVariable(e){const t=this._globalVariables.get(e);if(!t)throw new Error(`Engine get variable error: not find ${e}`);return t}setVariable(e,t){this._globalVariables.set(e,t)}}function createEngine(n={}){var d,l,m,p,u,g,y;const e=(d=n.renderer)!=null?d:new CanvasRenderer("core",n.postProcess||[]),t=(l=n.resources)!=null?l:new Resource,a=new AudioManager(t),i=(m=n.time)!=null?m:new Time,o=(p=n.input)!=null?p:new Input(i),s=(u=n.camera)!=null?u:new Camera(e.width,e.height),h=(g=n.i18n)!=null?g:new I18N,c=(y=n.componentContainer)!=null?y:new Map;return new Engine(e,t,a,i,o,s,h,c)}function useTextPostProcessing(n,e,t=[]){let a=n.trim().replaceAll("{name}",e);return t.forEach(i=>{i[0].trim().length!==0&&(a=a.replaceAll(i[0],i[1]))}),a}class BaseWindow extends Component{async InputConfirmOrCancel(){for(await nextFrame();!this.engine.input.isConfirmPressed()&&!this.engine.input.isCancelPressed();)await nextFrame()}show(e=!0){this.root.active=!0}hide(){this.root.active=!1}interceptCancel(){return!1}}var GlobalEventType=(n=>(n.ChracterStatusChanged="$ChracterStatusChanged",n.GoldChanged="$GoldChanged",n))(GlobalEventType||{});const globalEvents=new Map;function GlobalEventRegisterListener(n,e){let t=globalEvents.get(n);return t||(t=[],globalEvents.set(n,t)),t.push(e),()=>{GlobalEventRemoveListener(n,e)}}function GlobalEventOnce(n,e){const t=(...a)=>{e(a),GlobalEventRemoveListener(n,t)};GlobalEventRegisterListener(n,t)}function GlobalEventRemoveListener(n,e){const t=globalEvents.get(n);if(t){const a=t.indexOf(e);a!=-1&&t.splice(a,1)}}function GlobalEventClear(n){globalEvents.delete(n)}function GlobalEventEmit(n,...e){var a;((a=globalEvents.get(n))!=null?a:[]).forEach(i=>{i(e)})}var __defProp$r=Object.defineProperty,__getOwnPropDesc$r=Object.getOwnPropertyDescriptor,__decorateClass$r=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$r(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$r(e,t,i),i};let CommonStatusWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_nameText");r(this,"_hpText");r(this,"_mpText");r(this,"_lvText")}start(){this._nameText=this.root.getComponentInChildByName("characterName",TextComponent),this._hpText=this.root.getComponentInChildByName("characterHP",TextComponent),this._mpText=this.root.getComponentInChildByName("characterMP",TextComponent),this._lvText=this.root.getComponentInChildByName("characterLV",TextComponent),this.refresh(),GlobalEventRegisterListener(GlobalEventType.ChracterStatusChanged,()=>{this.refresh()})}refresh(){const e=globalGameData.hero;this._nameText.setText(e.name),this._hpText.setText(`${e.HP}`),this._mpText.setText(`${e.MP}`),this._lvText.setText(`${e.lv}`)}};CommonStatusWindow=__decorateClass$r([GameplayComponent],CommonStatusWindow);var __defProp$q=Object.defineProperty,__getOwnPropDesc$q=Object.getOwnPropertyDescriptor,__decorateClass$q=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$q(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$q(e,t,i),i};let CommonGoldWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_goldText")}start(){this._goldText=this.root.getComponentInChildByName("CharacterGold",TextComponent),this.refresh(),GlobalEventRegisterListener(GlobalEventType.GoldChanged,()=>{this.refresh()})}refresh(){var e;(e=this._goldText)==null||e.setText(`${globalGameData.hero.gold}`)}};CommonGoldWindow=__decorateClass$q([GameplayComponent],CommonGoldWindow);var __defProp$p=Object.defineProperty,__getOwnPropDesc$p=Object.getOwnPropertyDescriptor,__decorateClass$p=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$p(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$p(e,t,i),i};let MenuStatusWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_cacheTexts",new Map)}start(){this.refresh()}refresh(){const e=globalGameData.hero;this.setText("characterName",e.name),this.setText("characterHP",e.HP),this.setText("characterMP",e.MP),this.setText("characterLV",e.lv),this.setText("characterWeapon",e.weapon.item.name),this.setText("characterBody",e.body.item.name),this.setText("characterShield",e.shield.item.name),this.setText("characterAccessories",e.accessories.item.name),this.setText("characterPower",e.power),this.setText("characterSpeed",e.speed),this.setText("characterResilience",e.resilience),this.setText("characterMaxHP",e.maxHP),this.setText("characterMaxMP",e.maxMP),this.setText("characterAttack",e.attack),this.setText("characterDefend",e.defend),this.setText("characterExp",e.exp)}setText(e,t){let a=this._cacheTexts.get(e);a||(a=this.root.getComponentInChildByName(e,TextComponent),a&&this._cacheTexts.set(e,a)),a==null||a.setText(`${t}`)}show(e=!0){super.show(e),this.root.active=!0,this.refresh()}};MenuStatusWindow=__decorateClass$p([GameplayComponent],MenuStatusWindow);class ImmunotoxicityBuffer{constructor(){r(this,"owner",0);r(this,"turns",0);r(this,"turnsDownEveryTurn")}execute(){return""}clone(){return new ImmunotoxicityBuffer}}class MoveAddHPBuffer{constructor(e,t=1){r(this,"owner",0);r(this,"turns",0);r(this,"currentStep",0);this.step=e,this.healHP=t}execute(e,t){return e===CommandTriggerWhen.Common&&t===CommandTriggerType.Move&&++this.currentStep>=this.step&&(this.currentStep=0,globalGameData.hero.HP+=this.healHP),""}clone(){return new MoveAddHPBuffer(this.step)}}var ItemType=(n=>(n[n.Weapon=1]="Weapon",n[n.Body=2]="Body",n[n.Shield=4]="Shield",n[n.Accessories=8]="Accessories",n[n.Item=16]="Item",n[n.ImportItem=32]="ImportItem",n[n.Equipment=15]="Equipment",n[n.AllItem=48]="AllItem",n[n.All=63]="All",n))(ItemType||{});function HasType(n,e){return(n&e)>0}class Item{constructor(){r(this,"id",0);r(this,"name","");r(this,"type",16);r(this,"price",0);r(this,"sellPrice",0);r(this,"useCount",1);r(this,"isCanCommonUse",!1);r(this,"isCanBattleUse",!1);r(this,"isCanDiscard",!0);r(this,"useEffects",[]);r(this,"targetIsEnemy",!0);r(this,"useCommonText","");r(this,"useBattleText","");r(this,"buffers",[]);r(this,"capacity",0);r(this,"ability",{attack:0,defend:0})}get isGroup(){return this.capacity>0}get isCanEquip(){return(this.type&15)>0}get isCanSell(){return this.sellPrice>=0}get equipAttack(){return this.isCanEquip?0:this.ability.attack}get equipDefend(){return this.isCanEquip?0:this.ability.defend}get isItem(){return HasType(this.type,16)}get isWeapon(){return HasType(this.type,1)}get isBody(){return HasType(this.type,2)}get isShield(){return HasType(this.type,4)}get isAccessories(){return HasType(this.type,8)}get isEquipment(){return HasType(this.type,15)}get isAllItem(){return HasType(this.type,48)}}function parseItem(n){var t,a,i,o,s;const e=new Item;return e.id=n.id,e.name=n.name,e.type=n.type,e.price=n.price,e.sellPrice=(t=n.sellPrice)!=null?t:n.price>>1,e.isCanDiscard=typeof n.isCanDiscard>"u"?!0:n.isCanDiscard,e.isCanCommonUse=(((a=n.canUse)!=null?a:0)&1)>0,e.isCanBattleUse=(((i=n.canUse)!=null?i:0)&2)>0,e.useCount=typeof n.useCount=="number"?n.useCount:1,e.useCommonText=n.useCommonText||e.useCommonText,e.useBattleText=n.useBattleText||e.useBattleText,e.capacity=(o=n.capacity)!=null?o:e.capacity,n.effect&&n.effect.length>0&&parseEffect((s=n.effect)!=null?s:"",e),e}function parseNumberValue$1(n){const e=n.startsWith("-")?-1:1;(n.startsWith("-")||n.startsWith("+"))&&(n=n.slice(1,n.length));const t=[];let a=CommandCalacuteType.Add;const i=n.split("-");for(let o=0;o<Math.min(i.length,2);o++)if(i[o].endsWith("%")){const s=parseInt(i[o].slice(0,-1),10)/100;t.push(1+e*s),a=CommandCalacuteType.Mul}else{const s=parseInt(i[o]);t.push(e*s)}return[a,t]}function parseEffect(n,e){if(n.trim().length===0)return;n.split(";").filter(a=>a.length>0).map(a=>{const[i,...o]=a.split(":");if(i==="u")return parseUseEffect(n,e);if(i==="e"&&o.length>=2){if(o[0]==="attack")e.ability.attack=parseInt(o[1],10);else if(o[0]==="defend")e.ability.defend=parseInt(o[1],10);else if(o[0]==="buffer"){o[1]==="moveAddHP"?e.buffers.push(new MoveAddHPBuffer(parseInt(o[2]))):o[1]==="immunotoxicity"&&e.buffers.push(new ImmunotoxicityBuffer);return}}})}const DefaultNoneItemSlot={id:0,item:parseItem({id:0,name:"\u65E0",price:0,sellPrice:0,type:15}),isEquip:!1,count:0},DefaultRemoveEquipItemSlot={id:1,item:parseItem({id:1e4,name:"\u5378\u4E0B",price:0,sellPrice:0,type:15}),isEquip:!1,count:0};class Inventory{constructor(e=10){r(this,"_slots",[]);this.capacity=e}addItem(e){typeof e=="number"&&(e=GetItem(e));let t;return e.isGroup&&(t=this.getItemSlotByItemId(e.id),t!==DefaultNoneItemSlot)?(t.count++,t):(t={id:this.generateSlotId(),item:e,count:1,isEquip:!1},this._slots.push(t),this.sort(),t)}hasItem(e){return this._slots.some(t=>t.item.id===e)}getItem(e){return this.getItemSlot(e).item}getItemSlot(e){var t;return(t=this._slots.find(a=>a.id===e))!=null?t:DefaultNoneItemSlot}getItemSlotByItemId(e){var t;return(t=this._slots.find(a=>a.item.id===e))!=null?t:DefaultNoneItemSlot}filterItemType(e){return this._slots.filter(t=>(t.item.type&e)>0)}generateSlotId(){let e=0;do e=Math.floor(Math.random()*1e6)+1e4;while(this._slots.some(t=>t.id===e));return e}removeSlotIndex(e){this._slots.splice(e,1)}removeSlotId(e,t=1){const a=this._slots.findIndex(i=>i.id===e);if(a>=0){const i=this._slots[a];if(i.item.isGroup&&(i.count-=t,i.count>0))return;this.removeSlotIndex(a)}}removeItemId(e,t=1){const a=this._slots.findIndex(i=>i.item.id===e);a>=0&&this.removeSlotId(this._slots[a].id,t)}sort(){this._slots.sort((e,t)=>e.isEquip===t.isEquip?e.item.id-t.item.id:e.isEquip?-1:1)}itemCount(e){return GetItem(e).isGroup?this.getItemSlotByItemId(e).count:this._slots.filter(a=>a.item.id===e).length}isEmpty(){return this._slots.length===0}isFull(e,t=1){const a=this.getItemSlotByItemId(e);return a!==DefaultNoneItemSlot&&a.item.isGroup?a.count+t>a.item.capacity:this._slots.length===this.capacity}all(){return this._slots}weapons(){return this._slots.find(e=>e.item.isWeapon)}bodies(){return this._slots.find(e=>e.item.isBody)}shields(){return this._slots.find(e=>e.item.isShield)}accessories(){return this._slots.find(e=>e.item.isAccessories)}toSaveData(){return this._slots.map(e=>({id:e.id,itemId:e.item.id,count:e.count,isEquip:e.isEquip}))}static parseFromSaveData(e){const t=new Inventory;return t._slots=e.map(a=>({id:a.id,item:GetItem(a.itemId),isEquip:a.isEquip,count:a.count})),t}}var __defProp$o=Object.defineProperty,__getOwnPropDesc$o=Object.getOwnPropertyDescriptor,__decorateClass$o=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$o(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$o(e,t,i),i};let MenuEquipmentWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_leftTopLabelText");r(this,"_leftTopValueText");r(this,"_leftWindow");r(this,"_rightWindow");r(this,"_selectEquip",!0);r(this,"_equipData",[]);r(this,"_itemData",[]);r(this,"_selectItemType",ItemType.Weapon)}start(){const e=this.root.getGameObjectInChildren("menuEquipmentLeftTopWindow");this._leftTopLabelText=e.children[0].components.find(t=>t instanceof TextComponent),this._leftTopValueText=e.children[1].components.find(t=>t instanceof TextComponent),this._leftWindow=this.root.getComponentInChildByName("menuEquipmentLeftWindow",ListComponent),this._rightWindow=this.root.getComponentInChildByName("menuEquipmentRightWindow",ListComponent),this.enable=!1,this._leftWindow.enable=!1,this._rightWindow.enable=!1,this.init()}init(){var a,i,o,s,h,c;this.setSelectEquip(this._selectEquip);const e=new KeyValueAdapter([]);(a=this._leftWindow)==null||a.setAdapter(e),(i=this._leftWindow)==null||i.addHoverListenner((d,l)=>{l===0?this.SetLeftTopKeyAndValue("\u653B",`${this.hero.attack}`):this.SetLeftTopKeyAndValue("\u9632",`${this.hero.defend}`),this._selectItemType=1<<l,this.refreshItemData()}),(o=this._leftWindow)==null||o.addSelectListener(()=>{var d;this.setSelectEquip(!1),(d=this._rightWindow)==null||d.setCursorIndex(0)});const t=new KeyValueAdapter([]);(s=this._rightWindow)==null||s.setAdapter(t),(h=this._rightWindow)==null||h.addHoverListenner((d,l)=>{const{attack:m,defend:p}=this.hero.tryEquipment(this._itemData[l],this._selectItemType);this._selectItemType===ItemType.Weapon?this.SetLeftTopKeyAndValue("\u653B",`${this.hero.attack}\u2192${m}`):this.SetLeftTopKeyAndValue("\u9632",`${this.hero.defend}\u2192${p}`)}),(c=this._rightWindow)==null||c.addSelectListener((d,l)=>{globalGameData.heroEquip(this._itemData[l],this._selectItemType),this.setSelectEquip(!0),this.refreshEquipmentData(),this.refreshItemData()}),this.refreshEquipmentData(),this.refreshItemData()}refreshEquipmentData(){this._equipData.splice(0,this._equipData.length),this._equipData.push(this.hero.weapon,this.hero.body,this.hero.shield,this.hero.accessories);const e=["\u6B66","\u8EAB","\u76FE","\u9970"];this._leftWindow.adapter().setData(this._equipData.map((t,a)=>({key:e[a],value:t.item.name})))}refreshItemData(){this._itemData.splice(0,this._itemData.length),this._itemData.push(...globalGameData.inventory.filterItemType(this._selectItemType),DefaultRemoveEquipItemSlot),this._rightWindow.adapter().setData(this._itemData.map(e=>({key:e.item.name,value:e.isEquip?"E":""})))}SetLeftTopKeyAndValue(e,t){var a,i;(a=this._leftTopLabelText)==null||a.setText(`${e}`),(i=this._leftTopValueText)==null||i.setText(`${t}`)}get hero(){return globalGameData.hero}show(e){var t;super.show(e),this.refreshEquipmentData(),this.refreshItemData(),(t=this._leftWindow)==null||t.setCursorIndex(0),this.setSelectEquip(!0)}update(){var e,t;this._selectEquip?(e=this._leftWindow)==null||e.update():(t=this._rightWindow)==null||t.update()}setSelectEquip(e){var t;this._selectEquip=e,e?(this._leftWindow.refreshHover(),(t=this._rightWindow)==null||t.setCanSelect(!1)):this._rightWindow.setCanSelect(!0)}interceptCancel(){return this._selectEquip?!1:(this.setSelectEquip(!0),!0)}};MenuEquipmentWindow=__decorateClass$o([GameplayComponent],MenuEquipmentWindow);var __defProp$n=Object.defineProperty,__getOwnPropDesc$n=Object.getOwnPropertyDescriptor,__decorateClass$n=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$n(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$n(e,t,i),i};let MenuItemWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_selectWindow");r(this,"_dealWindow");r(this,"_selecting",!0);r(this,"_dealData",[]);r(this,"_itemData",[]);r(this,"_selectedItem")}start(){this._selectWindow=this.root.getComponentInChildByName("menuItemSelectWindow",ListComponent),this._dealWindow=this.root.getComponentInChildByName("menuItemDealWindow",ListComponent),this.enable=!1,this._selectWindow.enable=!1,this._dealWindow.enable=!1,this.init()}init(){var a,i,o,s;this.setSelectItem(this._selecting);const e=new KeyValueAdapter([]);(a=this._selectWindow)==null||a.setAdapter(e),(i=this._selectWindow)==null||i.addSelectListener((h,c)=>{var d,l;this._selectedItem=this._itemData[c],this._selectedItem.item.isCanEquip||this._selectedItem.item.isCanCommonUse||this._selectedItem.item.isCanDiscard?(this.setSelectItem(!1),this.refreshDealData(),(d=this._dealWindow)==null||d.setCursorIndex(0)):(l=this._selectWindow)==null||l.refreshHover()});const t=new TextAdapter([]);(o=this._dealWindow)==null||o.setAdapter(t),(s=this._dealWindow)==null||s.addSelectListener((h,c)=>{if(!this._selectedItem)return;const d=this._dealData[c].command;if(d==="equip")globalGameData.heroEquip(this._selectedItem);else if(d==="removeEquipment")globalGameData.heroEquip(DefaultRemoveEquipItemSlot,this._selectedItem.item.type);else if(d==="discard")globalGameData.inventoryRemoveItemSlotById(this._selectedItem.id),this.setSelectItem(!0),this.refreshItemData();else if(d==="use"){const l=globalGameData.inventory.getItem(this._selectedItem.id),m=l.useEffects.map(p=>p.execute(CommandTriggerWhen.Common,CommandTriggerType.Use)).filter(p=>p.trim().length>0).join(`
`)||l.useCommonText.trim();m.length>0&&message(useTextPostProcessing(m,globalGameData.hero.name),async()=>{globalGameData.inventory.removeSlotId(this._selectedItem.id,this._selectedItem.item.useCount),this.setSelectItem(!0),this.refreshDealData(),this.refreshItemData()})}this.setSelectItem(!0),this.refreshDealData(),this.refreshItemData()}),this.refreshDealData(),this.refreshItemData()}refreshDealData(){this._dealData.splice(0,this._itemData.length),this._selectedItem&&(this._selectedItem.item.isEquipment?this._dealData.push(this._selectedItem.isEquip?{text:"\u5378\u4E0B",command:"removeEquipment"}:{text:"\u88C5\u5907",command:"equip"}):this._selectedItem.item.isCanCommonUse&&this._dealData.push({text:"\u4F7F\u7528",command:"use"}),this._selectedItem.item.isCanDiscard&&this._dealData.push({text:"\u4E22\u5F03",command:"discard"}),this._dealWindow.adapter().setData([...this._dealData]))}refreshItemData(){this._itemData.splice(0,this._itemData.length),this._itemData.push(...globalGameData.inventory.all()),this._selectWindow.adapter().setData(this._itemData.map(e=>({key:e.item.name,value:e.isEquip?"E":e.item.isGroup?e.count.toString():""})))}get hero(){return globalGameData.hero}show(e){var t;super.show(e),this.refreshItemData(),(t=this._selectWindow)==null||t.setCursorIndex(0),this.setSelectItem(!0)}update(){var e,t;this._selecting?(e=this._selectWindow)==null||e.update():(t=this._dealWindow)==null||t.update()}setSelectItem(e){this._selecting=e,e?(this._selectWindow.refreshHover(),this._dealWindow.root.active=!1):this._dealWindow.root.active=!0}interceptCancel(){return this._selecting?!1:(this.setSelectItem(!0),!0)}};MenuItemWindow=__decorateClass$n([GameplayComponent],MenuItemWindow);var __defProp$m=Object.defineProperty,__getOwnPropDesc$m=Object.getOwnPropertyDescriptor,__decorateClass$m=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$m(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$m(e,t,i),i},ShopType=(n=>(n[n.Buy=0]="Buy",n[n.Sell=1]="Sell",n[n.GiveUp=2]="GiveUp",n))(ShopType||{});let ShopWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_selectWindow");r(this,"_itemsWindow");r(this,"_messageWindow");r(this,"_messageLableText");r(this,"_messageNameText");r(this,"_messageValueText");r(this,"_selecting",!0);r(this,"_buyItems",[]);r(this,"_itemData",[]);r(this,"_shopType",1)}start(){this._selectWindow=this.root.getComponentInChildByName("shopSelectWindow",ListComponent),this._itemsWindow=this.root.getComponentInChildByName("shopItemWindow",ListComponent),this._messageWindow=this.root.getGameObjectInChildren("shopMessageWindow"),this._messageLableText=this.root.getComponentInChildByName("shopMessageLabelText",TextComponent),this._messageNameText=this.root.getComponentInChildByName("shopMessageNameText",TextComponent),this._messageValueText=this.root.getComponentInChildByName("shopMessageValueText",TextComponent),this.enable=!1,this._itemsWindow.enable=!1,this._selectWindow.enable=!1,this.init()}init(){var a,i,o,s,h,c;this.setSelect(this._selecting),(a=this._messageNameText)==null||a.setText(this.hero.name);const e=new TextAdapter([{text:"\u8D2D\u4E70"},{text:"\u5356\u51FA"},{text:"\u653E\u5F03"}]);(i=this._selectWindow)==null||i.setAdapter(e),(o=this._selectWindow)==null||o.addSelectListener((d,l)=>{var m;if(l===2){globalGameData.inputType=InputType.Move,this.engine.getVariable(GlobalWindowMarker).popWindow();return}if(l===1&&globalGameData.inventory.isEmpty()){message("\u80CC\u5305\u4E2D\u6CA1\u6709\u7269\u54C1\u53EF\u4EE5\u51FA\u552E");return}this._shopType=l,this.setSelect(!1),this.refreshItemData(),(m=this._itemsWindow)==null||m.setCursorIndex(0)});const t=new KeyValueAdapter([]);(s=this._itemsWindow)==null||s.setAdapter(t),(h=this._itemsWindow)==null||h.addHoverListenner((d,l)=>{var p,u,g,y,f,v;const m=this._itemData[l];if(m.item.isAllItem&&((p=this._messageLableText)==null||p.setText("\u62E5\u6709"),(u=this._messageValueText)==null||u.setText(` ${globalGameData.inventory.itemCount(m.item.id)}`)),m.item.isEquipment){const{attack:C,defend:w}=this.hero.tryEquipment(m);HasType(m.item.type,ItemType.Weapon)?((g=this._messageLableText)==null||g.setText("\u653B"),(y=this._messageValueText)==null||y.setText(`${this.hero.attack}\u2192${C}`)):((f=this._messageLableText)==null||f.setText("\u9632"),(v=this._messageValueText)==null||v.setText(`${this.hero.defend}\u2192${w}`))}}),(c=this._itemsWindow)==null||c.addSelectListener((d,l)=>{var p;const m=this._itemData[l];if(this._shopType===0)if(globalGameData.hero.gold<m.item.price)message(`\u91D1\u989D\u4E0D\u8DB3\uFF0C\u65E0\u6CD5\u8D2D\u4E70 ${m.item.name}`);else if(checkInventoryIsFull(m.item.id))message("\u80CC\u5305\u5DF2\u7ECF\u6EE1\u4E86\uFF0C\u65E0\u6CD5\u88C5\u4E0B\u66F4\u591A\u7269\u54C1\u4E86");else{globalGameData.hero.addGold(-m.item.price);const u=globalGameData.inventory.addItem(m.item.id);if(m.item.isEquipment){const g=this.engine.getVariable(GlobalWindowMarker);g.alert("\u662F\u5426\u7ACB\u5373\u88C5\u5907\uFF1F",y=>{var f;y&&(globalGameData.heroEquip(u),(f=this._itemsWindow)==null||f.refreshHover()),g.popWindow()})}}else this._shopType===1&&m.item.isCanSell&&(globalGameData.inventoryRemoveItemSlotById(m.id),this.hero.addGold(m.item.sellPrice),this.refreshItemData(),globalGameData.inventory.isEmpty()&&this.interceptCancel());(p=this._itemsWindow)==null||p.refreshHover()}),this.refreshItemData()}refreshItemData(){this._itemData.splice(0,this._itemData.length);const e=[];this._shopType===0?(this._itemData.push(...this._buyItems),e.push(...this._itemData.map(t=>({key:`${t.item.name}`,value:`${t.item.price} G`})))):this._shopType===1&&(this._itemData.push(...globalGameData.inventory.all().filter(t=>t.item.isCanSell)),e.push(...this._itemData.map(t=>({key:`${t.item.name} ${t.isEquip?"E":""}`,value:`${t.item.sellPrice} G`})))),this._itemsWindow.adapter().setData(e)}get hero(){return globalGameData.hero}show(e=!0,t=1){var a;super.show(e),this._buyItems=GetShopItems(t).map(i=>({id:0,item:i,isEquip:!1,count:1})),this.refreshItemData(),(a=this._selectWindow)==null||a.setCursorIndex(0),this.setSelect(!0)}update(){var e,t;this._selecting?(e=this._selectWindow)==null||e.update():(t=this._itemsWindow)==null||t.update()}setSelect(e){this._selecting=e,e?(this._itemsWindow.root.active=!1,this._messageWindow.active=!1,this._selectWindow.refreshHover()):(this._itemsWindow.root.active=!0,this._messageWindow.active=!0)}interceptCancel(){return this._selecting?!1:(this.setSelect(!0),!0)}};ShopWindow=__decorateClass$m([GameplayComponent],ShopWindow);var __defProp$l=Object.defineProperty,__getOwnPropDesc$l=Object.getOwnPropertyDescriptor,__decorateClass$l=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$l(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$l(e,t,i),i},AlertStatus=(n=>(n[n.Select=0]="Select",n[n.Yes=1]="Yes",n[n.No=2]="No",n))(AlertStatus||{});let AlertWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_contentText");r(this,"_judgeComponent");r(this,"_status",0);r(this,"_listeners",[])}start(){this._contentText=this.root.getComponentInChildByName("alertContentText",TextComponent),this._judgeComponent=this.root.getComponentInChildByName("alertJudgeComponent",ListComponent),this.enable=!1,this._judgeComponent.enable=!1,this.init()}init(){var a,i,o;(a=this._judgeComponent)==null||a.setAdapter(new TextAdapter([{text:"\u662F"},{text:"\u5426"}]));const e=()=>{this._status=1,this._listeners.forEach(s=>s(!0))},t=()=>{this._status=2,this._listeners.forEach(s=>s(!1))};(i=this._judgeComponent)==null||i.addSelectListener(()=>{this._judgeComponent.cursorIndex===1?t():e()}),(o=this._judgeComponent)==null||o.addCancelListener(t)}update(){var e;(e=this._judgeComponent)==null||e.update()}async select(){var e;for(;this._status===0;)await nextFrame(),(e=this._judgeComponent)==null||e.update();return this._status===1}addListener(e){this._listeners.push(e)}removeListener(e){this._listeners=this._listeners.filter(t=>t!==e)}show(e=!0,t=""){var a,i;super.show(e),this._status=0,(a=this._contentText)==null||a.setText(t),(i=this._judgeComponent)==null||i.setCursorIndex(0)}hide(){super.hide(),this._listeners=[]}};AlertWindow=__decorateClass$l([GameplayComponent],AlertWindow);const Audios={Door:"se/door.mp3",Stairs:"se/stairs.mp3",Menu:"se/menu.mp3",Select:"se/select.mp3",Bump:"se/bump.mp3",Chest:"se/chest.mp3",ImportantItem:"se/important_item.mp3",Type:"se/type.mp3",Save:"se/save.mp3",Inn:"se/inn.mp3",Revive:"se/revive.mp3",Dead:"se/dead.mp3",Magic:"se/magic.mp3",Heal:"se/heal.mp3",Rainbow:"se/rainbow.mp3",Attack:"se/attack.mp3",Damage1:"se/damage1.mp3",Damage2:"se/damage2.mp3",Damage3:"se/damage3.mp3",Victory:"se/victory.mp3",LvUp:"se/lvup.mp3"};function audioInitLoad(n){return Promise.allSettled(Object.values(Audios).map(e=>n.loadAudio(e)))}var __defProp$k=Object.defineProperty,__getOwnPropDesc$k=Object.getOwnPropertyDescriptor,__decorateClass$k=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$k(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$k(e,t,i),i};let MessageWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_isShowingMessage",!1);r(this,"_messageTextWindow");r(this,"_alertWindow");r(this,"_cursor")}start(){this._messageTextWindow=this.root.getComponentInChildren(ScrollTextComponent),this._alertWindow=this.root.getComponentInChildren(AlertWindow),this._cursor=this.root.getComponentInChildren(Cursor$1),this._messageTextWindow.enable=!1,this._alertWindow.enable=!1}async talk(e,t,a=!1,i=!1,o=!0){let s=!0;this.root.active=!0;const h=this._messageTextWindow;return e.length===0&&t.trim().length===0||(e.length!==0&&(e+=":"),this._isShowingMessage=!0,a&&h.clearText(),await h.showTextScroll(t,e,()=>{o&&this.engine.audios.playME(Audios.Type)}),this._cursor.setStatus("Hover"),i?(this._alertWindow.show(),s=await this._alertWindow.select(),this._alertWindow.hide()):await this.InputConfirmOrCancel(),this._cursor.setStatus("Unselect"),a&&await h.scrollClearText(),this._isShowingMessage=!1,delay$1(50).then(()=>{this._isShowingMessage||this.hide()})),s}hide(){this.root.active=!1,this._messageTextWindow.clearText()}clearMessage(){this._messageTextWindow.clearText()}};MessageWindow=__decorateClass$k([GameplayComponent],MessageWindow);class LocalStorage{save(e,t){localStorage.setItem(e,t)}read(e){return localStorage.getItem(e)}remove(e){localStorage.removeItem(e)}clear(){localStorage.clear()}}let storage=new LocalStorage;function setStorage(n){storage=n}const storage$1=storage;class Character{constructor(){r(this,"id",0);r(this,"maxLv",30);r(this,"name","");r(this,"roleId",0);r(this,"lv",1);r(this,"maxHP",15);r(this,"maxMP",0);r(this,"_hp",15);r(this,"_mp",0);r(this,"power",7);r(this,"speed",2);r(this,"resilience",5);r(this,"_gold",120);r(this,"exp",0);r(this,"weaponId",0);r(this,"bodyId",0);r(this,"shieldId",0);r(this,"accessoriesId",0);r(this,"lvsAbility",[]);r(this,"buffers",[]);r(this,"magics",[]);r(this,"magicsId")}get magicsInCommon(){return this.magics.filter(e=>e.isCanCommonUse)}get magicsInBattle(){return this.magics.filter(e=>e.isCanBattleUse)}set HP(e){this._hp=e,this._hp>=this.maxHP?this._hp=this.maxHP:this._hp<0&&(this._hp=0),GlobalEventEmit(GlobalEventType.ChracterStatusChanged,this)}get HP(){return this._hp}set MP(e){this._mp=e,this._mp>=this.maxMP?this._mp=this.maxMP:this._mp<0&&(this._mp=0),GlobalEventEmit(GlobalEventType.ChracterStatusChanged,this)}get MP(){return this._mp}get isDead(){return this._hp<=0}get weapon(){return globalGameData.inventory.getItemSlot(this.weaponId)}get body(){return globalGameData.inventory.getItemSlot(this.bodyId)}get shield(){return globalGameData.inventory.getItemSlot(this.shieldId)}get accessories(){return globalGameData.inventory.getItemSlot(this.accessoriesId)}get attack(){return this.power+this.weapon.item.ability.attack+this.body.item.ability.attack+this.shield.item.ability.attack+this.accessories.item.ability.attack}get defend(){return this.resilience+this.weapon.item.ability.defend+this.body.item.ability.defend+this.shield.item.ability.defend+this.accessories.item.ability.defend}get isImmunotoxicity(){return!!this.buffers.find(e=>e instanceof ImmunotoxicityBuffer)}equip(e,t=ItemType.All){if(t=e.item.type&t,t===0)return;let a=DefaultNoneItemSlot;switch(t){case ItemType.Weapon:a=this.weapon,this.weaponId=e.id;break;case ItemType.Body:a=this.body,this.bodyId=e.id;break;case ItemType.Shield:a=this.shield,this.shieldId=e.id;break;case ItemType.Accessories:a=this.accessories,this.accessoriesId=e.id;break}return a!==DefaultNoneItemSlot&&(a.isEquip=!1,this.buffers=this.buffers.filter(i=>i.owner!==a.id)),e!==DefaultNoneItemSlot&&(e.isEquip=!0,this.buffers.push(...e.item.buffers.map(i=>{const o=i.clone();return o.owner=e.id,o}))),a}tryEquipment(e,t=ItemType.All){t=e.item.type&t;const a=i=>(HasType(t,ItemType.Weapon)?e.item:this.weapon.item).ability[i]+(HasType(t,ItemType.Body)?e.item:this.body.item).ability[i]+(HasType(t,ItemType.Shield)?e.item:this.shield.item).ability[i]+(HasType(t,ItemType.Accessories)?e.item:this.accessories.item).ability[i];return{attack:this.power+a("attack"),defend:this.resilience+a("defend")}}removeEquipment(e){this.weaponId===e&&(this.weaponId=0),this.bodyId===e&&(this.weaponId=0),this.shieldId===e&&(this.shieldId=0),this.accessoriesId===e&&(this.accessoriesId=0)}addGold(e){this.gold+=e}set gold(e){this._gold=clamp(e,0,999999),GlobalEventEmit(GlobalEventType.GoldChanged,this)}get gold(){return this._gold}get nextExp(){var t;if(this.lv>=this.maxLv)return 0;const e=this.lvsAbility.find(a=>a.lv===this.lv+1);return((t=e==null?void 0:e.exp)!=null?t:this.exp)-this.exp}set nextExp(e){}addExp(e){this.exp=Math.min(this.exp+e,65535)}judgeLvUp(){return this.lv<this.maxLv&&this.exp>=this.nextLvExp}get nextLvExp(){var t;const e=this.lvsAbility.find(a=>a.lv===this.lv+1);return(t=e==null?void 0:e.exp)!=null?t:0}lvUp(){var t;if(!this.judgeLvUp()||this.lv>=this.maxLv)return;this.lv++;const e=this.lvsAbility.find(a=>a.lv===this.lv);if(e){for(const a in e)["maxHP","maxMP","power","speed","resilience"].indexOf(a)>=0&&(this[a]+=e[a]);(t=e.magicsId)!=null&&t.length&&this.magics.push(...e.magicsId.map(a=>GetMagic(a)))}return GlobalEventEmit(GlobalEventType.ChracterStatusChanged,this),e}triggerMoveBuffers(){this.buffers.forEach(e=>e.execute(CommandTriggerWhen.Common,CommandTriggerType.Move))}clone(){return Object.assign(new Character,{...this})}toSaveData(){return{id:this.id,roleId:this.roleId,lv:this.lv,maxHP:this.maxHP,maxMP:this.maxMP,_hp:this._hp,_mp:this._mp,power:this.power,speed:this.speed,resilience:this.resilience,_gold:this.gold,exp:this.exp,weaponId:this.weaponId,bodyId:this.bodyId,shieldId:this.shieldId,accessoriesId:this.accessoriesId,magicsId:this.magics.map(e=>e.id)}}}function parseCharacter(n){return Object.assign(new Character,n)}function parseCharacterFromSaveData(n){var t,a;const e=Object.assign(new Character,GetCharacter(n.id).clone(),n);return e.magics=(a=(t=n.magicsId)==null?void 0:t.map(i=>GetMagic(i)))!=null?a:[],e.equip(e.weapon,ItemType.Weapon),e.equip(e.body,ItemType.Body),e.equip(e.shield,ItemType.Shield),e.equip(e.accessories,ItemType.Accessories),e}class SaveData{constructor(){r(this,"teamCharactes",[]);r(this,"npcCharacters",[]);r(this,"inventory",[]);r(this,"inputType",InputType.Move);r(this,"lightRadius",0);r(this,"lightTime",0);r(this,"notMeetEnemyStep",0);r(this,"gameplayTime",0);r(this,"isMeetEnemy",!0);r(this,"isLightInCave",!1);r(this,"entraceTag");r(this,"eventData",[]);r(this,"sceneData")}toSlotText(){return{key:`LV ${this.hero.lv}`,value:timestampToTimeFormat(this.gameplayTime)}}get hero(){return this.teamCharactes[0]}}function generateSaveData(n){const e=new SaveData;return e.teamCharactes=globalGameData.teamCharactes.map(t=>t.toSaveData()),e.npcCharacters=globalGameData.npcCharacters.map(t=>({...t})),e.inventory=globalGameData.inventory.toSaveData(),e.lightRadius=globalGameData.lightRadius,e.lightTime=globalGameData.lightTime,e.notMeetEnemyStep=globalGameData.notMeetEnemyStep,e.gameplayTime=globalGameData.gameplayTime,e.isMeetEnemy=globalGameData.isMeetEnemy,e.isLightInCave=globalGameData.isLightInCave,e.eventData=Array.from(globalGameData.events),e.entraceTag=globalGameData.entraceTag,e.sceneData=n,e}const DefaultMaxSlotNumber=3,SaveSlotPrefix="save_",getSlotName=n=>`${SaveSlotPrefix}_${n}`,serialize=n=>JSON.stringify(n),deserialize=n=>{if(!n)return null;try{return JSON.parse(n)}catch{return null}};function save(n,e){if(n<0&&n>=3)throw new Error("SaveSytem: SlotInde\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E0\u5C0F\u4E8E3");storage$1.save(getSlotName(n),serialize(e))}function load(n){if(n<0&&n>=3)throw new Error("SaveSytem: SlotInde\u5FC5\u987B\u5927\u4E8E\u7B49\u4E8E0\u5C0F\u4E8E3");const e=deserialize(storage$1.read(getSlotName(n)));return e?Object.assign(new SaveData,e):null}function loadSaveDataToGame(n){const e=new GameData;setGlobalGameData(e),e.inventory=Inventory.parseFromSaveData(n.inventory),e.teamCharactes=n.teamCharactes.map(t=>parseCharacterFromSaveData(t)),e.npcCharacters=n.npcCharacters.map(t=>({...t})),e.lightRadius=n.lightRadius,e.lightTime=n.lightTime,e.notMeetEnemyStep=n.notMeetEnemyStep,e.gameplayTime=n.gameplayTime,e.isMeetEnemy=n.isMeetEnemy,e.isLightInCave=n.isLightInCave,e.events=new Set(n.eventData),e.entraceTag=globalGameData.entraceTag}function remove(n){const e=load(n);return storage$1.remove(getSlotName(n)),e}function loadAll(){return Array.from({length:DefaultMaxSlotNumber}).map((n,e)=>load(e))}var __defProp$j=Object.defineProperty,__getOwnPropDesc$j=Object.getOwnPropertyDescriptor,__decorateClass$j=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$j(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$j(e,t,i),i};let SaveWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_listComponent");r(this,"_adapter");r(this,"_saveSlots",[]);r(this,"_action","Save");r(this,"_actionListener")}start(){this._listComponent=this.root.getComponentInChildren(ListComponent),this._listComponent.enable=!1,this.enable=!1,this.init()}init(){this._listComponent&&(this._saveSlots=loadAll(),this._adapter=new KeyValueAdapter(this.getAdapterData()),this._listComponent.setAdapter(this._adapter),this._listComponent.addSelectListener((e,t)=>{let a=null;this._action==="Save"?(a=generateSaveData(this.getSaveSceneData()),save(t,a)):this._action==="Load"?a=load(t):this._action==="Delete"&&(a=remove(t)),a&&(this.audios.playME(Audios.Save),this.refreshList(!0)),this._actionListener&&this._actionListener(a,t)}),this._listComponent.setCursorIndex(0))}getSaveSceneData(){const e=this.engine.getVariable(GlobalTeamControllerMarker);return{sceneName:this.sceneManager.currentScene.name,position:e.headPosition}}getAdapterData(){return this._saveSlots.map(e=>{var t;return(t=e==null?void 0:e.toSlotText())!=null?t:{key:"\u7A7A\u7684\u5B58\u6863",value:""}})}refreshList(e=!1){e&&(this._saveSlots=loadAll()),this._adapter.setData(this.getAdapterData()),this._listComponent.refresh()}setActionListener(e,t){this._action=e,this._actionListener=t}show(e){super.show(e),this.refreshList(!0),this._listComponent.setCursorIndex(0)}update(){var e;(e=this._listComponent)==null||e.update()}};SaveWindow=__decorateClass$j([GameplayComponent],SaveWindow);var __defProp$i=Object.defineProperty,__getOwnPropDesc$i=Object.getOwnPropertyDescriptor,__decorateClass$i=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$i(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$i(e,t,i),i},EventTriggerWhen=(n=>(n[n.Auto=0]="Auto",n[n.Trigger=1]="Trigger",n[n.InteractiveConfirm=2]="InteractiveConfirm",n[n.InteractiveExit=3]="InteractiveExit",n[n.InteractiveEnter=4]="InteractiveEnter",n))(EventTriggerWhen||{});let QuestEvent=class extends Component{constructor(){super(...arguments);r(this,"questId","");r(this,"eventId","");r(this,"when",2);r(this,"args",[]);r(this,"isHideAfterFinish",!1);r(this,"isStartHide",!1);r(this,"priority",10);r(this,"hideEventsId");r(this,"predecessorId",[]);r(this,"predecessorItem",[]);r(this,"isInsertGlobalAfterFinish",!1)}canTrigger(e){return this.questId!=="0"&&!globalGameData.hasEvent(this.eventId)&&this.when===e&&this.predecessorId.every(t=>globalGameData.hasEvent(t))&&this.predecessorItem.every(t=>globalGameData.inventory.hasItem(t))}awake(){this.refresh(),this.root.events.register(({marker:e,questId:t})=>{if(this.questId===t&&e===EventExecuteEndMarker){if(this.isInsertGlobalAfterFinish)return globalGameData.finishEvent(this.eventId);if(this.isHideAfterFinish){const a=this.hideEventsId&&this.hideEventsId.every(i=>globalGameData.hasEvent(generateEventId(i)))||globalGameData.hasEvent(this.eventId);this.root.active=!a}}})}async interactive(){AddExecuteEvent(this),await Execute(this.engine)}refresh(){if(this.isHideAfterFinish&&(globalGameData.hasEvent(this.eventId)||this.hideEventsId&&this.hideEventsId.every(e=>globalGameData.hasEvent(generateEventId(e))))){this.root.active=!1;return}this.isStartHide&&(this.root.active=this.predecessorId.every(e=>globalGameData.hasEvent(e))&&this.predecessorItem.every(e=>globalGameData.inventory.hasItem(e)))}parseData(e,t){var a,i,o;this.questId=t.eventId,this.eventId=generateEventId(t.eventId),this.when=this.parseWhen(t.when),this.args=t.args||[],this.predecessorId=t.predecessorId?t.predecessorId.map(generateEventId):[],this.hideEventsId=t.hideEventsId,this.predecessorItem=t.predecessorItem||[],this.isStartHide=(a=t.hideStart)!=null?a:!1,this.isHideAfterFinish=(i=t.hideAfterFinish)!=null?i:this.isHideAfterFinish,this.isInsertGlobalAfterFinish=(o=t.insertEventTable)!=null?o:this.isInsertGlobalAfterFinish}parseWhen(e){if(e===void 0)return this.when;if(typeof e=="string")switch(e){case"auto":return 0;case"trigger":return 1;case"confirm":return 2;case"enter":return 4;case"exit":return 3;default:throw new Error(`QuestEvent Error: \u672A\u627E\u5230when\u7684\u503C${e}\u3002`)}return e}};QuestEvent=__decorateClass$i([GameplayComponent],QuestEvent);var __defProp$h=Object.defineProperty,__getOwnPropDesc$h=Object.getOwnPropertyDescriptor,__decorateClass$h=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$h(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$h(e,t,i),i};const DefaultTransitionTime=1e3;async function transitionToSceneByTransition(n){const e=n.root.getComponents(QuestEvent).find(t=>t.canTrigger(EventTriggerWhen.InteractiveExit));e&&await e.interactive(),n.entraceTag&&(globalGameData.entraceTag=n.entraceTag),transitionToScene(n.root.engine,n.nextScene,n.tag)}async function transitionToScene(n,e,t){var l;const a=n.sceneManager,i=a.currentScene.isCave,o=a.currentScene.group;let s=a.currentScene;const h=setInputType(InputType.Transition);if((l=a.currentScene.name)!=null?l:e!=="__$$$$__")for(await fading({duration:DefaultTransitionTime,type:"in"}),s=a.loadScene(e,SceneLoadType.Replace);n.sceneManager.loading;)await nextFrame();const c=a.currentScene;c.group!==o?(globalGameData.reinitWhenChangeScene(!0),c.loadType===SceneLoadType.Replace&&c.bgm&&c.engine.audios.playBGM(c.bgm)):globalGameData.reinitWhenChangeScene(i!==c.isCave);const d=n.getVariable(GlobalTeamControllerMarker);if(!t)await fading({duration:DefaultTransitionTime,type:"out"}),setInputType(h);else if(typeof t=="string"){const m=s.rootObject.getComponentsInChildren(SceneTransitionDestination).find(g=>g.tag===t);if(!m)throw new Error(`Transition to next scene error: not find ${e}-${t}`);const p=m;d.moveTo(p.worldPosition,p.direciton,p.isPremutation),await fading({duration:DefaultTransitionTime,type:"out"}),setInputType(h);const u=p.root.getComponents(QuestEvent).find(g=>g.canTrigger(EventTriggerWhen.InteractiveEnter));u&&await u.interactive()}else d.moveTo(t.worldPosition,t.direction,t.isPremutation),await fading({duration:DefaultTransitionTime,type:"out"}),setInputType(h);refreshAndTriggerAutoEvent()}let SceneTransition=class extends Component{constructor(){super(...arguments);r(this,"tag","A");r(this,"nextScene","A");r(this,"playAudio",!0);r(this,"entraceTag")}transitionTo(){this.playAudio&&this.engine.audios.playME(Audios.Stairs),transitionToSceneByTransition(this)}parseData(e,t){var a;this.tag=t.tag,this.nextScene=t.nextScene,this.playAudio=(a=t.playAudio)!=null?a:!0,this.entraceTag=t.entraceTag}};SceneTransition=__decorateClass$h([GameplayComponent],SceneTransition);let SceneTransitionDestination=class extends Component{constructor(){super(...arguments);r(this,"tag","A");r(this,"direciton",Direction.down);r(this,"isPremutation",!1)}parseData(e,t){var a;this.tag=t.tag,this.direciton=parseDirection((a=t.direction)!=null?a:this.direciton),this.isPremutation=typeof t.isPremutation=="boolean"?t.isPremutation:this.isPremutation}};SceneTransitionDestination=__decorateClass$h([GameplayComponent],SceneTransitionDestination);var __defProp$g=Object.defineProperty,__getOwnPropDesc$g=Object.getOwnPropertyDescriptor,__decorateClass$g=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$g(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$g(e,t,i),i};let ConfigWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_listComponent");r(this,"_adapter");r(this,"_slots",[])}start(){this._listComponent=this.root.getComponentInChildren(ListComponent),this._listComponent.enable=!1,this.enable=!1,this.init()}init(){this._listComponent&&(this._slots=[{text:"\u8FD4\u56DE\u6807\u9898"}],this._adapter=new TextAdapter(this._slots),this._listComponent.setAdapter(this._adapter),this._listComponent.addSelectListener((e,t)=>{t===0&&transitionToScene(this.engine,"Logo")}),this._listComponent.setCursorIndex(0))}update(){var e;(e=this._listComponent)==null||e.update()}};ConfigWindow=__decorateClass$g([GameplayComponent],ConfigWindow);var __defProp$f=Object.defineProperty,__getOwnPropDesc$f=Object.getOwnPropertyDescriptor,__decorateClass$f=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$f(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$f(e,t,i),i};let MenuMagicWindow=class extends BaseWindow{constructor(){super(...arguments);r(this,"_selectWindow");r(this,"_mpText");r(this,"_data",[])}start(){this._selectWindow=this.root.getComponentInChildByName("menuMagicSelectWindow",ListComponent),this._mpText=this.root.getComponentInChildByName("menuMagicMPText",TextComponent),this.enable=!1,this._selectWindow.enable=!1,this.init()}init(){this._data=[];const e=new KeyValueAdapter([]);this._selectWindow.setAdapter(e),this._selectWindow.addSelectListener((t,a)=>{const i=this._data[a],o=globalGameData.hero;if(o.MP<i.cost){message(this.engine.i18n.getTextValue("NotEnoughMP"));return}o.MP-=i.cost,audio().playME(Audios.Magic),flashing({duration:400,times:2,color:"#EEEEEE88"});const s=`{name}\u4F7F\u7528\u4E86${i.name}`,h=(i.useCommonTime==="after"?"":i.useInCommon())||i.useCommonText||"";message(useTextPostProcessing(`${s}
${h}`,o.name),async()=>{if(i.useCommonTime==="after"){setInputType(InputType.Move);const c=i.useInCommon();c.length>0&&await message(useTextPostProcessing(c,o.name))}}),this.refreshData()}),this.refreshData()}refreshData(){this._mpText.setText(`${globalGameData.hero.MP} / ${globalGameData.hero.maxMP}`),this._data.splice(0,this._data.length),this._data.push(...globalGameData.hero.magicsInCommon),this._selectWindow.adapter().setData(this._data.map(e=>({key:e.name,value:`${e.cost}`})))}show(e){var t;super.show(e),this.refreshData(),(t=this._selectWindow)==null||t.setCursorIndex(0)}update(){var e;(e=this._selectWindow)==null||e.update()}};MenuMagicWindow=__decorateClass$f([GameplayComponent],MenuMagicWindow);var __defProp$e=Object.defineProperty,__getOwnPropDesc$e=Object.getOwnPropertyDescriptor,__decorateClass$e=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$e(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$e(e,t,i),i},WindowMarker=(n=>(n[n.None=0]="None",n[n.Menu=1]="Menu",n[n.Shop=2]="Shop",n))(WindowMarker||{});let GlobalWindowComponent=class extends Component{constructor(){super(...arguments);r(this,"_messageWindow");r(this,"_menuWindow");r(this,"_commonStatusWindow");r(this,"_commonGoldWindow");r(this,"_menuStatusWindow");r(this,"_menuEquipmentWindow");r(this,"_menuMagicWindow");r(this,"_menuItemWindow");r(this,"_shopWindow");r(this,"_saveWindow");r(this,"_configWindow");r(this,"_alertWindow");r(this,"_windowStack",[]);r(this,"_pressedFrame",0);r(this,"windowMarker",0)}awake(){this._messageWindow=this.root.getComponentInChildByName("messageWindow",MessageWindow),this._menuWindow=new MenuWindow(this.root.getComponentInChildByName("menuWindow",ListComponent),this.root,this),this._commonStatusWindow=this.root.getComponentInChildByName("commonStatusWindow",CommonStatusWindow),this._commonGoldWindow=this.root.getComponentInChildByName("commonGoldWindow",CommonGoldWindow),this._menuStatusWindow=this.root.getComponentInChildByName("menuStatusWindow",MenuStatusWindow),this._menuEquipmentWindow=this.root.getComponentInChildByName("menuEquipmentWindow",MenuEquipmentWindow),this._menuMagicWindow=this.root.getComponentInChildByName("menuMagicWindow",MenuMagicWindow),this._menuItemWindow=this.root.getComponentInChildByName("menuItemWindow",MenuItemWindow),this._shopWindow=this.root.getComponentInChildByName("shopWindow",ShopWindow),this._saveWindow=this.root.getComponentInChildByName("saveWindow",SaveWindow),this._configWindow=this.root.getComponentInChildByName("configWindow",ConfigWindow),this._alertWindow=this.root.getComponentInChildByName("alertWindow",AlertWindow),this.engine.setVariable(GlobalWindowMarker,this),this._menuWindow.awake()}start(){this.menuWindow.start()}showMenu(){var e,t;this.audios.playSE(Audios.Menu),this.windowMarker=1,this._pressedFrame=this.time.currentFrame,this.menuWindow.show(),(e=this._commonStatusWindow)==null||e.show(),(t=this._commonGoldWindow)==null||t.show(),this._windowStack.push(this.menuWindow)}hideMenu(){var e,t;(e=this._commonGoldWindow)==null||e.hide(),(t=this._commonStatusWindow)==null||t.hide(),this.menuWindow.hide(),this._windowStack=[]}showShop(e){var t;this.windowMarker=2,this._pressedFrame=this.time.currentFrame,(t=this._commonGoldWindow)==null||t.show(),this._shopWindow.show(!0,e),this._windowStack.push(this._shopWindow)}showGold(e=!0){var t,a;e?(t=this._commonGoldWindow)==null||t.show():(a=this._commonGoldWindow)==null||a.hide()}alert(e,t){this._pressedFrame=this.time.currentFrame,this._alertWindow.addListener(t),this._alertWindow.show(!0,e),this._windowStack.push(this._alertWindow)}pushWindow(e){const t=e instanceof BaseWindow?e:e==="status"?this._menuStatusWindow:e==="equip"?this._menuEquipmentWindow:e==="item"?this._menuItemWindow:e==="magic"?this._menuMagicWindow:e==="save"?this._saveWindow:e==="config"?this._configWindow:void 0;t&&(t.show(),this._windowStack.push(t))}popWindow(){var t;const e=this._windowStack.pop();e==null||e.hide(),this.activeWindow?(t=this.activeWindow)==null||t.show(!1):(globalGameData.inputType=InputType.Move,this.hideMenu(),this.windowMarker=0)}clearWindows(){this._windowStack.forEach(e=>{e.hide()}),this._windowStack.splice(0,this._windowStack.length),this.hideMenu(),this.windowMarker=0}update(){var e,t;globalGameData.inputType!==InputType.Menu||this.time.currentFrame===this._pressedFrame||(this.input.isCancelPressed()?(e=this.activeWindow)!=null&&e.interceptCancel()||this.popWindow():(this.input.isConfirmPressed()&&this.audios.playSE(Audios.Select),(t=this.activeWindow)==null||t.update()))}get activeWindow(){return this._windowStack.length>0?this._windowStack[this._windowStack.length-1]:void 0}get messageWindow(){return this._messageWindow}get menuWindow(){return this._menuWindow}};GlobalWindowComponent=__decorateClass$e([GameplayComponent],GlobalWindowComponent);class MenuWindow extends BaseWindow{constructor(t,a,i){super(a);r(this,"menuCommands",[{text:"\u88C5\u5907",name:"equip"},{text:"\u72B6\u6001",name:"status"},{text:"\u9053\u5177",name:"item"},{text:"\u5492\u8BED",name:"magic"},{text:"\u5B58\u6863",name:"save"},{text:"\u8BBE\u7F6E",name:"config"}]);this._menuWindow=t,this._windowStack=i,this._menuWindow.enable=!1}start(){const t=new TextAdapter(this.menuCommands);this._menuWindow.setAdapter(t),this._menuWindow.addSelectListener((a,i)=>{this._windowStack.pushWindow(this.menuCommands[i].name)})}show(t=!0){this._menuWindow.root.active=!0,t&&this._menuWindow.setCursorIndex(0),this._menuWindow.refreshHover()}hide(){this._menuWindow.root.active=!1}update(){this._menuWindow.update()}}const SleepBufferMaker=Symbol("Sleep"),SealingMagicBufferMaker=Symbol("SealingMagic");class MarkerBuffer{constructor(e,t){r(this,"owner",0);this.marker=e,this.turns=t}execute(e,t,...a){}turnsDownEveryTurn(){if(this.turns>=0&&(this.turns=Math.max(0,this.turns-1),this.turns===0)){if(this.marker===SleepBufferMaker)return"\u82CF\u9192\u8FC7\u6765\u4E86";if(this.marker===SealingMagicBufferMaker)return"\u5C01\u5492\u6548\u679C\u6D88\u5931\u4E86"}return""}clone(e=!0){return new MarkerBuffer(this.marker,this.turns)}}class BattleCharacter{constructor(e,t=!0){r(this,"_buffers",[]);r(this,"isHero");r(this,"spriteWidth",60);r(this,"spriteHeight",60);r(this,"pivotOffset",[0,0]);this.character=e,this._buffers=[...e.buffers],this.isHero=t}get lv(){return this.character.lv}get name(){return this.character.name}get maxHP(){return this.character.maxHP}get maxMP(){return this.character.maxMP}set HP(e){this.character.HP=e}get HP(){return this.character.HP}set MP(e){this.character.MP=e}get MP(){return this.character.MP}get attack(){return this.character.attack}get defend(){return this.character.defend}get speed(){return this.character.speed}get isSleep(){return this._buffers.some(e=>e instanceof MarkerBuffer&&e.marker===SleepBufferMaker)}get isSealingMagic(){return this._buffers.some(e=>e instanceof MarkerBuffer&&e.marker===SealingMagicBufferMaker)}get magics(){return this.character.magicsInBattle}get buffers(){return this._buffers}addBuffer(e){this._buffers.push(e)}calcBufferEveryTurn(){const e=this._buffers.map(t=>t.turnsDownEveryTurn&&t.turnsDownEveryTurn()||"").filter(t=>t.trim().length>0).join(`
`);return this._buffers=this._buffers.filter(t=>t.turns!==0),e.length>0?this.name+e:""}}var BattleCharacterCommand=(n=>(n[n.Attack=0]="Attack",n[n.Magic=1]="Magic",n[n.Item=2]="Item",n[n.Escape=3]="Escape",n[n.NotDo=4]="NotDo",n))(BattleCharacterCommand||{});const DefaultBattleCommand={command:0,commandArgs:[]};class ExecuteCommand{constructor(e,t,a,i,o,s=!0){this.engine=e,this.ui=t,this.data=a,this.args=i,this.character=o,this.targetIsEnemy=s}get target(){return this.targetIsEnemy&&this.character===this.data.hero||!this.targetIsEnemy&&this.character===this.data.enemy?this.data.enemy:this.data.hero}async execute(){}}class HeroBattleCharacter extends BattleCharacter{async getCommand(e,t){return this.isSleep?DefaultBattleCommand:await t.selectCommand()}}class EnemyBattleCharacter extends BattleCharacter{constructor(t,a,i=!0){super(t,i);r(this,"AICommand");r(this,"executingAICommand");this.character=t,this.AICommand=a}async getCommand(){if(this.isSleep)return DefaultBattleCommand;let t=this.tryFindNextCommand();for(;(t.isSelectType()||t.isSequenceType())&&t.nodes.length>0;)if(t.isSequenceType())t=t.nodes[0];else if(t.isSelectType()){const a=t.nodes.reduce((o,s)=>o+s.percentage,0),i=Math.floor(Math.random()*a);t=t.nodes.reduce((o,s)=>o.v<0?o:{v:o.v-s.percentage,k:s},{v:i,k:t.nodes[0]}).k}return this.executingAICommand=t,this.parseAICommand()}tryFindNextCommand(){var a;if(!this.executingAICommand)return this.AICommand;let t=this.executingAICommand;for(;t;){if(((a=t.parentNode)==null?void 0:a.isSequenceType())&&t.nextNode)return t.nextNode;t=t.parentNode}return t||this.AICommand}parseAICommand(){if(this.executingAICommand){if(this.executingAICommand.type==="attack")return{command:BattleCharacterCommand.Attack,commandArgs:[]};if(this.executingAICommand.type==="magic"){const t=GetMagic(parseInt(`${this.executingAICommand.value}`,10));return t.cost<=this.MP?{command:BattleCharacterCommand.Magic,commandArgs:[t]}:{command:BattleCharacterCommand.Attack,commandArgs:[]}}}return{command:BattleCharacterCommand.NotDo,commandArgs:[]}}}class EnemyAICommand{constructor(e,t=0,a=100){r(this,"type");r(this,"value",0);r(this,"percentage",100);r(this,"nodes",[]);r(this,"parentNode");r(this,"nextNode");this.type=e,this.value=t,this.percentage=a}isSequenceType(){return this.type==="sequence"}isSelectType(){return this.type==="select"}}function parseAICommand({type:n,value:e,percentage:t,nodes:a=[]}){const i=new EnemyAICommand(n,e,t);let o;return i.nodes=a.map(s=>{const h=parseAICommand(s);return h.parentNode=i,o&&(o.nextNode=h),o=h,h}),i}var BattleFinishStatus=(n=>(n[n.Pending=0]="Pending",n[n.Event=1]="Event",n[n.Escape=2]="Escape",n[n.Victory=3]="Victory",n[n.Faield=4]="Faield",n))(BattleFinishStatus||{}),BattleEscapeMarker=(n=>(n[n.None=0]="None",n[n.Success=1]="Success",n[n.Failed=2]="Failed",n))(BattleEscapeMarker||{});function GenerateBattleInfo(n){var a,i,o,s;const e=GetEnemyData(n);return(a=e.HP)!=null||(e.HP=e.maxHP),(i=e.MP)!=null||(e.MP=e.maxMP),{enemy:new EnemyBattleCharacter(parseCharacter(e),parseAICommand(e.AI),!1),gold:e.gold,exp:e.exp,monsterSprite:{width:(o=e.spriteWidth)!=null?o:120,height:(s=e.spriteHeight)!=null?s:120,pivotOffset:e.spritePivotOffset}}}class BattleData{constructor(e,t,a){r(this,"escapeMarker",0);this.info=e,this.hero=t,this.enemy=a}get isVictory(){return this.enemy.character.isDead}get isFailed(){return this.hero.character.isDead}get isEscape(){return this.escapeMarker===1}get isFinish(){return this.hero.character.isDead||this.enemy.character.isDead||this.isEscape}setEscape(e){e&&(this.escapeMarker=1)}buffersTurnDown(){return[this.hero.calcBufferEveryTurn(),this.enemy.calcBufferEveryTurn()]}}var __defProp$d=Object.defineProperty,__getOwnPropDesc$d=Object.getOwnPropertyDescriptor,__decorateClass$d=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$d(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$d(e,t,i),i};const DefaultMoveSpeed$1=32,DefaultMoveWaitTime=[2e3,4e3],DefaultPathData={type:"random",centerCoord:[0,0],radius:2,scope:[[-2,-2],[2,2]]};let NPCControllerComponent=class extends MoveComponent$1{constructor(){super(...arguments);r(this,"moveSpeed",DefaultMoveSpeed$1);r(this,"moveWaitTime",2e3);r(this,"configMoveWaitTime",DefaultMoveWaitTime);r(this,"path",{...DefaultPathData});r(this,"isTalking",!1);r(this,"isMoving",!1);r(this,"moveState",{...DefaultMoveState,pathIndex:0,reverse:!1});r(this,"_moveDelta",0)}start(){super.start(),this.root.events.register(({marker:e})=>{e===EventExecuteStartMarker?this.talk():e===EventExecuteEndMarker&&(this.isTalking=!1)})}update(){!this.inited||(this.moveSpeed>0&&!this.isTalking&&this.move(),super.update())}findNextCoord(){if(this.path.type==="random"){const e=random(4),t=vector2Add(this.moveState.targetCoord,DirectionToCoord.get(e));return vector2Include(t,this.path.scope)&&checkNextCoordCanMove(t,this.engine,ColliderLayerType.NPC)?[t,e]:[this.moveState.targetCoord,Direction.none]}else{const e=this.path;if(e.datas.length===0)return[this.moveState.coord,Direction.none];if(e.datas.length===1)return[e.datas[0],Direction.none];this.moveState.targetCoord[0]===e.datas[this.moveState.pathIndex][0]&&this.moveState.targetCoord[1]===e.datas[this.moveState.pathIndex][1]&&(this.moveState.pathIndex===0&&this.moveState.reverse&&e.reverse?this.moveState.reverse=!1:this.moveState.pathIndex===e.datas.length-1&&!this.moveState.reverse&&e.reverse&&(this.moveState.reverse=!0),this.moveState.reverse?this.moveState.pathIndex--:this.moveState.pathIndex++,this.moveState.pathIndex=this.moveState.pathIndex%e.datas.length);const t=e.datas[this.moveState.pathIndex],a=getDirectionByCoord(vector2Minus(t,this.moveState.targetCoord)),i=nextCoordByDirection(this.moveState.targetCoord,a);return checkNextCoordCanMove(i,this.engine,ColliderLayerType.NPC)?[i,a]:[this.moveState.targetCoord,Direction.none]}}move(){if(!this.isMoving){if(this._moveDelta+=this.time.scaleDeltaTime,this._moveDelta<this.moveWaitTime)return;this.moveWaitTime=range(this.configMoveWaitTime),this._moveDelta=0;const[e,t]=this.findNextCoord();t!==Direction.none&&(this.moveState.targetCoord=e,this.moveState.targetPosition=CoordToPosition(e),this.moveState.direction=t,this.direction=t,this.refreshAnimationSprite(),this.isMoving=!0)}if(this.isMoving){const e=distance(this.moveState.position,this.moveState.targetPosition),t=this.moveSpeed*this.time.scaleDeltaTime/1e3;e<=t?(this.moveState.coord=this.moveState.targetCoord,this.moveState.position=this.moveState.targetPosition,this.isMoving=!1):this.moveState.position=lerpVector2(this.moveState.position,this.moveState.targetPosition,t),this.localPosition=this.moveState.position}}async smoothMoveToCoord(e,t=!0){const a=t?vector2Add(this.moveState.targetCoord,e):e,i=getDirectionByCoord(vector2Minus(a,this.moveState.targetCoord));this.moveState.targetCoord=a,this.moveState.targetPosition=CoordToPosition(a),this.moveState.direction=i,this.direction=i,this.refreshAnimationSprite();const o=this.moveSpeed;for(this.moveSpeed<=0&&(this.moveSpeed=DefaultMoveSpeed$1),this.isMoving=!0;this.isMoving;)this.move(),await nextFrame();this.moveSpeed=o}moveToCoord(e,t,a=!0){const i=a?vector2Add(this.moveState.targetCoord,e):e;this.localPosition=this.moveState.targetPosition=this.moveState.position=CoordToPosition(i),this.moveState.coord=this.moveState.targetCoord=i,this.moveState.targetPosition=this.moveState.position,this.direction=this.moveState.direction=t,this.refreshAnimationSprite()}initMoveState(e){this.moveState.coord=this.moveState.targetCoord=e,this.moveState.position=this.moveState.targetPosition=CoordToPosition(this.moveState.coord),this.localPosition=this.moveState.position}talk(){this.isTalking=!0;const e=this.engine.getVariable(GlobalTeamControllerMarker);this.direction=oppsiteDirection(e.headDirection),this.refreshAnimationSprite()}parseData(e,t){var a,i,o,s,h;if(super.parseData(e,t),this.moveSpeed=(a=t.moveSpeed)!=null?a:this.moveSpeed,this.configMoveWaitTime=typeof t.moveWaitTime>"u"?this.configMoveWaitTime:typeof t.moveWaitTime=="number"?[t.moveWaitTime,t.moveWaitTime]:t.moveWaitTime,this.moveWaitTime=range(this.configMoveWaitTime),t.path){if(t.path.type==="random"){const c=t.path,d=this.path;d.radius=(i=c.radius)!=null?i:d.radius,d.centerCoord=(o=c.centerCoord)!=null?o:PositionToCoord(this.worldPosition),d.scope=(s=c.scope)!=null?s:[vector2Minus(d.centerCoord,[d.radius,d.radius]),vector2Add(d.centerCoord,[d.radius,d.radius])],this.initMoveState(d.centerCoord)}else if(t.path.type==="fixed"){const c={...t.path},d=PositionToCoord(this.worldPosition);c.datas.length>0?(c.datas=c.datas.map(l=>vector2Add(l,d)),this.initMoveState(c.datas[0])):this.initMoveState(d),this.path={...c}}}else this.initMoveState(PositionToCoord(this.worldPosition));this.root.addComponent(BoxCollider,{size:(h=t.colliderSize)!=null?h:[DefalutMoveTileWidth,DefaultMoveTileHeight],layer:ColliderLayerType.NPC})}};NPCControllerComponent=__decorateClass$d([GameplayComponent],NPCControllerComponent);const gameEvents=new Map;function GetGameEventScript(n){const e=gameEvents.get(generateEventId(n));if(!e)throw new Error(`GetGameEventScript Error: not found ${n}`);return e}function AddGameEvent(n,e){gameEvents.set(generateEventId(n),e)}function SetGameEventScript(n){for(const e in n)gameEvents.set(generateEventId(e),n[e])}var EventStatus=(n=>(n[n.Pending=0]="Pending",n[n.Executing=1]="Executing",n[n.Finish=2]="Finish",n[n.Cancel=3]="Cancel",n))(EventStatus||{});let executingEngine=null;const eventQueue=[];let executingEvent=null,executingEventStatus=0;function setEventEngine(n){executingEngine=n}function getEventEngine(){return executingEngine}function generateEventId(n){return generateId(n,"e_")}function generateMapChestId(n){return generateId(n,"c_")}function generateDoorId(n){return generateId(n,"d_")}function generateId(n,e){return typeof n=="string"&&n.startsWith(e)?n:`${e}${n}`}function AddExecuteEvent(n){eventQueue.push(n),eventQueue.sort((e,t)=>e.priority-t.priority)}const EventExecuteStartMarker=Symbol("EventExecuteStartMarker"),EventExecuteEndMarker=Symbol("EventExecuteEndMaker");let isExecuting=!1;async function Execute(engine){if(!isExecuting){for(isExecuting=!0,executingEngine=engine,executingEventStatus=0;eventQueue.length>0;){executingEvent=eventQueue.pop(),executingEvent.root.events.emit({marker:EventExecuteStartMarker,questId:executingEvent.questId});const eventScript=GetGameEventScript(executingEvent.eventId);for(executingEventStatus=1,eval(eventScript);!isExecutingEventFinishOrCancel();)await nextFrame();executingEvent.root.events.emit({marker:EventExecuteEndMarker,questId:executingEvent.questId}),refreshAndTriggerAutoEvent()}isExecuting=!1}}function isExecutingEventFinishOrCancel(){return executingEventStatus===2||executingEventStatus===3}async function task(n){const e=globalGameData.inputType;globalGameData.inputType=InputType.Task,await nextFrame(),await n(executingEvent),executingEventStatus=2,globalGameData.inputType=e}async function talkWithArgs({characterName:n,text:e,clear:t=!1,select:a=!1,callback:i,playTypeAudio:o=!0,textArgs:s}){const h=executingEngine.getVariable(GlobalWindowMarker),c=setInputType(InputType.Message),d=await h.messageWindow.talk(generateMessageText(n),generateMessageText(e,s),t,a,o);return i&&await i(),setInputType(c),d}async function talk(n,e,t=!1,a=!1,i=!0,o){const s=executingEngine.getVariable(GlobalWindowMarker),h=setInputType(InputType.Message),c=await s.messageWindow.talk(generateMessageText(n),generateMessageText(e),t,a,i);return o&&await o(),setInputType(h),c}async function message(n,e){await talk("",n,!0,!1,!1,e)}let _isBattleStatus=BattleFinishStatus.Pending;async function battleInScene(){const n=currentScene().enemies,e=n.length>0?n[Math.floor(Math.random()*n.length)]:1;await battle(e)}async function battle(n,e=!0){const t=setInputType(InputType.Battle),a=GenerateBattleInfo(n);for(executingEngine.setVariable(GlobalBattleInfo,a),executingEngine.sceneManager.loadScene("Battle"),_isBattleStatus=BattleFinishStatus.Pending;e&&_isBattleStatus===BattleFinishStatus.Pending;)await nextFrame();executingEngine.sceneManager.unloadScene("Battle"),setInputType(t),checkBattleIsFailed()?transitionToScene(executingEngine,"TantegelCastle2","RebornPoint").then(()=>{audio().playBGM(currentScene().bgm)}):audio().playBGM(currentScene().bgm)}function checkBattleIsFailed(){return _isBattleStatus===BattleFinishStatus.Faield}async function setBattleFinishStatus(n){_isBattleStatus=n}async function shop(n){const e=executingEngine.getVariable(GlobalWindowMarker),t=setInputType(InputType.Menu);for(await e.showShop(n);e.windowMarker===WindowMarker.Shop;)await nextFrame();setInputType(t)}function heroName(){return globalGameData.hero.name}function finishCurrentEvent(){return globalGameData.finishEvent(executingEvent.eventId)}function lightCave(n,e){executingEngine.sceneManager.currentScene.isCave&&globalGameData.light(n,e)}let meetEnemyStep=0;const meetEnemyRatio=10;function checkMeetEnemy(){if(globalGameData.notMeetEnemyStep>0)globalGameData.notMeetEnemyStep--;else if(isMeetEnemy()){if(meetEnemyStep++,meetEnemyStep>30){const n=Math.min(meetEnemyStep,meetEnemyRatio),e=Math.random()*100<n;return e&&(meetEnemyStep=0),e}else if(meetEnemyRatio>90)return meetEnemyStep=0,!0}return!1}function isMeetEnemy(){return currentScene().isMeetEnemy&&globalGameData.isMeetEnemy}function currentScene(){return executingEngine.sceneManager.currentScene}function generateMessageText(n,e){return useTextPostProcessing(executingEngine.i18n.getTextValue(n),heroName(),e)}async function ExecuteCommands(n,e){executingEvent=n;const t=e.split(";").filter(a=>a.length>0);for(const a of t){const[i,...o]=a.split(":").map(s=>s.trim());if(i==="HealHP")o.length>0?healHP(parseInt(o[0])):healHP();else if(i==="HealMP")o.length>0?healMP(parseInt(o[0])):healMP();else if(i==="AddItem"){const s=o.map(h=>globalGameData.inventory.addItem(+h).item.name);await message(`\u83B7\u5F97\u4E86${s.join("\u3001")}`)}else i==="AddGold"&&(hero().gold+=parseInt(o[0]))}}function healHP(n){n=n!=null?n:hero().maxHP,hero().HP=n}function healMP(n){n=n!=null?n:hero().maxMP,hero().MP=n}function rest(){healHP(),healMP()}function hero(){return globalGameData.hero}async function checkDeadToInit(){hero().isDead&&(setInputType(InputType.Transition),executingEngine.audios.playBGM(Audios.Dead,!0,!1),await delay(3e3),await transitionToScene(executingEngine,"Title"))}const delay=delay$1;async function fading(n){const e=executingEngine==null?void 0:executingEngine.getVariable(GlobalFadingMarker);e&&await e.fading(n)}async function flashing(n){const e=executingEngine==null?void 0:executingEngine.getVariable(GlobalFadingMarker);e&&await e.flashing(n)}function showGoldWindow(n=!0){executingEngine.getVariable(GlobalWindowMarker).showGold(n)}function setInputType(n){const e=globalGameData.inputType;return globalGameData.inputType=n,e}function refreshAndTriggerAutoEvent(){try{executingEngine.getVariable(GlobalSceneComponentMarker).refreshAndTriggerAutoEvent()}catch{}}function getQuestNPC(n){return n?currentScene().rootObject.getComponentInChildByName(n,NPCControllerComponent):executingEvent.root.getComponent(NPCControllerComponent)}function getGameObject(n){return currentScene().rootObject.getGameObjectInChildren(n)}function hasQuestEvents(...n){return n.every(e=>globalGameData.hasEvent(generateEventId(e)))}function finishQuestEvents(...n){n.forEach(e=>globalGameData.finishEvent(generateEventId(e)))}function removeQuestEvents(...n){n.forEach(e=>globalGameData.removeEvent(generateEventId(e)))}function hasItems(...n){return n.every(e=>globalGameData.inventory.hasItem(e))}function checkInventoryIsFull(n,e=1){return globalGameData.inventory.isFull(n,e)}function addItems(...n){return n.map(e=>globalGameData.inventory.addItem(e).item.name)}function removeItems(...n){n.forEach(e=>globalGameData.inventory.removeItemId(e))}function audio(){return executingEngine.audios}function changeHeroRoleId(n){hero().roleId=n,executingEngine.getVariable(GlobalTeamControllerMarker).initTeam()}function headCoord(){return executingEngine.getVariable(GlobalTeamControllerMarker).headCoord}async function transitionTo(n,e){await transitionToScene(executingEngine,n,e)}function globalWindow(){return executingEngine.getVariable(GlobalWindowMarker)}function teamController(){return executingEngine.getVariable(GlobalTeamControllerMarker)}class BackHomeEffect{constructor(){r(this,"owner",0);r(this,"turns",0);r(this,"turnsDownEveryTurn")}execute(e,t){return e===CommandTriggerWhen.Common&&t===CommandTriggerType.Use&&(getEventEngine().getVariable(GlobalWindowMarker).clearWindows(),transitionToScene(getEventEngine(),"World","TantegelCastle")),""}clone(){return new BackHomeEffect}}class ValueBuffer{constructor(e,t,a,i=!0,o=-1){r(this,"owner",0);this.value=e,this.calcType=t,this.triggerType=a,this.targetIsSelf=i,this.turns=o}execute(e,t,...a){const i=a[1];if(e===CommandTriggerWhen.Battle&&t===this.triggerType)switch(this.calcType){case CommandCalacuteType.Add:return i+this.value;case CommandCalacuteType.Mul:return i*this.value}return i}clone(e=!0){return Object.assign(new ValueBuffer(this.value,this.calcType,this.triggerType,this.targetIsSelf))}}class DamageEffect{constructor(e,t,a){this.when=e,this.type=t,this.values=a}execute(e,t,...a){if((e&this.when)>0&&t===this.type){const i=a[0],o=a[1];let s=range(this.values);return i.buffers.filter(h=>h instanceof ValueBuffer&&h.targetIsSelf).forEach(h=>{s=h.execute(e,t,s)}),o.buffers.filter(h=>h instanceof ValueBuffer&&!h.targetIsSelf).forEach(h=>{s=h.execute(e,t,s)}),audio().playSE(o.isHero?Audios.Damage2:Audios.Damage3),o.HP-=s,`${o.name} \u53D7\u5230\u4E86 ${s} \u70B9\u4F24\u5BB3`}return""}clone(){return new DamageEffect(this.when,this.type,this.values)}}class GoToEntraceEffect{constructor(){r(this,"owner",0);r(this,"turns",0);r(this,"turnsDownEveryTurn")}execute(e,t){if(e===CommandTriggerWhen.Common&&t===CommandTriggerType.Use)if(currentScene().isCave&&globalGameData.entraceTag)getEventEngine().getVariable(GlobalWindowMarker).clearWindows(),transitionToScene(getEventEngine(),"World",globalGameData.entraceTag);else return`\u8BE5\u9B54\u6CD5\u4F7F\u7528\u5931\u8D25\u3002
\u53EA\u6709\u5728\u6D1E\u7A9F\u4E2D\u624D\u80FD\u4F7F\u7528\uFF0C\u56DE\u5230\u51FA\u53E3\u5904\u3002`;return""}clone(){return new GoToEntraceEffect}}class LightCaveEffect{constructor(e,t){this.radius=e,this.time=t}execute(e,t){return e===CommandTriggerWhen.Common&&t===CommandTriggerType.Use&&lightCave(this.radius,this.time),""}clone(){return new LightCaveEffect(this.radius,this.time)}}class LoveOfPrincess{execute(e,t){if(e===CommandTriggerWhen.Common&&t===CommandTriggerType.Use){const a=new QuestEvent(currentScene().rootObject);a.parseData(new AssetLoader,{type:"QuestEvent",eventId:"Q50",predecessorId:[],predecessorItem:[]}),a.interactive()}return""}clone(){return new LoveOfPrincess}}class MarkerBufferEffect{constructor(e,t){r(this,"owner",0);this.marker=e,this.value=t}execute(e,t,...a){if(e===CommandTriggerWhen.Battle){const o=a[1],s=o.buffers.find(c=>c instanceof MarkerBuffer&&c.marker===this.marker),h=range(this.value);return s?s.turns=Math.max(s.turns,h):o.addBuffer(new MarkerBuffer(this.marker,h)),this.marker===SleepBufferMaker?`${o.name}\u7761\u7740\u4E86`:`${o.name}\u65E0\u6CD5\u4F7F\u7528\u5492\u672F\u4E86`}return null}clone(e=!0){return new MarkerBufferEffect(this.marker,this.value)}}class NotMeetEnemyEffect{constructor(e){this.step=e}execute(e,t){return e===CommandTriggerWhen.Common&&t===CommandTriggerType.Use&&(globalGameData.notMeetEnemyStep=this.step),""}clone(){return new NotMeetEnemyEffect(this.step)}}class Rainbow{execute(e,t){if(e===CommandTriggerWhen.Common&&t===CommandTriggerType.Use){const a=new QuestEvent(currentScene().rootObject);a.parseData(new AssetLoader,{type:"QuestEvent",eventId:"Q350",predecessorId:[],predecessorItem:[]}),a.interactive()}return""}clone(){return new Rainbow}}class UsePeropertyEffect{constructor(e,t,a,i){this.when=e,this.property=t,this.calculateType=a,this.values=i}execute(e,t,...a){let i;if((e&CommandTriggerWhen.Battle)>0&&t===CommandTriggerType.Use?i=HasType$1(this.when,CommandTriggerWhen.Battle)?a[0].character:a[0]:HasType$1(e,CommandTriggerWhen.Common)&&t===CommandTriggerType.Use&&(i=globalGameData.hero),i){const o=range(this.values),s=i[this.property];return["power","resilience","speed","maxHP","maxMP","HP","MP"].indexOf(this.property)>=0&&(i[this.property]=Calacute(this.calculateType,i[this.property],o)),audio().playME(Audios.Heal),`${this.property}\u589E\u52A0\u4E86${i[this.property]-s}`}return""}clone(e=!0){return Object.create(new UsePeropertyEffect(this.when,this.property,this.calculateType,this.values))}}var CommandTriggerWhen=(n=>(n[n.None=0]="None",n[n.Common=1]="Common",n[n.Battle=2]="Battle",n[n.All=3]="All",n))(CommandTriggerWhen||{}),CommandTriggerType=(n=>(n[n.Use=0]="Use",n[n.Move=1]="Move",n[n.Attack=2]="Attack",n[n.MagicDamage=3]="MagicDamage",n[n.MagicFire=4]="MagicFire",n))(CommandTriggerType||{}),CommandCalacuteType=(n=>(n[n.Add=0]="Add",n[n.Mul=1]="Mul",n))(CommandCalacuteType||{});function Calacute(n,e,t){return n===0?e+t:e*t}function ChangeWhen(n){return n==="common"?1:n==="battle"?2:n==="all"?3:0}function parseNumberValue(n){const e=n.startsWith("-")?-1:1;(n.startsWith("-")||n.startsWith("+"))&&(n=n.slice(1,n.length));const t=[];let a=0;const i=n.split("-");for(let o=0;o<Math.min(i.length,2);o++)if(i[o].endsWith("%")){const s=parseInt(i[o].slice(0,-1),10)/100;t.push(1+e*s),a=1}else{const s=parseInt(i[o]);t.push(e*s)}return[a,t]}function parseUseEffect(n,e){if(n.trim().length===0)return;const t=n.split(";").filter(a=>a.length>0);e.useEffects=t.map(a=>{const[i,...o]=a.split(":");if(i==="u"&&o.length>=2){const s=ChangeWhen(o[0]);if(s>0){let h=null;switch(o[1]){case"HP":if(o.length>=3){const[c,d]=parseNumberValue(o[2]);return new UsePeropertyEffect(s,"HP",c,d)}break;case"light":if(o.length>=3){const[c,d]=parseNumberValue(o[2]);return new LightCaveEffect(d[0],d[1])}break;case"home":return new BackHomeEffect;case"entrance":return new GoToEntraceEffect;case"notMeetEnemy":if(o.length>=3){const[c,d]=parseNumberValue(o[2]);return new NotMeetEnemyEffect(d[0])}return;case"move":break;case"damage":if(o.length>=3){const[c,d]=parseNumberValue(o[2]);return h=new DamageEffect(s,3,d),h}break;case"marker":if(o.length>=4&&["sleep","sealingMagic"].indexOf(o[2])>=0)return new MarkerBufferEffect(o[2]==="sleep"?SleepBufferMaker:SealingMagicBufferMaker,parseNumberValue(o[3])[1]);break;case"script":if(o[2]==="loveOfPrincess")return new LoveOfPrincess;if(o[2]==="rainbow")return new Rainbow;break;case"buff":break;default:break}}}return null}).filter(a=>a!==null)}var MagicType=(n=>(n[n.Common=0]="Common",n[n.Heal=1]="Heal",n[n.Damage=2]="Damage",n[n.Fire=3]="Fire",n[n.Buff=4]="Buff",n))(MagicType||{});class Magic{constructor(){r(this,"id",0);r(this,"name","");r(this,"type",2);r(this,"cost",0);r(this,"useEffects",[]);r(this,"targetIsEnemy",!0);r(this,"isCanCommonUse",!1);r(this,"isCanBattleUse",!1);r(this,"useCommonText");r(this,"useBattleText");r(this,"useCommonTime","before")}useInCommon(){return this.useEffects.map(e=>e.execute(CommandTriggerWhen.Common,CommandTriggerType.Use)).filter(e=>e.trim().length>0).join(`
`)}}function parseMagic(n){var t,a;const e=Object.assign(new Magic,n);return e.isCanCommonUse=(((t=n.useType)!=null?t:0)&1)>0,e.isCanBattleUse=(((a=n.useType)!=null?a:0)&2)>0,n.effect&&parseUseEffect(n.effect,e),e}const DefaultInitGameCharacter={id:1,lv:1,inventory:[],magics:[2001,2002,2003,2004,2005,2006,2007,2008,2009,2010],npcs:[],events:[generateEventId("Q660")],isMeetEnemty:!1,isLightInCave:!1},gameAllCharacters=new Map;function SetCharacters(n){n.forEach(e=>{gameAllCharacters.set(e.id,e)})}function GetCharacter(n){const e=gameAllCharacters.get(n);if(!e)throw new Error("\u672A\u627E\u5230id\u7B49\u4E8E${id}\u7684Character");return e}const gameAllItems=new Map;function SetItems(n){n.forEach(e=>{gameAllItems.set(e.id,e)})}function GetItem(n){return gameAllItems.get(n)}const gameShopItems=new Map;function SetShopItems(n){n.forEach(({id:e,data:t})=>{const a=t.map(i=>GetItem(i));gameShopItems.set(e,a)})}function GetShopItems(n){return gameShopItems.get(n)}const gameAllEneies=new Map;function SetEneies(n){n.forEach(e=>{gameAllEneies.set(e.id,e)})}function GetEnemyData(n){const e=gameAllEneies.get(n);if(!e)throw new Error("\u672A\u627E\u5230id\u7B49\u4E8E${id}\u7684Enemy");return{...e}}const gameAllMagics=new Map;function SetMagics(n){n.map(e=>{gameAllMagics.set(e.id,parseMagic(e))})}function GetMagic(n){const e=gameAllMagics.get(n);if(!e)throw new Error("\u672A\u627E\u5230id\u7B49\u4E8E${id}\u7684Magic");return e}var InputType=(n=>(n[n.None=0]="None",n[n.Move=1]="Move",n[n.Menu=2]="Menu",n[n.Battle=3]="Battle",n[n.Message=4]="Message",n[n.Task=5]="Task",n[n.Title=6]="Title",n[n.Transition=7]="Transition",n))(InputType||{});class GameData{constructor(){r(this,"teamCharactes",[]);r(this,"npcCharacters",[]);r(this,"inventory",new Inventory);r(this,"events",new Set);r(this,"inputType",1);r(this,"lightRadius",0);r(this,"lightTime",0);r(this,"notMeetEnemyStep",0);r(this,"gameplayTime",0);r(this,"isMeetEnemy",!0);r(this,"isLightInCave",!1);r(this,"entraceTag")}init(){var t,a;const e=GetCharacter(DefaultInitGameCharacter.id).clone();this.teamCharactes=[e],this.npcCharacters=DefaultInitGameCharacter.npcs.map(i=>({roleId:i})),this.inventory=new Inventory,DefaultInitGameCharacter.inventory.forEach(i=>this.inventory.addItem(i)),e.magics=DefaultInitGameCharacter.magics.map(i=>GetMagic(i)),this.events=new Set(DefaultInitGameCharacter.events),this.inputType=1,this.lightRadius=this.lightTime=this.notMeetEnemyStep=this.gameplayTime=0,this.isMeetEnemy=(t=DefaultInitGameCharacter.isMeetEnemty)!=null?t:!0,this.isLightInCave=(a=DefaultInitGameCharacter.isLightInCave)!=null?a:!1}startGame(){this.init()}heroEquip(e,t=ItemType.All){e!==DefaultRemoveEquipItemSlot&&this.inventory.getItemSlot(e.id)===DefaultNoneItemSlot||(e===DefaultRemoveEquipItemSlot&&(e=DefaultNoneItemSlot),this.hero.equip(e,t),this.inventory.sort())}inventoryUseItem(e,t,a){const i=this.inventory.getItemSlot(e);i!==DefaultNoneItemSlot&&(i.item.useEffects.forEach(o=>{o.execute(t,a,this.hero)}),i.item.useCount>0&&this.inventory.removeSlotId(e))}inventoryRemoveItemSlotById(e){this.inventory.removeSlotId(e),this.hero.removeEquipment(e)}light(e,t){this.lightRadius=e,this.lightTime=t}finishEvent(e){this.events.add(e)}hasEvent(e){return this.events.has(e)}removeEvent(e){return this.events.delete(e)}reinitWhenChangeScene(e=!0){e&&(this.lightRadius=0,this.lightTime=-1)}get hero(){return this.teamCharactes[0]}get teamMoves(){return this.teamCharactes.map(e=>({roleId:e.roleId})).concat(this.npcCharacters)}}function setGlobalGameData(n){globalGameData=n}let globalGameData=new GameData;class AttackExectuteCommand extends ExecuteCommand{async execute(){await this.ui.showMessage(`${this.character.name} \u653B\u51FB`,!1,-1),await this.attackEffect();const e=this.character.attack-this.target.defend;this.target.character.HP-=e,await this.ui.showMessage(`${this.target.name} \u53D7\u5230 ${e} \u4F24\u5BB3`,!0)}async attackEffect(){this.engine.audios.playSE(Audios.Attack),await delay$1(300),this.engine.audios.playSE(this.target.isHero?Audios.Damage2:Audios.Damage3),this.character.isHero&&(await this.ui.playEffectAnimation("attack2"),await this.ui.monsterFlashing(400,2))}}const SpriteWidth=130,SpriteHeight=110,offset=(n,e)=>[n*(SpriteWidth+1)+1,e*(SpriteHeight+1)+1],generateBackgroundSprites=(n,e)=>Array.from({length:n}).map((t,a)=>({frame:a*10,value:{name:"weapon_animations.png",spriteWidth:SpriteWidth,spriteHeight:SpriteHeight,pivotOffset:offset(a,e)}})),generateAnimationData=({name:n,duration:e,spriteFrameCount:t,row:a})=>({name:n,type:"",keys:{backgroundSprite:generateBackgroundSprites(t,a)},frameCount:(t-1)*10,times:-1,reverse:!1,duration:e!=null?e:(t-1)*200,auto:!1,fillEnd:!1}),animations=[{name:"attack1",spriteFrameCount:5,row:0},{name:"attack2",spriteFrameCount:5,row:6},{name:"fire1",spriteFrameCount:5,row:12},{name:"fire2",spriteFrameCount:6,row:10},{name:"heal",spriteFrameCount:6,row:15}].map(generateAnimationData);function init(n){const e=animations.reduce((t,a)=>{var o;const i=(o=a.keys)==null?void 0:o.backgroundSprite.map(s=>typeof s.value=="string"?s.value:s.value.name);return t.push(...i),t},[]);return Promise.allSettled(Array.from(new Set(e)).map(t=>n.loadSprite(t)))}function getAnimation(n){const e=animations.find(t=>t.name===n);return e?new Animation({...e,times:1,keys:new Map(Object.entries(e.keys))}):void 0}class BattleUI extends BaseWindow{constructor(t,a){super(t);r(this,"_commandsWindow");r(this,"_itemsWindow");r(this,"_nameText");r(this,"_enemyNameText");r(this,"_lvText");r(this,"_hpText");r(this,"_mpText");r(this,"_messageText");r(this,"_enemyGameObejct");r(this,"_removeStatusListener");r(this,"_data");r(this,"_monsterAnim");r(this,"_effectAnim");r(this,"_cursor");r(this,"_commandSelecting",!1);r(this,"_commandArgs",[]);r(this,"_characterCommand",BattleCharacterCommand.Attack);r(this,"_items",[]);this._nameText=t.getComponentInChildByName("characterNameText",TextComponent),this._hpText=t.getComponentInChildByName("characterHPText",TextComponent),this._mpText=t.getComponentInChildByName("characterMPText",TextComponent),this._lvText=t.getComponentInChildByName("characterLVText",TextComponent),this._commandsWindow=t.getComponentInChildByName("commandsWindow",ListComponent),this._itemsWindow=t.getComponentInChildByName("itemMenuWindow",ListComponent),this._messageText=t.getComponentInChildByName("messageWindow",ScrollTextComponent),this._cursor=this.root.getComponentInChildren(Cursor$1),this._enemyNameText=t.getComponentInChildByName("enemyInfoText",TextComponent),this._effectAnim=t.getComponentInChildByName("effectAnim",PropertyAnimationComponent$1),this._enemyGameObejct=t.getGameObjectInChildren("enemy"),this._monsterAnim=this._enemyGameObejct.getComponent(PropertyAnimationComponent$1),this._data=a,this.init(a)}init(t){this._enemyGameObejct.background.spriteWidth=t.info.monsterSprite.width,this._enemyGameObejct.background.spriteHeight=t.info.monsterSprite.height,this._enemyGameObejct.background.pivotOffset=t.info.monsterSprite.pivotOffset,this._nameText.setText(`${this.hero.name}`),this._enemyNameText.setText(`${t.enemy.name}`),this.refreshHero(),this._removeStatusListener=GlobalEventRegisterListener(GlobalEventType.ChracterStatusChanged,()=>{this.refreshHero()}),this._commandsWindow.setAdapter(new TextAdapter(["\u653B\u51FB","\u5492\u6587","\u9053\u5177","\u9003\u8DD1"].map(a=>({text:a})))),this._commandsWindow.addSelectListener((a,i)=>{this._commandSelecting&&(this._characterCommand=i,this._characterCommand===BattleCharacterCommand.Item||this._characterCommand===BattleCharacterCommand.Magic?(this.refreshItems(),nextFrame().then(()=>{this.changeSelectWindowShow(!1)})):this._commandSelecting=!1)}),this._itemsWindow.setAdapter(new TextAdapter([])),this._itemsWindow.addSelectListener((a,i)=>{this._commandArgs=[this._items[i]],this._commandSelecting=!1}),this._itemsWindow.addCancelListener(()=>{this.changeSelectWindowShow(!0)}),this._itemsWindow.root.active=!1,this._commandsWindow.enable=!1}refreshHero(){this._hpText.setText(`${this.hero.HP}`),this._mpText.setText(`${this.hero.MP}`),this._lvText.setText(`${this.hero.lv}`)}refreshItems(){if(this._characterCommand===BattleCharacterCommand.Item){const t=globalGameData.inventory.all().filter(a=>a.item.isCanBattleUse);this._itemsWindow.adapter().setData(t.map(a=>({text:a.item.name}))),this._items=t}else if(this._characterCommand===BattleCharacterCommand.Magic){const t=this.hero.magics;this._itemsWindow.adapter().setData(t.map(a=>({text:a.name}))),this._items=t}}async selectCommand(){for(this._commandSelecting=!0,this.changeSelectWindowShow(!0),this._commandsWindow.setCursorIndex(0);this._commandSelecting;)await nextFrame();return this._itemsWindow.root.active=!1,this._commandsWindow.enable=!1,this._commandSelecting=!1,Promise.resolve({command:this._characterCommand,commandArgs:this._commandArgs})}async showMessage(t,a=!1,i=800){this._messageText.root.parent.active=!0,a?this._messageText.appendText(t):this._messageText.showText(t),i>0&&(await delay$1(i),this._messageText.root.parent.active=!1)}async scrollMessage(t,a=!1,i=!1){this._messageText.root.parent.active=!0,a&&this._messageText.clearText(),await this._messageText.showTextScroll(t,""),this._cursor.setStatus("Hover"),await this.InputConfirmOrCancel(),this._cursor.setStatus("Unselect"),i&&(this._messageText.root.parent.active=!1)}get hero(){return this._data.hero}changeSelectWindowShow(t){this._itemsWindow.root.active=!t,this._commandsWindow.enable=t,t||this._itemsWindow.setCursorIndex(0)}interceptCancel(){return this._characterCommand===BattleCharacterCommand.Item||this._characterCommand===BattleCharacterCommand.Magic?(this.changeSelectWindowShow(!0),!0):!1}destroy(){this._removeStatusListener&&this._removeStatusListener()}async monsterFlashing(t,a){const i=new Animation({name:"battleFadingAnimationFlashing",auto:!0,duration:t,times:a,frameCount:60,keys:new Map([["backgroundAlpha",[{frame:0,value:1},{frame:30,value:0},{frame:60,value:1}]]])});this._monsterAnim.setAnimation(i),await waitUtil(()=>i.isEnd,t*a*2,this.engine.time)}async playEffectAnimation(t){const a=typeof t=="string"?getAnimation(t):t;!a||(this._effectAnim.setAnimation(a),this._effectAnim.root.active=!0,this._effectAnim.replay(!0),await waitUtil(()=>a.isEnd,1/0,this.engine.time),this._effectAnim.root.active=!1)}victory(){this._enemyGameObejct.active=!1}}class MagicExecuteCommand extends ExecuteCommand{constructor(t,a,i,o,s,h=!0){super(t,a,i,o,s,h);r(this,"magic");this.magic=o[0]}async execute(){if(this.character.isSealingMagic){await this.ui.showMessage(`${this.character.name} \u5492\u8BED\u529B\u91CF\u88AB\u5C01\u5370\u4E86
\u4F7F\u7528${this.magic.name}\u5931\u8D25`);return}if(this.character.MP<this.magic.cost){await this.ui.showMessage(`${this.character.name} \u6CA1\u6709\u8DB3\u591F\u7684MP
\u4F7F\u7528${this.magic.name}\u5931\u8D25`);return}await this.ui.showMessage(`${this.character.name} \u4F7F\u7528\u4E86${this.magic.name}`,!1,-1),this.character.MP-=this.magic.cost,this.engine.audios.playSE(Audios.Magic),await delay$1(800);const t=this.magic.type===MagicType.Heal?CommandTriggerType.Use:this.magic.type===MagicType.Damage?CommandTriggerType.MagicDamage:CommandTriggerType.MagicFire,a=this.magic.useEffects.map(i=>i.execute(CommandTriggerWhen.Battle,t,this.character,this.target)).join(`
`);await this.ui.showMessage(a,!0,800)}}class ItemExecuteCommand extends ExecuteCommand{constructor(t,a,i,o,s,h=!0){super(t,a,i,o,s,h);r(this,"itemSlot");this.itemSlot=o[0]}async execute(){await this.ui.showMessage(`${this.character.name}\u4F7F\u7528\u4E86${this.itemSlot.item.name}`)}}class NotDoExecuteCommand extends ExecuteCommand{async execute(){this.ui.showMessage(`${this.data.hero.name} \u6B63\u5728\u53D1\u5446`),await delay$1(1e3)}}class EscapeExecuteCommand extends ExecuteCommand{async execute(){if(Math.random()*100>50){this.data.setEscape(!0),this.ui.showMessage(`${this.data.hero.name} \u9003\u8DD1\u6210\u529F`);return}this.ui.showMessage(`${this.data.hero.name} \u9003\u8DD1\u5931\u8D25`)}}var __defProp$c=Object.defineProperty,__getOwnPropDesc$c=Object.getOwnPropertyDescriptor,__decorateClass$c=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$c(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$c(e,t,i),i};let BattleSystem=class extends Component{constructor(){super(...arguments);r(this,"_ui");r(this,"_data");r(this,"_selectCommandToExecuteCommand",new Map([[BattleCharacterCommand.Attack,AttackExectuteCommand],[BattleCharacterCommand.Item,ItemExecuteCommand],[BattleCharacterCommand.Magic,MagicExecuteCommand],[BattleCharacterCommand.Escape,EscapeExecuteCommand],[BattleCharacterCommand.NotDo,NotDoExecuteCommand]]))}start(){this.init(),this.execute()}init(){this.audios.playBGM("bgm/battle.mp3");const e=this.engine.getVariable(GlobalBattleInfo);this._data=new BattleData(e,new HeroBattleCharacter(globalGameData.hero),e.enemy),this._ui=new BattleUI(this.root,this._data)}async execute(){for(await this.battleStart();!this.data.isFinish;)await this.battleExecuting();await this.battleEnd()}async battleStart(){await this.ui.showMessage(`${this.data.enemy.character.name}\u51FA\u73B0\u4E86`)}async battleExecuting(){const e=await this.data.hero.getCommand(this._data,this._ui),t=await this.data.enemy.getCommand(this._data,this._ui),a=[{...e,character:this.data.hero},{...t,character:this.data.enemy}];a.sort((i,o)=>o.character.speed-i.character.speed);for(let i=0;i<a.length;i++){if(this.data.isFinish)return;if(a[i].character.isSleep){await this.ui.showMessage(`${a[i].character.name}\u7761\u7740\u4E86`);continue}const o=a[i];if(this._selectCommandToExecuteCommand.has(o.command)){const s=this._selectCommandToExecuteCommand.get(o.command);await new s(this.engine,this.ui,this.data,o.commandArgs,o.character).execute()}}if(!this.data.isFinish){const i=this.data.buffersTurnDown();for(let o=0;o<i.length;o++)i[o].length>0&&await this.ui.showMessage(i[o],!1,800)}}async battleEnd(){await this.battleEndExecute(),setBattleFinishStatus(this.data.isEscape?BattleFinishStatus.Escape:this.data.isVictory?BattleFinishStatus.Victory:this.data.isFailed?BattleFinishStatus.Faield:BattleFinishStatus.Event)}async battleEndExecute(){var e;if(!this.data.isEscape)if(this.data.isVictory){this.ui.victory(),this.engine.audios.pauseBGM(),this.engine.audios.playSE(Audios.Victory),await this.ui.scrollMessage(`${this.data.enemy.name} \u88AB\u6253\u5012\u4E86
\u83B7\u5F97 ${this.data.info.exp} \u7ECF\u9A8C\u503C
\u83B7\u5F97 ${this.data.info.gold} \u91D1\u94B1`,!0);const t=globalGameData.hero;for(t.addGold(this.data.info.gold),t.addExp(this.data.info.exp);t.judgeLvUp();){this.engine.audios.playSE(Audios.LvUp);const a=t.lvUp(),i=[`${t.name} \u5347\u5230 ${t.lv}\u7EA7`];for(const s of["power","speed","resilience","maxHP","maxMP"])if(Object.hasOwn(a,s)){const h=a[s];if(h<=0)continue;i.push(`${this.engine.i18n.getTextValue(s)} \u63D0\u5347\u4E86 ${h} \u70B9`)}(e=a.magicsId)!=null&&e.length&&i.push(`\u5B66\u4F1A\u4E86 ${a.magicsId.map(s=>GetMagic(s).name).join(`
`)}`);let o=0;for(;i.length>0;)await this.ui.scrollMessage(i.splice(0,Math.min(i.length,4)).join(`
`),++o==1)}}else this.data.isFailed&&(this.engine.audios.pauseBGM(),this.engine.audios.playSE(Audios.Dead),await this.ui.showMessage(`${this.data.hero.name} \u88AB\u6253\u8D25\u4E86\uFF01`,!1,6e3))}get ui(){return this._ui}get data(){return this._data}parseData(e){e.addAssets(init(this.resource))}};BattleSystem=__decorateClass$c([GameplayComponent],BattleSystem);var __defProp$b=Object.defineProperty,__getOwnPropDesc$b=Object.getOwnPropertyDescriptor,__decorateClass$b=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$b(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$b(e,t,i),i};let MapChest=class extends Component{constructor(){super(...arguments);r(this,"id","");r(this,"itemsId",[]);r(this,"money",0);r(this,"colliderSize",[32,32]);r(this,"important",!1);r(this,"hidden",!1);r(this,"trigger",!1);r(this,"finishEvents")}start(){this.hidden&&(this.background.name="",this.background.sprite=void 0),this.refreshStatus()}canTrigger(){return!globalGameData.hasEvent(this.id)}refreshStatus(e){this.hidden||(typeof e>"u"&&(e=!this.canTrigger()),this.background.pivotOffset=[e?32:0,0])}async open(){if(!this.canTrigger())return;this.refreshStatus(!0);const e=this.itemsId.map(t=>globalGameData.inventory.addItem(t).item.name);this.money>0&&e.push(`${this.money}G`),this.audios.playSE(this.important?Audios.ImportantItem:Audios.Chest),this.money===0&&this.itemsId.length===0?await message("\u5B9D\u7BB1\u91CC\u9762\u662F\u7A7A\u7684\u3002"):await message(`\u83B7\u5F97\u4E86${e.join("\u3001")}`),globalGameData.finishEvent(this.id),this.refreshStatus(),this.finishEvents&&(finishQuestEvents(...this.finishEvents),refreshAndTriggerAutoEvent())}interactive(){this.open()}parseData(e,t){var a,i,o,s;this.id=generateMapChestId(t.id),this.itemsId=(a=t.items)!=null?a:[],this.money=t.money||0,this.colliderSize=t.colliderSize||this.colliderSize,this.hidden=(i=t.hidden)!=null?i:this.hidden,this.important=(o=t.important)!=null?o:this.important,this.finishEvents=t.finishEvents,this.trigger=(s=t.trigger)!=null?s:this.trigger,this.root.addComponent(BoxCollider,{size:this.colliderSize,trigger:this.trigger},e)}};MapChest=__decorateClass$b([GameplayComponent],MapChest);var __defProp$a=Object.defineProperty,__getOwnPropDesc$a=Object.getOwnPropertyDescriptor,__decorateClass$a=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$a(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$a(e,t,i),i};let Door=class extends Component{constructor(){super(...arguments);r(this,"id","")}start(){this.refreshStatus()}canTrigger(){return this.root.active&&this.active&&!globalGameData.hasEvent(this.id)&&globalGameData.inventory.hasItem(50)}refreshStatus(e){typeof e>"u"&&(e=globalGameData.hasEvent(this.id)),this.active=this.root.active=!e}async open(){!this.canTrigger()||(this.audios.playME(Audios.Door),globalGameData.inventory.removeItemId(50),globalGameData.finishEvent(this.id),this.refreshStatus(!0))}interactive(){this.open()}parseData(e,t){this.id=generateDoorId(t.id),this.root.addComponent(BoxCollider,{size:t.colliderSize},e)}};Door=__decorateClass$a([GameplayComponent],Door);var __defProp$9=Object.defineProperty,__getOwnPropDesc$9=Object.getOwnPropertyDescriptor,__decorateClass$9=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$9(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$9(e,t,i),i};let NPCQuestEvent=class extends QuestEvent{canTrigger(n){const e=this.root.getComponent(NPCControllerComponent);return super.canTrigger(n)&&(e&&!e.isMoving||!e)}};NPCQuestEvent=__decorateClass$9([GameplayComponent],NPCQuestEvent);var __defProp$8=Object.defineProperty,__getOwnPropDesc$8=Object.getOwnPropertyDescriptor,__decorateClass$8=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$8(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$8(e,t,i),i};let TalkQuestEvent=class extends NPCQuestEvent{constructor(){super(...arguments);r(this,"when",EventTriggerWhen.InteractiveConfirm)}async interactive(){await this.talk()}awake(){super.awake()}async talk(){var a,i,o,s;this.root.events.emit({marker:EventExecuteStartMarker,questId:this.questId});const e=this.getTalks(this.questId);let t=!0;for(const h of e){if(t&&h.key.startsWith(`${this.questId}_N`)||!t&&!h.key.startsWith(`${this.questId}_N`))continue;let c=h.value;if(c.startsWith("[script]")){const d=c.slice(8);await ExecuteCommands(this,d)}else h.value.indexOf("[select]")>=0?(c=h.value.slice(8),t=await talk((i=(a=h.infos)==null?void 0:a.talk)!=null?i:"*",c,!1,!0)):await talk((s=(o=h.infos)==null?void 0:o.talk)!=null?s:"*",c,!1,!1)}this.root.events.emit({marker:EventExecuteEndMarker,questId:this.questId}),refreshAndTriggerAutoEvent()}getTalks(e){return e.length===0?[]:this.engine.i18n.getEntries(t=>t.key===e||t.key.startsWith(`${e}_`))}};TalkQuestEvent=__decorateClass$8([GameplayComponent],TalkQuestEvent);var __defProp$7=Object.defineProperty,__getOwnPropDesc$7=Object.getOwnPropertyDescriptor,__decorateClass$7=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$7(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$7(e,t,i),i};let BornPointComponent=class extends Component{constructor(){super(...arguments);r(this,"position",[0,0]);r(this,"direciton",Direction.down);r(this,"isPremutation",!1)}start(){}parseData(e,t){var a;this.position=t.position,this.direciton=parseDirection(t.direciton),this.isPremutation=(a=t.isPremutation)!=null?a:this.isPremutation}};BornPointComponent=__decorateClass$7([GameplayComponent],BornPointComponent);var __defProp$6=Object.defineProperty,__getOwnPropDesc$6=Object.getOwnPropertyDescriptor,__decorateClass$6=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$6(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$6(e,t,i),i},TileMapType=(n=>(n[n.None=0]="None",n[n.Collider=1]="Collider",n[n.Poison=2]="Poison",n))(TileMapType||{});let SceneComponent=class extends Component{constructor(){super(...arguments);r(this,"_transitions",[]);r(this,"_transitionDestinations",[]);r(this,"_questEvents",[]);r(this,"_doors",[]);r(this,"_mapChests",[]);r(this,"_colliders",[]);r(this,"_mapData",{})}awake(){this.engine.setVariable(GlobalSceneComponentMarker,this),this._transitions=this.root.getComponentsInChildren(SceneTransition),this._transitionDestinations=this.root.getComponentsInChildren(SceneTransitionDestination),this._questEvents=this.root.getComponentsInChildren(QuestEvent),this._doors=this.root.getComponentsInChildren(Door),this._mapChests=this.root.getComponentsInChildren(MapChest),this._colliders=this.root.getComponentsInChildren(Collider)}triggerTransition(e){return this._transitions.find(t=>vector2Include(e,t.root.boundingBox))}triggerInteractive(e,t){return this.triggerMapChest(e)||this.triggerDoor(e)||this.triggerQuestEvent(e,t)}triggerDoor(e){return this._doors.find(t=>t.canTrigger()&&vector2Include(e,t.root.boundingBox))}triggerQuestEventByWhen(e){return this._questEvents.find(t=>t.canTrigger(e))}triggerQuestEvent(e,t){return this._questEvents.find(a=>a.canTrigger(t)&&vector2Include(e,a.root.boundingBox))}triggerMapChest(e,t=!1){return this._mapChests.find(a=>a.canTrigger()&&a.trigger===t&&vector2Include(e,a.root.boundingBox))}refreshAndTriggerAutoEvent(){this._questEvents.forEach(t=>t.refresh());const e=this.triggerQuestEventByWhen(EventTriggerWhen.Auto);e&&(AddExecuteEvent(e),Execute(this.engine))}collider(e,t,a){return this.colliderMapBlock(e)?!0:this.engine.getVariable(GlobalTeamControllerMarker).collider(t,a)||this._colliders.some(o=>o.collider(t,a))}colliderMapBlock(e){return this._mapData.name?this._mapData.data?e[0]>=this._mapData.data.width||e[1]>=this._mapData.data.height||e[0]<0||e[1]<0||this.getMapData(e)===1:!0:!1}parseData(e,t){var a;if(typeof t.mapData=="string"){const i=this.resource.loadJson(t.mapData).then(o=>{this._mapData.name=t.mapData,this._mapData.data=o});e.addAssets(i)}else this._mapData.name=(a=t.mapData)==null?void 0:a.name,this._mapData.data=t.mapData}getMapData(e){return this._mapData.data?this._mapData.data.data[e[0]+e[1]*this._mapData.data.width]:0}};SceneComponent=__decorateClass$6([GameplayComponent],SceneComponent);var __defProp$5=Object.defineProperty,__getOwnPropDesc$5=Object.getOwnPropertyDescriptor,__decorateClass$5=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$5(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$5(e,t,i),i};const DefaultMaxTeamCount=3,DefaultMoveSpeed=64;let TeamControllerComponent=class extends MoveComponent$1{constructor(e){super(e);r(this,"characterSpriteName","");r(this,"playerMoveComponents",[]);r(this,"playerStats",[]);r(this,"_head",DefaultMoveState);r(this,"inited",!1);r(this,"moveSpeed",DefaultMoveSpeed);r(this,"isMoving",!1);r(this,"maxTeamCount",DefaultMaxTeamCount);r(this,"startCoord",[0,0])}awake(){this.engine.setVariable(GlobalTeamControllerMarker,this)}start(){for(let e=0;e<this.maxTeamCount;e++){const t=new GameObject(this.root,`PlayerMoveAnimation_${e}`);t.configWidth=t.configHeight=DefaultTileSize,t.measureWidth=t.measureHeight=DefaultTileSize,t.active=!0,this.root.children.unshift(t);const a=new MoveComponent$1(t);a.roleIndex=e,a.background.name=this.characterSpriteName,this.playerMoveComponents.push(a),this.playerStats.push({...this._head})}this.initTeam(),this.moveToCoord(this.startCoord,Direction.down,!1),this.inited=!0}initTeam(){const e=globalGameData.teamMoves;for(let t=0;t<this.maxTeamCount;t++)t<e.length?(this.playerMoveComponents[t].roleIndex=e[t].roleId,this.playerMoveComponents[t].root.active=!0):this.playerMoveComponents[t].root.active=!1}update(){!this.inited||(this.updateDistance(this.moveSpeed*this.time.scaleDeltaTime/1e3),this.refreshAnimation(),this.camera.moveToCenter(this.headPosition))}updateDistance(e,t=!1){if(!t&&globalGameData.inputType!==InputType.Move)return;const a=this.input.getPressedDirection();if(!this.isMoving){if(this.checkCancelPressed()||this.checkConfirmPressed())return;if(a!==Direction.none){this.changeHeadDirection(a);const i=nextCoordByDirection(this._head.coord,a);checkNextCoordCanMove(i,this.engine,ColliderLayerType.Hero)?(this._head.targetCoord=i,this._head.targetPosition=CoordToPosition(i),this.refreshNextPlayerStats(),this.isMoving=!0):(!this.audios.MEAudio||this.audios.MEAudio.paused)&&this.audios.playME(Audios.Bump),this.refreshAnimationSprite()}}if(this.isMoving){const i=distance(this._head.position,this._head.targetPosition);if(i<=e){if(this.moveToTarget(),this.checkTargetEvent())return;i-e>.01&&this.updateDistance(i-e,t)}else this.move(e)}}checkTargetEvent(){const t=this.engine.getVariable(GlobalSceneComponentMarker).triggerQuestEvent(this._head.coord,EventTriggerWhen.Trigger);return t?(t.interactive(),!0):this.checkDestination()||this.checkPoisonPool()?!0:(globalGameData.hero.triggerMoveBuffers(),checkMeetEnemy()?(battleInScene(),!0):!1)}checkCancelPressed(){return this.input.isCancelPressed()?(globalGameData.inputType=InputType.Menu,this.engine.getVariable(GlobalWindowMarker).showMenu(),!0):!1}checkConfirmPressed(){if(!this.input.isConfirmPressed())return!1;const e=this.engine.getVariable(GlobalSceneComponentMarker),t=CoordToPosition(nextCoordByDirection(this._head.coord,this._head.direction)),a=playerCenterPosition(t),i=e.triggerInteractive(a,EventTriggerWhen.InteractiveConfirm);if(i)return i.interactive(),!0;const o=playerCenterPosition(this._head.position),s=e.triggerMapChest(o,!0);return s?(s.interactive(),!0):!1}checkPoisonPool(){const e=this.engine.getVariable(GlobalSceneComponentMarker),t=this.engine.getVariable(GlobalFadingMarker),a=e.getMapData(this._head.coord);return HasType$1(a,TileMapType.Poison)&&!hero().isImmunotoxicity?(hero().HP-=a===TileMapType.Poison?15:1,t.flashing({duration:300,times:1}),checkDeadToInit(),hero().isDead):!1}checkDestination(){const e=this.engine.getVariable(GlobalSceneComponentMarker);if(e){const t=e.triggerTransition(vector2Add(this.headPosition,[DefaultTileSize>>1,DefaultTileSize>>1]));if(t)return t.transitionTo(),!0}return!1}move(e){this.playerStats.forEach(t=>{t.position=lerpVector2(t.position,t.targetPosition,e)}),this._head.position=this.playerStats[0].position,this.refreshAllMoveComponent((t,a)=>{a.localPosition=t.position})}moveToTarget(){this.playerStats.forEach(e=>{e.coord=e.targetCoord,e.position=e.targetPosition}),this._head.coord=this._head.targetCoord,this._head.position=this._head.targetPosition,this.refreshAllMoveComponent((e,t)=>{t.localPosition=e.targetPosition}),this.isMoving=!1}refreshNextPlayerStats(){for(let e=this.playerStats.length-1;e>=0;e--){const t=this.playerStats[e],a=e===0?this._head:this.playerStats[e-1];t.targetCoord=a.targetCoord,t.targetPosition=a.targetPosition,t.direction=a.direction}this.refreshAllMoveComponent((e,t)=>{t.localPosition=e.position,t.direction=e.direction})}refreshAllMoveComponent(e){for(let t=0;t<this.playerStats.length;t++)e(this.playerStats[t],this.playerMoveComponents[t])}refreshAnimationSprite(){this.playerMoveComponents.forEach(e=>{e.animationIndex=this.animationIndex,e.refreshAnimationSprite()})}changeHeadDirection(e){this._head.direction=e,this.playerMoveComponents[0].direction=e}collider(e,t){return t===ColliderLayerType.Hero?!1:this.root.children.some(a=>a.active&&vector2Include(e,a.boundingBox))}moveToCoord(e,t,a=!0){this.isMoving=!1;for(let i=0;i<this.playerStats.length;i++){const o=this.playerStats[i];o.coord=o.targetCoord=i==0||!a?e:nextCoordByDirection(this.playerStats[i-1].targetCoord,oppsiteDirection(t)),o.position=o.targetPosition=CoordToPosition(o.coord),o.direction=t}this._head={...this.playerStats[0]},this.refreshAllMoveComponent((i,o)=>{o.localPosition=i.position,o.direction=i.direction}),this.refreshAnimationSprite(),this.camera.moveToCenter(this.headPosition,!0)}moveTo(e,t,a=!0){this.moveToCoord(PositionToCoord(e),t,a)}async smoothMoveToCoord(e){for(;!vector2Equal(e,this._head.targetCoord);){const t=getDirectionByCoord(vector2Minus(e,this._head.coord));for(this.changeHeadDirection(t),this._head.targetCoord=nextCoordByDirection(this._head.targetCoord,t),this._head.targetPosition=CoordToPosition(this._head.targetCoord),this.refreshNextPlayerStats(),this.isMoving=!0;this.isMoving;)this.updateDistance(this.moveSpeed*this.time.scaleDeltaTime/1e3,!0),this.refreshAnimation(),this.camera.moveToCenter(this.headPosition),await nextFrame()}}get headDirection(){return this._head.direction}get headPosition(){return vector2Add(this._head.position,this.worldPosition)}get headCameraPosition(){return vector2Add(this.cameraPosition,this.headPosition)}get headCoord(){return this._head.coord}parseData(e,t){var i,o,s,h,c;this.animationDuration=(i=t.aniamtionDuration)!=null?i:DefaultAnimationDuration,(!t.animationDiretions||t.animationDiretions.length==0)&&(t.animationDiretions=[Direction.down]),this.direction=t.animationDiretions[0],this.animationDirections=new Set(this.animationDirections),this.roleIndex=t.roleIndex,t.sprite||(t.sprite=DefaultRoleSprite),this.characterSpriteName=t.sprite,this.offset=(o=t.animtionOffset)!=null?o:[0,0],this.moveSpeed=(s=t.moveSpeed)!=null?s:DefaultMoveSpeed,this.maxTeamCount=(h=t.maxTeamCount)!=null?h:DefaultMaxTeamCount,this.startCoord=(c=t.coord)!=null?c:this.startCoord;const a=this.resource.loadSprite(t.sprite).then(()=>{this.inited=!0});e.addAssets(a)}};TeamControllerComponent=__decorateClass$5([GameplayComponent],TeamControllerComponent);var __defProp$4=Object.defineProperty,__getOwnPropDesc$4=Object.getOwnPropertyDescriptor,__decorateClass$4=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$4(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$4(e,t,i),i};let StartComponent=class extends Component{constructor(){super(...arguments);r(this,"_teamController");r(this,"_globalWindow")}start(){this._teamController=this.engine.getVariable(GlobalTeamControllerMarker),this._globalWindow=this.engine.getVariable(GlobalWindowMarker),this._teamController.root.active=!1,this._globalWindow.root.active=!1,this._globalWindow.clearWindows(),this.init()}async init(){await delay$1(2e3),transitionToScene(this.engine,"Description")}};StartComponent=__decorateClass$4([GameplayComponent],StartComponent);var __defProp$3=Object.defineProperty,__getOwnPropDesc$3=Object.getOwnPropertyDescriptor,__decorateClass$3=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$3(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$3(e,t,i),i};let DescriptionComponent=class extends Component{start(){this.init()}async init(){await delay$1(2e3),transitionTo("Logo")}};DescriptionComponent=__decorateClass$3([GameplayComponent],DescriptionComponent);var __defProp$2=Object.defineProperty,__getOwnPropDesc$2=Object.getOwnPropertyDescriptor,__decorateClass$2=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$2(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$2(e,t,i),i};let LogoComponent=class extends Component{constructor(){super(...arguments);r(this,"_teamController");r(this,"_globalWindow");r(this,"_isTransition",!1)}start(){this._teamController=this.engine.getVariable(GlobalTeamControllerMarker),this._globalWindow=this.engine.getVariable(GlobalWindowMarker),this._teamController.root.active=!1,this._globalWindow.root.active=!1,this._globalWindow.clearWindows()}update(){this._isTransition||(this.input.isCancelPressed()||this.input.isConfirmPressed())&&this.gotoTitle()}gotoTitle(){this._isTransition=!0,transitionToScene(this.engine,"Title")}};LogoComponent=__decorateClass$2([GameplayComponent],LogoComponent);var __defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__decorateClass$1=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc$1(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp$1(e,t,i),i};let TitleComponent=class extends Component{constructor(){super(...arguments);r(this,"_teamController");r(this,"_globalWindow");r(this,"_menuWindow");r(this,"_saveWindow");r(this,"_isTransition",!1)}start(){this._teamController=this.engine.getVariable(GlobalTeamControllerMarker),this._globalWindow=this.engine.getVariable(GlobalWindowMarker),this._teamController.root.active=!1,this._globalWindow.root.active=!1,this._globalWindow.clearWindows(),this._menuWindow=this.root.getComponentInChildByName("menuWindow",ListComponent),this._saveWindow=this.root.getComponentInChildByName("saveWindow",SaveWindow),this._menuWindow.enable=!1,this._saveWindow.enable=!1,this._menuWindow.root.active=!0,this._saveWindow.root.active=!1,this.init()}init(){this._menuWindow&&(this._menuWindow.setAdapter(new TextAdapter(["NewGame","LoadGame","DeleteSave"].map(e=>({text:this.engine.i18n.getTextValue(e)})))),this._menuWindow.addSelectListener((e,t)=>{t===0?this.titleStartGame():t===1?(this._saveWindow.refreshList(),this._saveWindow.root.active=!0,this._saveWindow.setActionListener("Load",a=>{this.titleLoadGame(a)})):t===2&&(this._saveWindow.refreshList(),this._saveWindow.root.active=!0,this._saveWindow.setActionListener("Delete",()=>{this.titleDeleteSave()}))}))}titleStartGame(){var t;this._isTransition=!0,this.audios.playSE(Audios.Menu);const e=new GameData;e.init(),setGlobalGameData(e),(t=this._teamController)==null||t.moveToCoord([-1,-1],Direction.down),this._teamController.root.active=!0,this._globalWindow.root.active=!0,transitionToScene(this.engine,"TantegelCastle2","StartGame")}async titleLoadGame(e){e&&(this._isTransition=!0,loadSaveDataToGame(e),this._teamController.initTeam(),await transitionToScene(this.engine,e.sceneData.sceneName,{worldPosition:e.sceneData.position,direction:Direction.down,isPremutation:!1}),globalGameData.inputType=InputType.Move,globalGameData.lightRadius=e.lightRadius,globalGameData.lightTime=e.lightTime,globalGameData.entraceTag=e.entraceTag,this._globalWindow.root.active=!0,this._teamController.root.active=!0)}titleDeleteSave(){}update(){if(!(this._isTransition||!this._menuWindow||!this._saveWindow)){if(this.input.isCancelPressed()){this.isSelectSave&&(this._saveWindow.root.active=!1,this._menuWindow.refreshHover());return}else this.input.isConfirmPressed()&&this.audios.playSE(Audios.Menu);this.isSelectSave?this._saveWindow.update():this._menuWindow.update()}}get isSelectSave(){var e,t;return(t=(e=this._saveWindow)==null?void 0:e.root.active)!=null?t:!1}};TitleComponent=__decorateClass$1([GameplayComponent],TitleComponent);var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__decorateClass=(n,e,t,a)=>{for(var i=a>1?void 0:a?__getOwnPropDesc(e,t):e,o=n.length-1,s;o>=0;o--)(s=n[o])&&(i=(a?s(e,t,i):s(i))||i);return a&&i&&__defProp(e,t,i),i};let EndComponent=class extends Component{constructor(){super(...arguments);r(this,"_teamController");r(this,"_globalWindow")}start(){this._teamController=this.engine.getVariable(GlobalTeamControllerMarker),this._globalWindow=this.engine.getVariable(GlobalWindowMarker),this._teamController.root.active=!1,this._globalWindow.root.active=!1,this._globalWindow.clearWindows()}};EndComponent=__decorateClass([GameplayComponent],EndComponent);const AllCharactersData=[{id:1,roleId:0,name:"\u963F\u5F17\u96F7",lv:1,maxHP:215,maxMP:100,_hp:215,_mp:100,power:7,speed:2,resilience:5,exp:0,gold:120,lvsAbility:[{lv:1,exp:0,maxHP:0,maxMP:0,power:0,speed:0,resilience:0},{lv:2,exp:7,maxHP:6,maxMP:0,power:2,speed:0,resilience:0},{lv:3,exp:23,maxHP:2,maxMP:4,power:2,speed:1,resilience:2,magicsId:[2001]},{lv:4,exp:47,maxHP:6,maxMP:6,power:1,speed:1,resilience:2,magicsId:[2002]},{lv:5,exp:110,maxHP:4,maxMP:4,power:4,speed:2,resilience:1},{lv:6,exp:220,maxHP:4,maxMP:3,power:4,speed:0,resilience:0},{lv:7,exp:450,maxHP:1,maxMP:2,power:5,speed:7,resilience:3,magicsId:[2003]},{lv:8,exp:800,maxHP:5,maxMP:3,power:4,speed:3,resilience:2},{lv:9,exp:1300,maxHP:4,maxMP:6,power:4,speed:2,resilience:1,magicsId:[2004]},{lv:10,exp:2e3,maxHP:3,maxMP:3,power:5,speed:9,resilience:4,magicsId:[2005]},{lv:11,exp:2900,maxHP:7,maxMP:9,power:5,speed:4,resilience:2},{lv:12,exp:4e3,maxHP:1,maxMP:7,power:8,speed:5,resilience:3,magicsId:[2006]},{lv:13,exp:5500,maxHP:7,maxMP:5,power:4,speed:8,resilience:4,magicsId:[2007]},{lv:14,exp:7500,maxHP:7,maxMP:6,power:8,speed:7,resilience:3},{lv:15,exp:1e4,maxHP:7,maxMP:1,power:8,speed:9,resilience:5,magicsId:[2008]},{lv:16,exp:13e3,maxHP:5,maxMP:21,power:4,speed:6,resilience:3},{lv:17,exp:16e3,maxHP:8,maxMP:5,power:8,speed:0,resilience:4,magicsId:[2009]},{lv:18,exp:19e3,maxHP:13,maxMP:7,power:13,speed:6,resilience:3},{lv:19,exp:22e3,maxHP:14,maxMP:6,power:2,speed:2,resilience:1,magicsId:[2010]},{lv:20,exp:26e3,maxHP:7,maxMP:12,power:5,speed:2,resilience:1},{lv:21,exp:3e4,maxHP:10,maxMP:7,power:3,speed:2,resilience:1},{lv:22,exp:34e3,maxHP:8,maxMP:10,power:2,speed:0,resilience:0},{lv:23,exp:38e3,maxHP:2,maxMP:4,power:2,speed:6,resilience:6},{lv:24,exp:42e3,maxHP:5,maxMP:7,power:4,speed:4,resilience:2},{lv:25,exp:46e3,maxHP:3,maxMP:0,power:10,speed:2,resilience:1},{lv:26,exp:5e4,maxHP:6,maxMP:7,power:4,speed:5,resilience:2},{lv:27,exp:54e3,maxHP:8,maxMP:6,power:8,speed:2,resilience:1},{lv:28,exp:58e3,maxHP:5,maxMP:5,power:5,speed:8,resilience:4},{lv:29,exp:62e3,maxHP:5,maxMP:9,power:5,speed:5,resilience:3},{lv:30,exp:65536,maxHP:10,maxMP:10,power:5,speed:10,resilience:5}]}],AllItemData=[{id:1,name:"\u836F\u8349",price:10,sellPrice:5,canUse:3,type:16,effect:"u:all:HP:20-35",capacity:99},{id:2,name:"\u706B\u628A",price:8,sellPrice:4,canUse:3,type:16,effect:"u:common:light:120-0;use:battle:damage:4-6",useCommonText:"{name}\u70B9\u71C3\u4E86\u706B\u628A\uFF0C\u7167\u4EAE\u4E86\u56DB\u5468",capacity:99},{id:3,name:"\u57FA\u7F8E\u62C9\u4E4B\u7FC5",price:24,sellPrice:12,canUse:1,type:16,effect:"u:common:move",capacity:99},{id:4,name:"\u5723\u6C34",price:12,sellPrice:19,canUse:3,type:16,effect:"u:common:notMeetEnemy:127;u:battle:damage:16-20",useCommonText:`{name}\u4F7F\u7528\u4E86\u5723\u6C34
\u6682\u65F6\u4E0D\u4F1A\u906D\u9047\u654C\u4EBA\u4E86`,capacity:99},{id:5,name:"\u529B\u91CF\u79CD\u5B50",price:224,sellPrice:112,canUse:1,type:16,effect:"u:common:power:1-3",capacity:99},{id:6,name:"\u901F\u5EA6\u79CD\u5B50",price:200,sellPrice:100,canUse:1,type:16,effect:"u:common:speed:1-3",capacity:99},{id:7,name:"\u5B88\u62A4\u79CD\u5B50",price:200,sellPrice:100,canUse:1,type:16,effect:"u:common:resilience:4",capacity:99},{id:8,name:"\u751F\u547D\u679C\u5B9E",price:300,sellPrice:150,canUse:1,type:16,effect:"u:common:maxHP:4-6",capacity:99},{id:9,name:"\u795E\u5947\u679C\u5B9E",price:200,sellPrice:100,canUse:1,type:16,effect:"u:common:maxMP:3-5",capacity:99},{id:50,name:"\u9B54\u6CD5\u94A5\u5319",price:24,sellPrice:12,canUse:0,type:16,capacity:99},{id:101,name:"\u7AF9\u67AA",price:10,sellPrice:5,canUse:0,type:1,effect:"e:attack:2"},{id:102,name:"\u72FC\u7259\u68D2",price:60,sellPrice:30,canUse:0,type:1,effect:"e:attack:4"},{id:103,name:"\u94DC\u5251",price:180,sellPrice:90,canUse:0,type:1,effect:"e:attack:10"},{id:104,name:"\u94C1\u65A7",price:560,sellPrice:280,canUse:0,type:1,effect:"e:attack:15"},{id:105,name:"\u94A2\u5251",price:1500,sellPrice:750,canUse:0,type:1,effect:"e:attack:20"},{id:106,name:"\u706B\u7130\u4E4B\u5251",price:9800,sellPrice:4980,canUse:2,type:1,useCount:0,effect:"e:attack:28;u:battle:magicDamage:12-36"},{id:107,name:"\u6D1B\u7279\u4E4B\u5251",price:0,sellPrice:-1,canUse:0,type:1,effect:"e:attack:40"},{id:201,name:"\u5E03\u8863",price:20,sellPrice:10,canUse:0,type:2,effect:"e:defend:2"},{id:202,name:"\u76AE\u8863",price:70,sellPrice:35,canUse:0,type:2,effect:"e:defend:4"},{id:203,name:"\u9501\u5B50\u7532",price:300,sellPrice:150,canUse:0,type:2,effect:"e:defend:10"},{id:204,name:"\u94C1\u94E0\u7532",price:1e3,sellPrice:500,canUse:0,type:2,effect:"e:defend:16"},{id:205,name:"\u94A2\u94E0\u7532",price:3e3,sellPrice:1500,canUse:0,type:2,effect:"e:defend:24"},{id:206,name:"\u9B54\u6CD5\u94E0\u7532",price:7700,sellPrice:3550,canUse:0,type:2,effect:"e:defend:24;e:buffer:magicHurt:-25%;e:buffer:moveAddHP:4:1"},{id:207,name:"\u6D1B\u7279\u4E4B\u94E0",price:0,sellPrice:-1,canUse:0,type:2,effect:"e:defend:40;e:buffer:magicHurt:-25%;e:buffer:moveAddHP:1:1;e:buffer:immunotoxicity"},{id:301,name:"\u76AE\u76FE",price:90,sellPrice:45,canUse:0,type:4,effect:"e:defend:4"},{id:302,name:"\u94C1\u76FE",price:800,sellPrice:400,canUse:0,type:4,effect:"e:defend:10"},{id:303,name:"\u6C34\u955C\u4E4B\u76FE",price:14800,sellPrice:7400,canUse:0,type:4,effect:"e:defend:20"},{id:401,name:"\u9F99\u9CDE",price:20,sellPrice:10,canUse:0,type:8,effect:"e:defend:5"},{id:402,name:"\u8BC5\u5492\u8170\u5E26",price:800,sellPrice:400,canUse:0,type:8},{id:405,name:"\u6218\u58EB\u6212\u6307",price:0,sellPrice:15,canUse:0,type:8},{id:501,name:"\u5996\u7CBE\u4E4B\u7B1B",price:0,sellPrice:15,canUse:0,type:32,isCanDiscard:!1},{id:502,name:"\u94F6\u4E4B\u7AD6\u7434",price:0,sellPrice:-1,canUse:1,type:32,isCanDiscard:!1,effect:"u:common:script:meetEnemy"},{id:503,name:"\u96E8\u4E91\u4E4B\u6756",price:0,sellPrice:-1,canUse:0,type:32,isCanDiscard:!1},{id:504,name:"\u592A\u9633\u4E4B\u77F3",price:0,sellPrice:-1,canUse:0,type:32,isCanDiscard:!1},{id:505,name:"\u516C\u4E3B\u7684\u7231",price:0,sellPrice:-1,canUse:1,isCanDiscard:!1,type:32,effect:"u:common:script:loveOfPrincess"},{id:506,name:"\u6D1B\u7279\u4E4B\u8BC1",isCanDiscard:!1,price:0,type:32},{id:507,name:"\u8679\u4E4B\u6C34\u6EF4",price:0,sellPrice:-1,canUse:1,isCanDiscard:!1,type:32,effect:"u:common:script:rainbow"},{id:508,name:"\u5149\u4E4B\u73E0",price:0,sellPrice:-1,isCanDiscard:!1,type:32}],ShopData=[{id:1,data:[101,102,103,201,202,203]},{id:2,data:[1,2,401]},{id:3,data:[102,103,104,202,203,302]},{id:4,data:[103,104,204,205,301]},{id:5,data:[1,2,401,3]},{id:6,data:[103,104,105,204,205,206]},{id:7,data:[1,2,3]},{id:8,data:[101,102,103,202,203,302]},{id:9,data:[401,3]},{id:10,data:[104,105,205,206]},{id:11,data:[106,303]}],EnemyData=[{id:1,name:"\u53F2\u83B1\u59C6",maxHP:3,maxMP:0,power:5,res:3,speed:2,agi:0,AI:{type:"attack"},exp:1,gold:2,spritePivotOffset:[1080,0]},{id:2,name:"\u53F2\u83B1\u59C6\u8D1D\u65AF",maxHP:4,maxMP:0,power:7,res:3,speed:4,agi:0,AI:{type:"attack"},exp:2,gold:4,spritePivotOffset:[1200,0]},{id:3,name:"\u591A\u62C9\u5947",maxHP:6,maxMP:0,power:9,res:6,speed:5,agi:2,AI:{type:"attack"},exp:3,gold:6,spritePivotOffset:[360,0]},{id:4,name:"\u9B3C\u9B42",maxHP:7,maxMP:0,power:11,res:8,speed:6,agi:4,AI:{type:"attack"},exp:4,gold:8,spritePivotOffset:[360,0]},{id:5,name:"\u9B54\u6CD5\u5E08",maxHP:12,maxMP:8,power:8,res:12,speed:6,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:10},{type:"magic",value:2002,percentage:90}]},exp:8,gold:16,spritePivotOffset:[0,240]},{id:6,name:"\u591A\u57FA\u6CD5\u5E08",maxHP:15,maxMP:8,power:13,res:13,speed:8,agi:0,AI:{type:"attack",percentage:100},exp:12,gold:20,spritePivotOffset:[480,0]},{id:7,name:"\u5927\u874E\u5B50",maxHP:30,maxMP:0,power:18,res:35,speed:4,agi:0,AI:{type:"attack",percentage:100},exp:16,gold:25,spritePivotOffset:[1080,120]},{id:8,name:"\u9AB7\u9AC5",maxHP:30,maxMP:0,power:28,res:22,speed:17,agi:2,AI:{type:"attack",percentage:100},exp:25,gold:42,spritePivotOffset:[0,240]},{id:9,name:"\u6885\u8FBE",maxHP:22,maxMP:8,power:20,res:18,speed:11,agi:4,AI:{type:"attack",percentage:100},exp:14,gold:21,spritePivotOffset:[240,360]},{id:10,name:"\u6885\u591A\u9B3C\u9B42",maxHP:23,maxMP:10,power:18,res:20,speed:14,agi:1,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:50},{type:"magic",value:2002,percentage:50}]},exp:15,gold:19,spritePivotOffset:[120,120]},{id:11,name:"\u591A\u62C9\u9A6C\u57FA",maxHP:28,maxMP:10,power:22,res:26,speed:16,agi:4,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:3},{type:"magic",value:2002,percentage:2},{type:"magic",value:2001,percentage:2}]},exp:20,gold:25,spritePivotOffset:[600,0]},{id:12,name:"\u9B54\u5BFC\u58EB",maxHP:28,maxMP:10,power:26,res:24,speed:15,agi:1,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:2},{type:"magic",value:2002,percentage:2},{type:"magic",value:2003,percentage:2}]},exp:28,gold:50,spritePivotOffset:[120,240]},{id:13,name:"\u517D\u4EBA",maxHP:34,maxMP:0,power:40,res:30,speed:21,agi:2,AI:{type:"attack",percentage:100},exp:40,gold:60,spritePivotOffset:[360,240]},{id:14,name:"\u94C1\u874E\u5B50",maxHP:22,maxMP:0,power:36,res:60,speed:25,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:6},{type:"defend",percentage:2}]},exp:31,gold:48,spritePivotOffset:[1200,120]},{id:15,name:"\u6B7B\u7075",maxHP:36,maxMP:9,power:44,res:34,speed:23,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:5},{type:"magic",value:2001,percentage:3}]},exp:42,gold:62,spritePivotOffset:[840,0]},{id:16,name:"\u5C01\u9B54\u517D\u4EBA",maxHP:38,maxMP:6,power:50,res:36,speed:23,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:6},{type:"magic",value:2005,percentage:2}]},exp:52,gold:80,spritePivotOffset:[0,240]},{id:17,name:"\u91D1\u4EBA",maxHP:99,maxMP:0,power:48,res:30,speed:26,agi:1,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:6},{type:"defend",percentage:2}]},exp:6,gold:650,spritePivotOffset:[360,120]},{id:18,name:"\u57FA\u7F8E\u62C9",maxHP:42,maxMP:0,power:56,res:48,speed:31,agi:1,AI:{type:"attack",percentage:100},exp:64,gold:105,spritePivotOffset:[720,240]},{id:19,name:"\u9F99",maxHP:155,maxMP:0,power:58,res:72,speed:33,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:5},{type:"magic",value:2050,percentage:3}]},exp:950,gold:250,spritePivotOffset:[0,0]},{id:20,name:"\u5730\u72F1\u9B3C\u9B42",maxHP:35,maxMP:14,power:40,res:38,speed:26,agi:2,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:3},{type:"magic",value:2002,percentage:2},{type:"magic",value:2003,percentage:1},{type:"magic",value:2005,percentage:1}]},exp:47,gold:72,spritePivotOffset:[240,120]},{id:21,name:"\u6885\u8FBE\u738B",maxHP:35,maxMP:30,power:41,res:40,speed:28,agi:8,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:3},{type:"magic",value:2001,percentage:3},{type:"magic",value:2002,percentage:2}]},exp:56,gold:95,spritePivotOffset:[360,360]},{id:22,name:"\u591A\u7F57\u6CD5\u5E08",maxHP:55,maxMP:10,power:44,res:16,speed:11,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:4},{type:"magic",value:2003,percentage:2}]},exp:58,gold:110,spritePivotOffset:[120,360]},{id:23,name:"\u6B7B\u7075\u9A91\u58EB",maxHP:46,maxMP:12,power:62,res:46,speed:36,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:6},{type:"magic",value:2001,percentage:2}]},exp:72,gold:120,spritePivotOffset:[960,0]},{id:25,name:"\u94E0\u7532\u9A91\u58EB",maxHP:55,maxMP:6,power:70,res:71,speed:45,agi:1,AI:{type:"sequence",nodes:[{type:"attack"},{type:"select",nodes:[{type:"attack",percentage:4},{type:"magic",value:2005,percentage:4}]}]},exp:78,gold:150,spritePivotOffset:[720,120]},{id:24,name:"\u3057\u306E\u3055\u305D\u308A",maxHP:35,maxMP:0,power:55,res:90,speed:45,agi:0,AI:{type:"attack",percentage:100},exp:70,gold:110,spritePivotOffset:[1320,120]},{id:26,name:"\u5F71\u5B50\u9A91\u58EB",maxHP:43,maxMP:0,power:79,res:51,speed:40,agi:15,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:10},{type:"magic",value:2002,percentage:90}]},exp:90,gold:148,spritePivotOffset:[840,0]},{id:27,name:"\u57FA\u7F8E\u6CD5\u5E08",maxHP:50,maxMP:12,power:68,res:62,speed:44,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:4},{type:"magic",value:2002,percentage:2},{type:"magic",value:2003,percentage:2}]},exp:83,gold:135,spritePivotOffset:[960,240]},{id:28,name:"\u91D1\u5C5E\u53F2\u83B1\u59C6",maxHP:4,maxMP:6,power:18,res:254,speed:153,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:4},{type:"magic",value:2002,percentage:1},{type:"escape",value:2002,percentage:3}]},exp:775,gold:6,spritePivotOffset:[1320,0]},{id:29,name:"\u517D\u4EBA\u6740\u624B",maxHP:60,maxMP:0,power:80,res:65,speed:45,agi:2,AI:{type:"attack",percentage:100},exp:95,gold:155,spritePivotOffset:[600,240]},{id:30,name:"\u661F\u5149\u57FA\u62C9",maxHP:73,maxMP:15,power:82,res:65,speed:52,agi:2,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:4},{type:"magic",value:2050,percentage:2},{type:"magic",value:2009,percentage:2}]},exp:105,gold:195,spritePivotOffset:[840,240]},{id:31,name:"\u9F99",maxHP:67,maxMP:0,power:88,res:72,speed:47,agi:0,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:5},{type:"magic",value:2050,percentage:3}]},exp:135,gold:160,spritePivotOffset:[0,0]},{id:32,name:"\u5927\u9B54\u5BFC\u58EB",maxHP:70,maxMP:16,power:71,res:60,speed:49,agi:1,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:5},{type:"magic",value:2002,percentage:2},{type:"magic",value:2010,percentage:1}]},exp:120,gold:185,spritePivotOffset:[0,240]},{id:33,name:"\u54E5\u96F7\u59C6",maxHP:155,maxMP:0,power:120,res:60,speed:39,agi:0,AI:{type:"attack",percentage:8},exp:2500,gold:0,spritePivotOffset:[480,120]},{id:34,name:"\u6076\u9B54\u9A91\u58EB",maxHP:79,maxMP:4,power:94,res:92,speed:53,agi:1,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:5},{type:"magic",value:2003,percentage:3}]},exp:130,gold:165,spritePivotOffset:[840,124]},{id:35,name:"\u57FA\u65AF\u9F99",maxHP:98,maxMP:0,power:98,res:80,speed:52,agi:2,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:4},{type:"magic",value:2050,percentage:4}]},exp:180,gold:150,spritePivotOffset:[240,0]},{id:36,name:"\u77F3\u4EBA",maxHP:160,maxMP:0,power:100,res:40,speed:40,agi:0,AI:{type:"attack",percentage:8},exp:155,gold:148,spritePivotOffset:[600,120]},{id:37,name:"\u6B7B\u795E\u9A91\u58EB",maxHP:95,maxMP:14,power:105,res:99,speed:57,agi:2,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:3},{type:"magic",value:2010,percentage:2},{type:"magic",value:2009,percentage:2}]},exp:172,gold:152,spritePivotOffset:[840,120]},{id:38,name:"\u8FBE\u65AF\u9F99",maxHP:160,maxMP:0,power:100,res:40,speed:40,agi:0,AI:{type:"sequence",nodes:[{type:"attack"},{type:"magic",value:2005},{type:"attack"},{type:"magic",value:2050},{type:"attack"},{type:"attack"},{type:"magic",value:2050},{type:"attack"}]},exp:155,gold:148,spritePivotOffset:[120,0]},{id:39,name:"\u9F99\u738B",maxHP:240,maxMP:40,power:107,res:110,speed:55,agi:2,AI:{type:"select",percentage:100,nodes:[{type:"attack",percentage:3},{type:"magic",value:2010,percentage:2},{type:"magic",value:2009,percentage:2},{type:"magic",value:2003,percentage:1}]},exp:0,gold:0,spritePivotOffset:[480,360]},{id:40,name:"\u9F99\u738B",maxHP:350,maxMP:0,power:130,res:150,speed:90,agi:0,AI:{type:"sequence",nodes:[{type:"magic",value:"2052"},{type:"attack"},{type:"select",nodes:[{type:"magic",value:2050,percentage:4},{type:"magic",value:2051,percentage:4}]},{type:"select",nodes:[{type:"attack"},{type:"magic",value:2051}]}]},exp:8,gold:16,spriteWidth:240,spriteHeight:240,spritePivotOffset:[0,480]}],MagicData=[{id:2001,name:"\u8377\u4F0A\u7C73",cost:4,type:1,useType:3,effect:"u:all:HP:20-35",useCommonTime:"after"},{id:2002,name:"\u57FA\u62C9",cost:2,type:2,useType:2,effect:"u:battle:damage:5-12"},{id:2003,name:"\u62C9\u91CC\u8377",cost:2,type:2,useType:2,effect:"u:battle:marker:sleep:2-5"},{id:2004,name:"\u96F7\u7C73\u62C9",cost:3,type:0,useType:1,effect:"u:common:light:160-0",useCommonText:"\u7167\u4EAE\u4E86\u56DB\u5468",useCommonTime:"after"},{id:2005,name:"\u9A6C\u8377\u987F",cost:2,type:4,useType:2,effect:"u:battle:marker:sealingMagic:2-5"},{id:2006,name:"\u91CC\u96F7\u7C73\u62C9",cost:6,type:0,useType:1,effect:"u:common:entrance",useCommonTime:"after"},{id:2007,name:"\u9C81\u62C9",cost:8,type:0,useType:1,effect:"u:common:home",useCommonTime:"after"},{id:2008,name:"\u6258\u9ED1\u6D1B\u65AF",cost:2,type:0,useType:1,effect:"u:common:notMeetEnemy:127",useCommonText:"\u6682\u65F6\u4E0D\u4F1A\u906D\u9047\u654C\u4EBA\u4E86"},{id:2009,name:"\u8D1D\u8377\u4F0A\u7C73",cost:5,type:1,useType:3,effect:"u:all:HP:58-60",useCommonTime:"after"},{id:2010,name:"\u8D1D\u57FA\u62C9\u739B",cost:5,type:2,useType:2,effect:"u:battle:damage:58-65"},{id:2050,name:"\u706B\u4E4B\u606F",cost:0,type:2,useType:2,effect:"u:battle:damage:18-35"},{id:2051,name:"\u706B\u708E\u4E4B\u606F",cost:0,type:2,useType:2,effect:"u:battle:damage:18-35"},{id:2052,name:"\u6FC0\u70C8\u4E4B\u706B",cost:0,type:2,useType:2,effect:"u:battle:damage:18-35"}];class TorchPostProcess{constructor(e){r(this,"_engine");this._engine=e}render(e){const t=e;t.context.save(),t.context.clearRect(0,0,t.width,t.height);try{const a=this._engine.sceneManager.currentScene;let i=!1;if(a&&a.isCave&&!globalGameData.isLightInCave){const o=this._engine.getVariable(GlobalTeamControllerMarker);if(globalGameData.lightTime>0&&(globalGameData.lightTime-=this._engine.time.deltaTime,globalGameData.lightTime<=0&&(globalGameData.lightTime=0,globalGameData.lightRadius=0)),o!==null){t.context.save();const[s,h]=playerCenterPosition(o.headCameraPosition);t.context.beginPath(),t.context.arc(s,h,Math.max(globalGameData.lightRadius,20),0,Math.PI*2),t.context.clip(),i=!0}}t.cacheInfos.forEach(o=>{i&&o.renderOrder===RenderLayer.Window&&(t.context.restore(),i=!1),t.context.drawImage(o.canvas,0,0,t.width,t.height,0,0,t.width,t.height)})}catch{}t.context.restore()}}const TantegelCastleScene={name:"TantegelCastle",bgm:"bgm/castle.mp3",width:1344,height:1312,isCave:!1,isMeetEnemy:!1,group:"TantegelCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"right"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:512,y:480,width:32,height:32,active:!0,name:"Q1500 \u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:608,y:480,width:32,height:32,active:!0,name:"Q1500 \u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:512,y:512,width:32,height:32,active:!0,name:"bingshi_0"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:608,y:512,width:32,height:32,active:!0,name:"bingshi_1"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:512,y:544,width:32,height:32,active:!0,name:"bingshi_2"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:608,y:544,width:32,height:32,active:!0,name:"bingshi_3"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:512,y:576,width:32,height:32,active:!0,name:"bingshi_4"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:608,y:576,width:32,height:32,active:!0,name:"bingshi_5"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:512,y:608,width:32,height:32,active:!0,name:"bingshi_6"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1408",hideStart:!0,predecessorId:["Q888"]}],x:608,y:608,width:32,height:32,active:!0,name:"bingshi_7"},{components:[{type:"NPCControllerComponent",roleIndex:3,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q1407",hideStart:!0,predecessorId:["Q888","Q666"]}],x:576,y:416,width:32,height:32,active:!0,name:"PrincessQ1500"},{components:[{type:"NPCControllerComponent",roleIndex:2,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"Q1500",hideStart:!0,predecessorId:["Q888"]}],x:544,y:416,width:32,height:32,active:!0,name:"Q1500 \u56FD\u738B"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q2601",hideStart:!0,predecessorId:["Q888"]}],x:384,y:704,width:32,height:32,active:!0,name:"Q1500 \u5DE6\u5973\u5B50"},{components:[{type:"QuestEvent",eventId:"Q11",args:[24]}],x:992,y:256,width:32,height:32,active:!0,name:"\u94A5\u5319\u4E8B\u4EF6"},{components:[{type:"TalkQuestEvent",eventId:"Q1421",predecessorId:["Q888"]},{type:"QuestEvent",eventId:"Q1121"}],x:832,y:1024,width:32,height:32,active:!0,name:"\u6CD5\u5E08\u6062\u590D\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q1122"}],x:864,y:544,width:32,height:32,active:!0,name:"\u795E\u7236\u6062\u590DHP2"},{components:[{type:"QuestEvent",eventId:"Q1122"}],x:832,y:544,width:32,height:32,active:!0,name:"\u795E\u7236\u6062\u590DHP"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"left"}],x:864,y:1024,width:32,height:32,active:!0,name:"\u53F3\u6062\u590D\u6CD5\u5E08"},{components:[{type:"$MoveComponent",roleIndex:21,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:848,y:540,width:32,height:32,active:!0,name:"\u53F3\u795E\u7236"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"$$",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:992,y:224,width:32,height:32,active:!0,name:"\u94A5\u5319\u4E8B\u4EF6\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:9,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q1120",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:992,y:864,width:32,height:32,active:!0,name:"\u53F3\u5371\u9669\u540E\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1119",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:1056,y:672,width:32,height:32,active:!0,name:"\u53F3\u5371\u9669\u524D\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:9,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q1118",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:960,y:576,width:32,height:32,active:!0,name:"\u53F3\u6559\u5802\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:13,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1117",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:864,y:608,width:32,height:32,active:!0,name:"\u53F3\u6559\u5802\u5973\u5B50"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1116",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:1088,y:352,width:32,height:32,active:!0,name:"\u53F3\u4E0A\u5973\u5B50"},{components:[{type:"NPCControllerComponent",roleIndex:5,initDirection:"up",path:{type:"fixed",datas:[[0,0],[0,-2],[2,-2],[2,0]]}},{type:"TalkQuestEvent",eventId:"Q1115",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:768,y:320,width:32,height:32,active:!0,name:"\u4E2D\u53F3\u4E0A\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:9,moveSpeed:0,initDirection:"right"},{type:"TalkQuestEvent",eventId:"Q1112",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:256,y:448,width:32,height:32,active:!0,name:"\u5DE6\u4E2D\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q1111",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:320,y:672,width:32,height:32,active:!0,name:"\u5DE6\u4E2D\u95E8\u5185\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:12,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q1409",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q1209",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1109"}],x:416,y:992,width:32,height:32,active:!0,name:"\u5DE6\u4E0B\u5C0F\u5B69"},{components:[{type:"NPCControllerComponent",roleIndex:8,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q1410",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q1210",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1110"}],x:384,y:896,width:32,height:32,active:!0,name:"\u5DE6\u4E0B\u5546\u4EBA"},{components:[{type:"NPCControllerComponent",roleIndex:6,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1308",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1208",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1108",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:704,y:832,width:32,height:32,active:!0,name:"\u4E2D\u8EBA\u7740\u7684\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:5,initDirection:"right",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q1307",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1207",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1107",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:768,y:768,width:32,height:32,active:!0,name:"\u4E2D\u53F3\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1306",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1206",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1106",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:640,y:448,width:32,height:32,active:!0,name:"\u4E2D-\u697C\u68AF\u4E0B\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1305",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1205",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1105",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:640,y:384,width:32,height:32,active:!0,name:"\u4E2D-\u697C\u68AF\u4E0A\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q1114",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:448,y:256,width:32,height:32,active:!0,name:"\u4E2D\u4E0A\u5973\u5B50"},{components:[{type:"NPCControllerComponent",roleIndex:10,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q1113",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:480,y:256,width:32,height:32,active:!0,name:"\u4E2D\u4E0A\u9752\u5E74"},{components:[{type:"NPCControllerComponent",roleIndex:11,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q1303",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1203",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1103",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:544,y:608,width:32,height:32,active:!0,name:"\u697C\u68AF\u524D\u5973\u6027"},{components:[{type:"NPCControllerComponent",roleIndex:10,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q1304",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1204",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1104",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:576,y:512,width:32,height:32,active:!0,name:"\u697C\u68AF\u524D\u7537\u6027"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1202",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1102",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:608,y:1056,width:32,height:32,active:!0,name:"\u95E8\u53F3\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"right"},{type:"TalkQuestEvent",eventId:"Q1201",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1101",hideAfterFinish:!0,hideEventsId:["Q888"]}],x:512,y:1056,width:32,height:32,active:!0,name:"\u95E8\u5DE6\u58EB\u5175"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"TantegelCastle2",nextScene:"TantegelCastle2"},{type:"SceneTransitionDestination",tag:"TantegelCastle2",direction:"left",isPremutation:!1}],x:640,y:416,width:32,height:32,active:!0,name:"\u4E2D\u697C\u68AF"},{components:[{type:"SceneTransition",tag:"TantegelCastle3",nextScene:"TantegelCastle3"},{type:"SceneTransitionDestination",tag:"TantegelCastle3",direction:"down",isPremutation:!1}],x:1152,y:1120,width:32,height:32,active:!0,name:"\u592A\u9633\u4E4B\u77F3\u697C\u68AF"},{components:[{type:"SceneTransitionDestination",tag:"TantegelCastle",direction:"up",isPremutation:!1}],x:576,y:1088,width:32,height:32,active:!0,name:"\u5165\u53E3"},{components:[{type:"SceneTransition",tag:"TantegelCastle",nextScene:"World"}],x:480,y:1120,width:252,height:64,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"TantegelCastle",nextScene:"World"}],x:0,y:0,width:1400,height:200,active:!0,name:"\u4E0A\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"TantegelCastle",nextScene:"World"}],x:1184,y:0,width:96,height:1400,active:!0,name:"\u53F3\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"TantegelCastle_Door_2",colliderSize:[32,32]}],x:800,y:384,width:32,height:32,active:!0,background:"map/door.png",name:"Door2"},{components:[{type:"Door",id:"TantegelCastle_Door_1",colliderSize:[32,32]}],x:352,y:640,width:32,height:32,active:!0,background:"map/door.png",name:"Door1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"TantgelCastle_Chest_5",colliderSize:[32,32],money:0,items:[6],hidden:!1,important:!1}],x:256,y:672,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest5"},{components:[{type:"MapChest",id:"TantgelCastle_Chest_4",colliderSize:[32,32],money:0,items:[9],hidden:!1,important:!1}],x:224,y:640,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest4"},{components:[{type:"MapChest",id:"TantgelCastle_Chest_3",colliderSize:[32,32],money:0,items:[50],hidden:!1,important:!1}],x:256,y:608,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest3"},{components:[{type:"MapChest",id:"TantgelCastle_Chest_2",colliderSize:[32,32],money:350,items:[],hidden:!1,important:!1}],x:224,y:576,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest2"},{components:[{type:"MapChest",id:"TantgelCastle_Chest_1",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:800,y:736,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[{components:[{type:"$BoxCollider",size:[32,32]},{type:"QuestEvent",eventId:"$$",predecessorId:["Q888"],hideStart:!0,when:"trigger"}],x:512,y:448,width:32,height:32,active:!0,name:"block1"},{components:[{type:"$BoxCollider",size:[32,32]},{type:"QuestEvent",eventId:"$$",predecessorId:["Q888"],hideStart:!0,when:"trigger"}],x:608,y:448,width:32,height:32,active:!0,name:"block2"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[{components:[],x:511.363636363636,y:688.636363636364,width:-2,height:-2,active:!0,name:"Env",background:"map/TantegelCastle_Guardrail.png",renderLayer:10}]},{x:992,y:288,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[992,256],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,1,1,0,1,0,1,0,0,0,0,0,1,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,1,1,1,1,0,1,1,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,0,0,1,1,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0],width:42,height:41}}],x:0,y:0,width:1344,height:1312,active:!0,name:"TantegelCastle",background:"map/TantegelCastle.png"}},TantegelCastle2Scene={name:"TantegelCastle2",bgm:"bgm/castle.mp3",width:640,height:768,isCave:!1,isMeetEnemy:!1,group:"TantegelCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q1084",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1053",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1004"}],x:352,y:448,width:32,height:32,active:!0,name:"\u58EB\u5175\u53F3"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q1083",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1053",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1003"}],x:288,y:448,width:32,height:32,active:!0,name:"\u58EB\u5175\u5DE6"},{components:[{type:"NPCControllerComponent",roleIndex:4,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q1085",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q1055",predecessorId:["Q665"]},{type:"TalkQuestEvent",eventId:"Q1005"}],x:448,y:288,width:32,height:32,active:!0,name:"\u5927\u81E3"},{components:[{type:"NPCControllerComponent",roleIndex:3,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q1080",predecessorId:["Q666"],hideStart:!0}],x:384,y:192,width:32,height:32,active:!0,name:"\u516C\u4E3B"},{components:[{type:"NPCControllerComponent",roleIndex:3,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1080",predecessorId:["$$"],hideStart:!0}],x:288,y:224,width:32,height:32,active:!0,name:"PrincessQ1051"},{components:[{type:"NPCControllerComponent",roleIndex:2,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"Q1051",predecessorId:["Q665"]},{type:"QuestEvent",eventId:"Q1"}],x:256,y:192,width:32,height:32,active:!0,name:"\u56FD\u738B"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"TantegelCastle2",nextScene:"TantegelCastle"},{type:"SceneTransitionDestination",tag:"TantegelCastle2",direction:"down",isPremutation:!1}],x:320,y:608,width:32,height:32,active:!0,name:"\u4E2D\u697C\u68AF"},{components:[{type:"TalkQuestEvent",eventId:"Q1001",when:"enter",insertEventTable:!0},{type:"SceneTransitionDestination",tag:"StartGame",direction:"up",isPremutation:!1}],x:256,y:256,width:32,height:32,active:!0,name:"\u5F00\u59CB"},{components:[{type:"TalkQuestEvent",eventId:"Q100",when:"enter",insertEventTable:!1},{type:"SceneTransitionDestination",tag:"RebornPoint",direction:"up",isPremutation:!1}],x:256,y:256,width:32,height:32,active:!0,name:"\u91CD\u751F\u70B9"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"TantegelCastle2_Door_1",colliderSize:[96,96]}],x:288,y:510,width:128,height:128,active:!0,background:"map/TantegelCastle2_Door.png",name:"Door1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"QuestEvent",eventId:"$$",hideStart:!0,predecessorId:["Q660"]},{type:"MapChest",id:"TantgelCastle2_Chest_3",colliderSize:[32,32],money:0,items:[50],hidden:!1,important:!1}],x:352,y:288,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest3"},{components:[{type:"QuestEvent",eventId:"$$",hideStart:!0,predecessorId:["Q660"]},{type:"MapChest",id:"TantgelCastle2_Chest_2",colliderSize:[32,32],money:0,items:[2],hidden:!1,important:!1}],x:320,y:288,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest2"},{components:[{type:"QuestEvent",eventId:"$$",hideStart:!0,predecessorId:["Q660"]},{type:"MapChest",id:"TantgelCastle2_Chest_1",colliderSize:[32,32],money:120,items:[],hidden:!1,important:!1}],x:288,y:288,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[{components:[],x:288,y:509.875,width:-2,height:-2,active:!0,name:"Env",background:"map/TantegelCastle2_OpenDoor.png",renderLayer:10}]},{x:256,y:288,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[256,256],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,0,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,0,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:42,height:41}}],x:0,y:0,width:640,height:768,active:!0,name:"TantegelCastle2",background:"map/TantegelCastle2.png"}},TantegelCastle3Scene={name:"TantegelCastle3",bgm:"bgm/castle.mp3",width:544,height:320,isCave:!1,isMeetEnemy:!1,group:"TantegelCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:7,initDirection:"down"},{type:"QuestEvent",eventId:"Q300",insertEventTable:!0,hideAfterFinish:!0}],x:128,y:160,width:32,height:32,active:!0,name:"300\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:7,initDirection:"left"},{type:"QuestEvent",eventId:"Q302",predecessorId:["Q301"],insertEventTable:!0,hideAfterFinish:!0,hideStart:!0,when:"auto"}],x:160,y:160,width:32,height:32,active:!0,name:"302\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:7,initDirection:"up"},{type:"QuestEvent",eventId:"Q303",predecessorId:["Q302"],insertEventTable:!0,hideAfterFinish:!0,hideStart:!0}],x:128,y:160,width:32,height:32,active:!0,name:"303\u6CD5\u5E08"},{components:[{type:"QuestEvent",eventId:"0",predecessorId:["Q303"],hideStart:!0}],x:438,y:160.5,width:32,height:32,active:!0,name:"304\u6CD5\u5E08",background:"map/npc_14.png"},{components:[{type:"TalkQuestEvent",eventId:"Q304",predecessorId:["Q303"],hideStart:!0}],x:448,y:160,width:32,height:32,active:!0,name:"304\u6CD5\u5E08\u4E8B\u4EF6"},{components:[{type:"TalkQuestEvent",eventId:"Q304",predecessorId:["Q303"],hideStart:!0}],x:416,y:160,width:32,height:32,active:!0,name:"304\u6CD5\u5E08\u4E8B\u4EF6"},{components:[{type:"NPCControllerComponent",roleIndex:7,initDirection:"left"},{type:"QuestEvent",eventId:"Q301",predecessorId:["Q300"],hideAfterFinish:!0,hideStart:!0}],x:160,y:160,width:32,height:32,active:!0,name:"301\u6CD5\u5E08"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"TantegelCastle3",nextScene:"TantegelCastle"},{type:"SceneTransitionDestination",tag:"TantegelCastle3",direction:"down",isPremutation:!1}],x:128,y:256,width:32,height:32,active:!0,name:"\u4E2D\u697C\u68AF"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"TantgelCastle3_Chest_3",colliderSize:[32,32],money:0,items:[8],hidden:!0,important:!1}],x:448,y:96,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest3"},{components:[{type:"MapChest",id:"TantgelCastle3_Chest_2",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:416,y:96,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest2"},{components:[{type:"MapChest",id:"TantgelCastle3_Chest_1",colliderSize:[32,32],money:0,items:[504],hidden:!1,important:!1,finishEvents:["Q301"]}],x:128,y:64,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:128,y:192,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[128,192],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,0,1,1,0,0,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:17,height:10}}],x:0,y:0,width:544,height:320,active:!0,name:"TantegelCastle3",background:"map/TantegelCastle3.png"}},GaraiScene={name:"Garai",bgm:"bgm/town.mp3",width:1152,height:1152,isCave:!1,isMeetEnemy:!1,root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"QuestEvent",eventId:"Q5",args:[0,3]}],x:416,y:672,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q4",args:[6]}],x:608,y:640,width:32,height:32,active:!0,name:"\u65C5\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[1,1]}],x:224,y:512,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u4E8B\u4EF6"},{components:[{type:"NPCControllerComponent",roleIndex:13,moveSpeed:0,initDirection:"left"}],x:640,y:640,width:32,height:32,active:!0,name:"\u65C5\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"up"}],x:416,y:704,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"left"}],x:256,y:512,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"right"},{type:"TalkQuestEvent",eventId:"Q3017",hideAfterFinish:!0,insertEventTable:!0}],x:544,y:128,width:32,height:32,active:!0,name:"\u4E0A\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:18,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q3016",predecessorId:["Q3015"]},{type:"TalkQuestEvent",eventId:"Q3015",insertEventTable:!0}],x:224,y:288,width:32,height:32,active:!0,name:"\u4E0A\u8001\u59AA"},{components:[{type:"NPCControllerComponent",roleIndex:8,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q3009"}],x:480,y:224,width:32,height:32,active:!0,name:"\u4E0A\u5546\u4EBA"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q3007"}],x:608,y:352,width:32,height:32,active:!0,name:"\u4E0A\u53F3\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q3008"}],x:544,y:352,width:32,height:32,active:!0,name:"\u4E0A\u5DE6\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:10,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q3006"}],x:640,y:416,width:32,height:32,active:!0,name:"\u4E0A\u9752\u5E74"},{components:[{type:"NPCControllerComponent",roleIndex:10,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q3305",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q3005"}],x:160,y:480,width:32,height:32,active:!0,name:"\u5DE6\u9752\u5E74"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q3004"}],x:160,y:704,width:32,height:32,active:!0,name:"\u5DE6\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:9,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q3003"}],x:352,y:576,width:32,height:32,active:!0,name:"\u5DE6\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:11,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q3002"}],x:512,y:544,width:32,height:32,active:!0,name:"\u95E8\u524D\u5973\u5B50"},{components:[{type:"NPCControllerComponent",roleIndex:22,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q3001"}],x:608,y:576,width:32,height:32,active:!0,name:"\u95E8\u524D\u8BD7\u4EBA"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Garai",nextScene:"World"}],x:320,y:800,width:1e3,height:96,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Garai",nextScene:"World"}],x:1056,y:0,width:96,height:1400,active:!0,name:"\u53F3\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Garai",nextScene:"World"}],x:0,y:0,width:96,height:1400,active:!0,name:"\u5DE6\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Garais1",nextScene:"Garais1"},{type:"SceneTransitionDestination",tag:"Garais1",direction:"down",isPremutation:!1}],x:672,y:128,width:32,height:32,active:!0,name:"\u6D1E\u7A9F\u51FA\u5165\u53E3"},{components:[{type:"SceneTransitionDestination",tag:"Garai",direction:"down",isPremutation:!1}],x:768,y:544,width:32,height:32,active:!0,name:"\u5165\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"Garai_Door_1",colliderSize:[32,32]}],x:640,y:480,width:32,height:32,active:!0,background:"map/door.png",name:"Door1"},{components:[{type:"Door",id:"Garai_Door_2",colliderSize:[32,32]}],x:224,y:352,width:32,height:32,active:!0,background:"map/door.png",name:"Door2"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"Garai_Chest_1",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:416,y:256,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"},{components:[{type:"MapChest",id:"Garai_Chest_2",colliderSize:[32,32],money:0,items:[1],hidden:!1,important:!1}],x:416,y:224,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest2"},{components:[{type:"MapChest",id:"Garai_Chest_3",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:384,y:224,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:480,y:128,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[480,96],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,0,0,1,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,0,0,0,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,0,1,1,1,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,0,1,1,0,0,0,0,0,0,1,1,1,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,1,0,0,1,1,1,1,1,0,1,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],width:36,height:35}}],x:0,y:0,width:1152,height:1152,active:!0,name:"Garai",background:"map/Garai.png"}},MairaScene={name:"Maira",bgm:"bgm/town.mp3",width:1280,height:1280,isCave:!1,isMeetEnemy:!1,root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"QuestEvent",eventId:"Q4",args:[12]}],x:864,y:416,width:32,height:32,active:!0,name:"\u65C5\u9986\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[1,5]}],x:672,y:992,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[0,4]}],x:960,y:704,width:32,height:32,active:!0,name:"\u65C5\u9986\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"left"}],x:704,y:992,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"left"}],x:992,y:704,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"up"}],x:864,y:448,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q4013"}],x:672,y:352,width:32,height:32,active:!0,name:"\u6D74\u6C60\u53F3\u5973\u5B50"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q4020"}],x:512,y:352,width:32,height:32,active:!0,name:"\u6D74\u6C60\u5DE6\u5973\u5B50"},{components:[{type:"NPCControllerComponent",roleIndex:8,initDirection:"down",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q4012"}],x:544,y:512,width:32,height:32,active:!0,name:"\u4E2D\u5546\u4EBA"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q4011"}],x:288,y:352,width:32,height:32,active:!0,name:"\u5DE6\u4E0A\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"right"},{type:"TalkQuestEvent",eventId:"Q4010"}],x:352,y:736,width:32,height:32,active:!0,name:"\u5DE6\u95E8\u5185\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:5,initDirection:"down",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q4009"}],x:320,y:1056,width:32,height:32,active:!0,name:"\u5DE6\u4E0B\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:10,initDirection:"down",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q4308",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q4008"}],x:480,y:928,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u524D\u9752\u5E74"},{components:[{type:"TalkQuestEvent",eventId:"Q4007"}],x:960,y:320,width:32,height:32,active:!0,name:"\u65C5\u9986\u5185\u5149\u5934"},{components:[{type:"$MoveComponent",roleIndex:6,moveSpeed:0,initDirection:"up"}],x:973.666666666666,y:314.833333333333,width:32,height:32,active:!0,name:"\u65C5\u9986\u5185\u5149\u5934\u7684\u526F\u672C"},{components:[{type:"TalkQuestEvent",eventId:"Q4007"}],x:992,y:320,width:32,height:32,active:!0,name:"\u65C5\u9986\u5185\u5149\u5934"},{components:[{type:"NPCControllerComponent",roleIndex:18,initDirection:"down",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q4006"}],x:864,y:576,width:32,height:32,active:!0,name:"\u4E2D\u8001\u59AA"},{components:[{type:"NPCControllerComponent",roleIndex:9,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q4005"}],x:896,y:736,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:5,initDirection:"down",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q4004"}],x:640,y:640,width:32,height:32,active:!0,name:"\u4E95\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q4003"}],x:736,y:704,width:32,height:32,active:!0,name:"\u4E95\u524D\u5973\u5B50"},{components:[{type:"NPCControllerComponent",roleIndex:13,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q4002"}],x:704,y:736,width:32,height:32,active:!0,name:"\u4E95\u524D\u5987\u5973"},{components:[{type:"NPCControllerComponent",roleIndex:10,initDirection:"down",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q4001"}],x:864,y:896,width:32,height:32,active:!0,name:"\u95E8\u524D\u9752\u5E74"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Maira",nextScene:"World"}],x:800,y:992,width:160,height:64,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Maira",nextScene:"World"}],x:1024,y:544,width:160,height:128,active:!0,name:"\u53F3\u51FA\u53E3"},{components:[{type:"SceneTransitionDestination",tag:"Maira",direction:"up",isPremutation:!1}],x:864,y:960,width:32,height:32,active:!0,name:"\u5165\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"Maira_Door_1",colliderSize:[32,32]}],x:288,y:768,width:32,height:32,active:!0,background:"map/door.png",name:"Door1"},{components:[{type:"Door",id:"Maira_Door_2",colliderSize:[32,32]}],x:480,y:704,width:32,height:32,active:!0,background:"map/door.png",name:"Door2"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"Maira_Chest_1",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:576,y:512,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:608,y:416,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[576,416],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,0,0,0,1,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,0,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,1,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,1,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,0,1,0,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,0,0,1,1,0,0,0,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,1,1,1,1,1,0,1,1,1,1,1,1,0,0,1,0,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,1,1,1,0,0,1,1,1,1,0,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],width:40,height:40}}],x:0,y:0,width:1280,height:1280,active:!0,name:"Maira",background:"map/Maira.png"}},RimuldarScene={name:"Rimuldar",bgm:"bgm/town.mp3",width:1216,height:1184,isCave:!1,isMeetEnemy:!1,root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"QuestEvent",eventId:"Q4",args:[24]}],x:672,y:704,width:32,height:32,active:!0,name:"\u65C5\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[0,6]}],x:896,y:384,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q11",args:[16]}],x:256,y:320,width:32,height:32,active:!0,name:"\u5356\u94A5\u5319\u4E8B\u4EF6"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"Q5",args:[1,7]}],x:832,y:256,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97"},{components:[{type:"NPCControllerComponent",roleIndex:13,moveSpeed:0,initDirection:"right"}],x:640,y:704,width:32,height:32,active:!0,name:"\u65C5\u9986\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"down"}],x:896,y:352,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"up"}],x:256,y:352,width:32,height:32,active:!0,name:"\u4E70\u94A5\u5319\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:9,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q5014"}],x:608,y:928,width:32,height:32,active:!0,name:"\u623F\u95F4\u5185\u9752\u5E74\u7684\u526F\u672C"},{components:[{type:"NPCControllerComponent",roleIndex:9,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q5013"}],x:896,y:448,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u524D\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:10,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q5012"}],x:480,y:352,width:32,height:32,active:!0,name:"\u623F\u95F4\u5185\u9752\u5E74"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q5011"}],x:640,y:352,width:32,height:32,active:!0,name:"\u623F\u95F4\u5185\u5973\u5B50"},{components:[{type:"TalkQuestEvent",eventId:"Q5009"}],x:256,y:864,width:32,height:32,active:!0,name:"\u9884\u8A00\u5BB6\u4E8B\u4EF6"},{components:[{type:"NPCControllerComponent",roleIndex:18,moveSpeed:0,initDirection:"right"}],x:224,y:864,width:32,height:32,active:!0,name:"\u9884\u8A00\u5BB6"},{components:[{type:"NPCControllerComponent",roleIndex:9,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q5008"}],x:320,y:960,width:32,height:32,active:!0,name:"\u9884\u8A00\u524D\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q5007"}],x:352,y:864,width:32,height:32,active:!0,name:"\u9884\u8A00\u524D\u5973\u5B50"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q5006"}],x:352,y:832,width:32,height:32,active:!0,name:"\u9884\u8A00\u524D\u5546\u4EBA"},{components:[{type:"NPCControllerComponent",roleIndex:5,initDirection:"right",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q5005"}],x:448,y:672,width:32,height:32,active:!0,name:"\u4E2D\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:12,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q5004"}],x:544,y:544,width:32,height:32,active:!0,name:"\u65C5\u5E97\u524D\u5C0F\u5B69"},{components:[{type:"TalkQuestEvent",eventId:"Q5003"}],x:768,y:864,width:32,height:32,active:!0,name:"\u65C5\u9986\u5185\u8001\u5934\u4E8B\u4EF6"},{components:[{type:"TalkQuestEvent",eventId:"Q5003"}],x:800,y:864,width:32,height:32,active:!0,name:"\u65C5\u9986\u5185\u8001\u5934\u4E8B\u4EF6"},{components:[{type:"$MoveComponent",roleIndex:14,moveSpeed:0,initDirection:"up"}],x:788,y:861.333333333333,width:32,height:32,active:!0,name:"\u65C5\u9986\u5185\u8001\u5934"},{components:[{type:"NPCControllerComponent",roleIndex:19,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q5002"}],x:928,y:736,width:32,height:32,active:!0,name:"\u65C5\u9986\u5185\u58EE\u6C49"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q5010"}],x:320,y:544,width:32,height:32,active:!0,name:"\u5DE6\u4E2D\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:11,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q5001"}],x:864,y:608,width:32,height:32,active:!0,name:"\u95E8\u524D\u5973\u5B50"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransitionDestination",tag:"Rimuldar",direction:"left",isPremutation:!1}],x:1024,y:576,width:2e3,height:32,active:!0,name:"\u5165\u53E3"},{components:[{type:"SceneTransition",tag:"Rimuldar",nextScene:"World"}],x:0,y:1120,width:2e3,height:96,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Rimuldar",nextScene:"World"}],x:0,y:0,width:2e3,height:96,active:!0,name:"\u4E0A\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Rimuldar",nextScene:"World"}],x:0,y:0,width:96,height:2e3,active:!0,name:"\u5DE6\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Rimuldar",nextScene:"World"},{type:"SceneTransitionDestination",tag:"Rimuldar",direction:"down",isPremutation:!1}],x:1120,y:0,width:96,height:2e3,active:!0,name:"\u53F3\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"Rimuldar_Door_2",colliderSize:[32,32]}],x:864,y:864,width:32,height:32,active:!0,background:"map/door.png",name:"Door2"},{components:[{type:"Door",id:"Rimuldar_Door_1",colliderSize:[32,32]}],x:832,y:800,width:32,height:32,active:!0,background:"map/door.png",name:"Door1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"Rimuldar_Chest_1",colliderSize:[32,32],money:0,items:[1],hidden:!1,important:!1}],x:928,y:832,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:928,y:608,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[896,576],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,1,1,1,0,1,1,1,0,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,0,1,0,0,0,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,0,1,1,0,0,1,1,0,0,1,0,0,0,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,0,1,1,0,0,1,1,0,0,1,0,0,1,0,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,0,0,0,0,1,1,1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,0,1,1,0,1,1,0,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,0,0,1,0,0,1,1,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,1,1,1,1,1,0,0,1,0,0,0,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,1,1,1,1,1,0,0,1,0,0,0,1,0,0,0,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,1,1,1,1,1,0,0,1,0,0,0,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:38,height:37}}],x:0,y:0,width:1216,height:1184,active:!0,name:"Rimuldar",background:"map/Rimuldar.png"}},RadatomeScene={name:"Radatome",bgm:"bgm/town.mp3",width:1216,height:1216,isCave:!1,isMeetEnemy:!1,root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"QuestEvent",eventId:"Q10",args:[80]}],x:864,y:224,width:32,height:32,active:!0,name:"\u9999\u6C34\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q4",args:[3]}],x:416,y:768,width:32,height:32,active:!0,name:"\u65C5\u9986\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[1,2]}],x:896,y:896,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[0,1]}],x:256,y:256,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u4E8B\u4EF6"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"5",args:[1]}],x:256,y:224,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"left"},{type:"QuestEvent",eventId:"5",args:[1]}],x:928,y:896,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97"},{components:[{type:"NPCControllerComponent",roleIndex:13,moveSpeed:0,initDirection:"left"},{type:"QuestEvent",eventId:"5",args:[1]}],x:448,y:768,width:32,height:32,active:!0,name:"\u65C5\u9986"},{components:[{type:"NPCControllerComponent",roleIndex:17,moveSpeed:0,initDirection:"left"}],x:896,y:224,width:32,height:32,active:!0,name:"\u9999\u6C34\u5E97"},{components:[{type:"NPCControllerComponent",roleIndex:13,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q2602",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2002"}],x:224,y:352,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u524D\u5973\u6027"},{components:[{type:"NPCControllerComponent",roleIndex:10,initDirection:"left",path:{type:"fixed",datas:[[0,0],[4,0]],reverse:!0}},{type:"TalkQuestEvent",eventId:"Q2614",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2014"}],x:768,y:992,width:32,height:32,active:!0,name:"\u53F3\u4E0B\u9752\u5E74"},{components:[{type:"NPCControllerComponent",roleIndex:9,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q2612",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2012"}],x:704,y:704,width:32,height:32,active:!0,name:"\u53F3\u4E0B\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:11,moveSpeed:0,initDirection:"right"},{type:"TalkQuestEvent",eventId:"Q2615",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2015"}],x:576,y:832,width:32,height:32,active:!0,name:"\u53F3\u4E0B\u5973\u6027"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q2613",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2013"}],x:768,y:864,width:32,height:32,active:!0,name:"\u53F3\u4E0B\u9053\u5177\u5E97\u95E8\u53E3"},{components:[{type:"TalkQuestEvent",eventId:"Q2610",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2303",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q2010"}],x:480,y:960,width:32,height:32,active:!0,name:"\u5DE6\u4E0B\u6CD5\u5E08"},{components:[{type:"TalkQuestEvent",eventId:"Q2610",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2303",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q2010"}],x:448,y:960,width:32,height:32,active:!0,name:"\u5DE6\u4E0B\u6CD5\u5E081"},{components:[{type:"NPCControllerComponent",roleIndex:10,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q2606",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2006"}],x:736,y:416,width:32,height:32,active:!0,name:"\u53F3\u5C0F\u623F\u5B50\u9752\u5E74"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"right"},{type:"TalkQuestEvent",eventId:"Q2607",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2007"}],x:864,y:416,width:32,height:32,active:!0,name:"\u53F3\u5C0F\u623F\u5B50\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:10,initDirection:"left",path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q2601",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2001"}],x:384,y:544,width:32,height:32,active:!0,name:"\u95E8\u524D\u9752\u5E74"},{components:[{type:"NPCControllerComponent",roleIndex:9,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q2611",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2011"}],x:224,y:928,width:32,height:32,active:!0,name:"\u5DE6\u4E0B\u95E8\u5185\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:5,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q2608",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2008"}],x:864,y:576,width:32,height:32,active:!0,name:"\u53F3\u4E2D\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:8,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q2605",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2005"}],x:576,y:448,width:32,height:32,active:!0,name:"\u4E2D\u5546\u4EBA"},{components:[{type:"NPCControllerComponent",roleIndex:9,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q2604",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2301",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q2004"}],x:448,y:448,width:32,height:32,active:!0,name:"\u5893\u524D\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:6,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q2609",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2302",predecessorId:["Q666"]},{type:"TalkQuestEvent",eventId:"Q2609"}],x:1024,y:128,width:32,height:32,active:!0,name:"\u53F3\u4E0A\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:5,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q2603",predecessorId:["Q888"]},{type:"TalkQuestEvent",eventId:"Q2003"}],x:512,y:256,width:32,height:32,active:!0,name:"\u4E2D\u4E0A\u58EB\u5175"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Radatome",nextScene:"World"}],x:0,y:320,width:96,height:480,active:!0,name:"\u5DE6\u51FA\u53E3"},{components:[{type:"SceneTransitionDestination",tag:"Radatome",direction:"right",isPremutation:!1}],x:96,y:576,width:32,height:32,active:!0,name:"\u5DE6\u5165\u53E3"},{components:[{type:"SceneTransition",tag:"Radatome",nextScene:"World"}],x:1088,y:320,width:96,height:480,active:!0,name:"\u53F3\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Radatome",nextScene:"World"}],x:448,y:32,width:480,height:64,active:!0,name:"\u4E0A\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"Radatome_Door_1",colliderSize:[32,32]}],x:800,y:288,width:32,height:32,active:!0,background:"map/door.png",name:"Door1"},{components:[{type:"Door",id:"Radatome_Door_2",colliderSize:[32,32]}],x:288,y:832,width:32,height:32,active:!0,background:"map/door.png",name:"Door2"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"Radatome_Chest_1",colliderSize:[32,32],money:0,items:[3],hidden:!0,important:!1}],x:416,y:896,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:864,y:896,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[864,896],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,1,0,1,1,0,1,0,0,0,0,0,0,0,1,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,1,1,0,1,0,0,0,0,0,0,0,1,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,0,1,1,1,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,0,1,1,1,0,1,0,0,0,1,0,0,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,1,0,1,0,1,1,1,1,0,1,1,1,0,1,0,0,0,0,1,1,0,0,1,0,0,1,0,1,1,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,1,1,0,0,1,1,0,0,0,1,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,1,1,1,1,0,0,0,1,1,1,0,1,1,0,0,0,1,0,0,1,0,1,1,1,1,1,0,0,0,0,0,0,1,0,1,0,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:38,height:38}}],x:0,y:0,width:1216,height:1216,active:!0,name:"Radatome",background:"map/Radatome.png"}},DomdoraScene={name:"Domdora",bgm:"bgm/requiem.mp3",width:960,height:960,isCave:!1,isMeetEnemy:!1,root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Domdora",nextScene:"World"}],x:0,y:0,width:1e3,height:160,active:!0,name:"\u4E0A\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Domdora",nextScene:"World"}],x:0,y:800,width:1e3,height:160,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Domdora",nextScene:"World"}],x:800,y:0,width:160,height:1e3,active:!0,name:"\u53F3\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Domdora",nextScene:"World"}],x:0,y:0,width:160,height:1e3,active:!0,name:"\u5DE6\u51FA\u53E3"},{components:[{type:"SceneTransitionDestination",tag:"Domdora",direction:"down",isPremutation:!1}],x:160,y:384,width:32,height:32,active:!0,name:"\u5DE6\u5165\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"Domdora_Chest_1",colliderSize:[32,32],money:0,items:[207],hidden:!0,important:!0,trigger:!0}],x:736,y:544,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:160,y:224,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[128,224],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,0,1,0,0,0,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,1,1,0,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,0,1,0,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,1,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,1,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:30,height:30}}],x:0,y:0,width:960,height:960,active:!0,name:"Domdora",background:"map/Domdora.png"}},WorldScene={name:"World",bgm:"bgm/world.mp3",width:4096,height:4096,isCave:!1,isMeetEnemy:!1,root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle1",nextScene:"DracolordsCastle1",entraceTag:"DracolordsCastle1"},{type:"SceneTransitionDestination",tag:"DracolordsCastle1",direction:"down",isPremutation:!1}],x:1696,y:1632,width:64,height:32,active:!0,name:"DracolordsCastle"},{components:[{type:"SceneTransition",tag:"RockyCave1",nextScene:"RockyCave1",entraceTag:"RockyCave1"},{type:"SceneTransitionDestination",tag:"RockyCave1",direction:"down",isPremutation:!1}],x:1056,y:1952,width:32,height:32,active:!0,name:"RockyCave"},{components:[{type:"SceneTransition",tag:"Domdora",nextScene:"Domdora",entraceTag:"Domdora"},{type:"SceneTransitionDestination",tag:"Domdora",direction:"down",isPremutation:!1}],x:896,y:2976,width:32,height:32,active:!0,name:"Domdora"},{components:[{type:"SceneTransition",tag:"MarshyCave_Down",nextScene:"MarshyCave",entraceTag:"MarshyCave_Down"},{type:"SceneTransitionDestination",tag:"MarshyCave_Down",direction:"down",isPremutation:!1}],x:3456,y:1696,width:32,height:32,active:!0,name:"MarshyCave_Down"},{components:[{type:"SceneTransition",tag:"MarshyCave_Up",nextScene:"MarshyCave",entraceTag:"MarshyCave_Up"},{type:"SceneTransitionDestination",tag:"MarshyCave_Up",direction:"down",isPremutation:!1}],x:3456,y:1536,width:32,height:32,active:!0,name:"MarshyCave_Up"},{components:[{type:"SceneTransition",tag:"RotosCave1",nextScene:"RotosCave1",entraceTag:"RotosCave1"},{type:"SceneTransitionDestination",tag:"RotosCave1",direction:"down",isPremutation:!1}],x:1024,y:512,width:32,height:32,active:!0,name:"RotosCave"},{components:[{type:"SceneTransition",tag:"HolyShrine1",nextScene:"HolyShrine1"},{type:"SceneTransitionDestination",tag:"HolyShrine1",direction:"down",isPremutation:!1}],x:3584,y:3616,width:32,height:32,active:!0,name:"HolyShrine"},{components:[{type:"SceneTransition",tag:"RainShrine1",nextScene:"RainShrine1"},{type:"SceneTransitionDestination",tag:"RainShrine1",direction:"down",isPremutation:!1}],x:2720,y:160,width:32,height:32,active:!0,name:"RainShrine"},{components:[{type:"SceneTransition",tag:"Radatome",nextScene:"Radatome"},{type:"SceneTransitionDestination",tag:"Radatome",direction:"down",isPremutation:!1}],x:1664,y:1440,width:32,height:32,active:!0,name:"Radatome"},{components:[{type:"SceneTransition",tag:"Mercado",nextScene:"Mercado1"},{type:"SceneTransitionDestination",tag:"Mercado",direction:"down",isPremutation:!1}],x:2432,y:3392,width:64,height:32,active:!0,name:"Mercado"},{components:[{type:"SceneTransition",tag:"Rimuldar",nextScene:"Rimuldar"},{type:"SceneTransitionDestination",tag:"Rimuldar",direction:"down",isPremutation:!1}],x:3392,y:2432,width:32,height:32,active:!0,name:"Rimuldar"},{components:[{type:"SceneTransition",tag:"Garai",nextScene:"Garai"},{type:"SceneTransitionDestination",tag:"Garai",direction:"down",isPremutation:!1}],x:192,y:192,width:32,height:32,active:!0,name:"Garai"},{components:[{type:"SceneTransition",tag:"Maira",nextScene:"Maira"},{type:"SceneTransitionDestination",tag:"Maira",direction:"down",isPremutation:!1}],x:3456,y:448,width:32,height:32,active:!0,name:"Maira"},{components:[{type:"QuestEvent",eventId:"Q2",when:"enter"},{type:"SceneTransition",tag:"TantegelCastle",nextScene:"TantegelCastle"},{type:"SceneTransitionDestination",tag:"TantegelCastle",direction:"down",isPremutation:!1}],x:1504,y:1504,width:64,height:32,active:!0,name:"TantegelCastle"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"World_Chest_1",colliderSize:[32,32],money:0,items:[506],hidden:!0,important:!0,trigger:!0}],x:2784,y:3744,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[{components:[{type:"$BoxCollider",size:[32,32]},{type:"QuestEvent",eventId:"Q350",hideAfterFinish:!0,when:"trigger"}],x:2176,y:1696,width:32,height:32,active:!0,name:"ocean-block",background:"map/ocean.png"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:864,y:2976,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[832,2976],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,0,0,1,0,1,1,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:128,height:128}}],x:0,y:0,width:4096,height:4096,active:!0,name:"World",background:"map/World.png"}},HolyShrine1Scene={name:"HolyShrine1",bgm:"bgm/shrine.mp3",width:480,height:480,isCave:!1,isMeetEnemy:!1,group:"HolyShrine",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"HolyShrine2",nextScene:"HolyShrine2"},{type:"SceneTransitionDestination",tag:"HolyShrine2",direction:"down",isPremutation:!1}],x:224,y:192,width:32,height:32,active:!0,name:"\u4E2D\u697C\u68AF"},{components:[{type:"SceneTransition",tag:"HolyShrine1",nextScene:"World"}],x:128,y:352,width:252,height:64,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransitionDestination",tag:"HolyShrine1",direction:"down",isPremutation:!1}],x:224,y:320,width:32,height:32,active:!0,name:"\u4E0B\u5165\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[null,null],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:15,height:15}}],x:0,y:0,width:480,height:480,active:!0,name:"HolyShrine1",background:"map/HolyShrine1.png"}},HolyShrine2Scene={name:"HolyShrine2",bgm:"bgm/shrine.mp3",width:480,height:448,isCave:!1,isMeetEnemy:!1,group:"HolyShrine",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"Q340",hideAfterFinish:!0}],x:224,y:288,width:32,height:32,active:!0,name:"\u6CD5\u5E08 Q340"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q341",predecessorId:["Q340"],hideStart:!0}],x:256,y:288,width:32,height:32,active:!0,name:"\u6CD5\u5E08 Q341"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"HolyShrine2",nextScene:"HolyShrine1"},{type:"SceneTransitionDestination",tag:"HolyShrine2",direction:"left",isPremutation:!1}],x:352,y:384,width:32,height:32,active:!0,name:"\u4E2D\u697C\u68AF"},{components:[{type:"SceneTransition",tag:"TantegelCastle",nextScene:"World"},{type:"SceneTransitionDestination",tag:"TantegelCastle",direction:"down",isPremutation:!1}],x:480,y:1120,width:252,height:64,active:!0,name:"\u4E0B\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"QuestEvent",eventId:"Q342",predecessorId:["Q340"],insertEventTable:!0,hideAfterFinish:!0,hideStart:!0},{type:"MapChest",id:"HolyShrine2_Chest_1",colliderSize:[32,32],money:0,items:[507],hidden:!1,finishEvents:["Q342"]}],x:224,y:192,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Holy"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:224,y:320,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[224,320],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,1,1,0,0,1,1,1,1,0,0,0,1,0,1,0,1,0,1,0,0,0,1,1,0,0,1,1,0,0,0,0,0,1,1,0,0,1,1,0,1,0,0,1,1,1,1,1,0,0,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,0,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,0,0,0,0,1,1,0,0,1,1,0,0,0,1,0,1,0,1,0,1,0,0,0,1,1,1,1,0,0,1,1,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:15,height:14}}],x:0,y:0,width:480,height:448,active:!0,name:"HolyShrine2",background:"map/HolyShrine2.png"}},RainShrine1Scene={name:"RainShrine1",bgm:"bgm/shrine.mp3",width:416,height:416,isCave:!1,isMeetEnemy:!1,group:"RainShrine",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"RainShrine2",nextScene:"RainShrine2"},{type:"SceneTransitionDestination",tag:"RainShrine2",direction:"down",isPremutation:!1}],x:192,y:192,width:32,height:32,active:!0,name:"\u4E2D\u697C\u68AF"},{components:[{type:"SceneTransition",tag:"RainShrine1",nextScene:"World"}],x:128,y:288,width:252,height:64,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransitionDestination",tag:"RainShrine1",direction:"up",isPremutation:!1}],x:192,y:256,width:32,height:32,active:!0,name:"\u4E0B\u5165\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:192,y:224,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[192,224],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:13,height:13}}],x:0,y:0,width:416,height:416,active:!0,name:"RainShrine1",background:"map/RainShrine1.png"}},RainShrine2Scene={name:"RainShrine2",bgm:"bgm/shrine.mp3",width:352,height:384,isCave:!1,isMeetEnemy:!1,group:"RainShrine",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"Q330",hideAfterFinish:!0}],x:160,y:192,width:32,height:32,active:!0,name:"\u6CD5\u5E08 Q330"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q331",predecessorId:["Q330"],hideAfterFinish:!0,hideStart:!0}],x:192,y:192,width:32,height:32,active:!0,name:"\u6CD5\u5E08 Q331"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q332",predecessorId:["Q331"],hideStart:!0}],x:192,y:192,width:32,height:32,active:!0,name:"\u6CD5\u5E08 Q332"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"RainShrine2",nextScene:"RainShrine1"},{type:"SceneTransitionDestination",tag:"RainShrine2",direction:"left",isPremutation:!1}],x:192,y:320,width:32,height:32,active:!0,name:"\u4E2D\u697C\u68AF"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"RainShrine2_Chest_1",colliderSize:[32,32],money:0,items:[503],hidden:!1,important:!0,finishEvents:["Q331"]}],x:160,y:128,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:160,y:224,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[160,192],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,1,1,1,1,1,0,0,1,1,0,0,1,1,0,1,1,0,0,1,1,0,0,1,1,0,1,1,0,0,1,1,0,0,1,0,0,0,1,0,0,1,1,0,0,1,1,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:11,height:12}}],x:0,y:0,width:352,height:384,active:!0,name:"RainShrine2",background:"map/RainShrine2.png"}},RotosCave1Scene={name:"RotosCave1",bgm:"bgm/dungeon.mp3",width:768,height:768,isCave:!0,isMeetEnemy:!1,group:"RotosCave",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"RotosCave2",nextScene:"RotosCave2"},{type:"SceneTransitionDestination",tag:"RotosCave2",direction:"down",isPremutation:!1}],x:672,y:672,width:32,height:32,active:!0,name:"\u697C\u68AF"},{components:[{type:"SceneTransition",tag:"RotosCave1",nextScene:"World"},{type:"SceneTransitionDestination",tag:"RotosCave1",direction:"down",isPremutation:!1}],x:64,y:64,width:32,height:32,active:!0,name:"\u5165\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:160,y:96,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[160,64],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:24,height:24}}],x:0,y:0,width:768,height:768,active:!0,name:"RotosCave1",background:"map/RotosCave1.png"}},RotosCave2Scene={name:"RotosCave2",bgm:"bgm/dungeon.mp3",width:768,height:768,isCave:!0,isMeetEnemy:!1,group:"RotosCave",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"TalkQuestEvent",eventId:"Q310"}],x:640,y:128,width:32,height:32,active:!0,name:"\u5893\u7891\u6587\u5B57\u4E8B\u4EF6"},{components:[{type:"TalkQuestEvent",eventId:"Q310"}],x:608,y:128,width:32,height:32,active:!0,name:"\u5893\u7891\u6587\u5B57\u4E8B\u4EF6"},{components:[{type:"TalkQuestEvent",eventId:"Q310"}],x:608,y:96,width:32,height:32,active:!0,name:"\u5893\u7891\u6587\u5B57\u4E8B\u4EF6"},{components:[{type:"TalkQuestEvent",eventId:"Q310"}],x:640,y:96,width:32,height:32,active:!0,name:"\u5893\u7891\u6587\u5B57\u4E8B\u4EF6"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"RotosCave2",nextScene:"RotosCave1"},{type:"SceneTransitionDestination",tag:"RotosCave2",direction:"down",isPremutation:!1}],x:576,y:640,width:32,height:32,active:!0,name:"\u697C\u68AF"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"TantgelCastle_Chest1",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:800,y:736,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:640,y:192,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[640,160],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:24,height:24}}],x:0,y:0,width:768,height:768,active:!0,name:"RotosCave2",background:"map/RotosCave2.png"}},MarshyCaveScene={name:"MarshyCave",bgm:"bgm/dungeon.mp3",width:512,height:2048,isCave:!0,isMeetEnemy:!0,enemies:"5,6,7,9,14",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:3,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"Q600"}],x:352,y:1280,width:32,height:32,active:!0,name:"\u516C\u4E3B"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"MarshyCave_Down",nextScene:"World"},{type:"SceneTransitionDestination",tag:"MarshyCave_Down",direction:"down",isPremutation:!1}],x:64,y:1920,width:32,height:32,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"MarshyCave_Up",nextScene:"World"},{type:"SceneTransitionDestination",tag:"MarshyCave_Up",direction:"down",isPremutation:!1}],x:64,y:64,width:32,height:32,active:!0,name:"\u4E0A\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"MarshyCave_Door",colliderSize:[64,64]}],x:192,y:1344,width:64,height:64,active:!0,background:"map/door2.png",name:"Door"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"TantgelCastle_Chest1",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:800,y:736,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:96,y:1920,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[96,1920],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,1,1,0,1,1,1,1,0,0,1,1,0,0,1,1,0,1,1,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:16,height:64}}],x:0,y:0,width:512,height:2048,active:!0,name:"MarshyCave",background:"map/MarshyCave.png"}},Mercado1Scene={name:"Mercado1",bgm:"bgm/town.mp3",width:1312,height:1440,isCave:!1,isMeetEnemy:!1,group:"Mercado",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"QuestEvent",eventId:"Q4",args:[50]}],x:416,y:288,width:32,height:32,active:!0,name:"\u65C5\u9986\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q10",args:[12]}],x:992,y:1120,width:32,height:32,active:!0,name:"\u5356\u9999\u6C34\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[1,9]}],x:832,y:576,width:32,height:32,active:!0,name:"\u53F3\u4E2D\u9053\u5177\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q11",args:[32]}],x:1056,y:416,width:32,height:32,active:!0,name:"\u5356\u94A5\u5319\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[0,11]}],x:992,y:544,width:32,height:32,active:!0,name:"\u53F3\u4E2D\u6B66\u5668\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[0,10]}],x:896,y:992,width:32,height:32,active:!0,name:"\u53F3\u4E0B\u6B66\u5668\u5E97"},{components:[{type:"QuestEvent",eventId:"Q5",args:[0,8]}],x:832,y:320,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u4E8B\u4EF6"},{components:[{type:"QuestEvent",eventId:"Q5",args:[1,9]}],x:352,y:544,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"down"}],x:416,y:256,width:32,height:32,active:!0,name:"\u65C5\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:13,moveSpeed:0,initDirection:"left"}],x:864,y:576,width:32,height:32,active:!0,name:"\u53F3\u4E0A\u9053\u5177\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"left"}],x:864,y:320,width:32,height:32,active:!0,name:"\u6B66\u5668\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:19,moveSpeed:0,initDirection:"right"}],x:960,y:544,width:32,height:32,active:!0,name:"\u53F3\u6B66\u5668\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"down"}],x:1056,y:384,width:32,height:32,active:!0,name:"\u94A5\u5319\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:10,moveSpeed:0,initDirection:"down"}],x:896,y:960,width:32,height:32,active:!0,name:"\u53F3\u4E0B\u6B66\u5668\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"left"}],x:384,y:544,width:32,height:32,active:!0,name:"\u5DE6\u4E2D\u9053\u5177\u5E97\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:17,moveSpeed:0,initDirection:"left"}],x:1024,y:1120,width:32,height:32,active:!0,name:"\u5356\u9999\u6C34\u8001\u677F"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q6012"}],x:256,y:352,width:32,height:32,active:!0,name:"\u5DE6\u4E0A\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:17,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q6010"}],x:960,y:768,width:32,height:32,active:!0,name:"\u53F3\u4E2D\u4FEE\u5973"},{components:[{type:"NPCControllerComponent",roleIndex:8,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q6009"}],x:960,y:640,width:32,height:32,active:!0,name:"\u53F3\u4E2D\u5546\u4EBA"},{components:[{type:"TalkQuestEvent",eventId:"Q6008"}],x:608,y:1152,width:32,height:32,active:!0,name:"\u4E2D\u4E0B\u6CD5\u5E08"},{components:[{type:"NPCControllerComponent",roleIndex:7,moveSpeed:0,initDirection:"up"},{type:"TalkQuestEvent",eventId:"Q6008"}],x:608,y:1184,width:32,height:32,active:!0,name:"\u5DE6\u4E2D\u6CD5\u5E08\u4E8B\u4EF6"},{components:[{type:"NPCControllerComponent",roleIndex:18,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q6007"}],x:576,y:704,width:32,height:32,active:!0,name:"\u4E2D\u8001\u59AA"},{components:[{type:"NPCControllerComponent",roleIndex:19,moveSpeed:0,initDirection:"right"},{type:"TalkQuestEvent",eventId:"Q6003"}],x:224,y:544,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u524D\u58EE\u6C49"},{components:[{type:"NPCControllerComponent",roleIndex:8,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q6006"}],x:256,y:1088,width:32,height:32,active:!0,name:"\u5DE6\u4E0B\u5546\u4EBA"},{components:[{type:"NPCControllerComponent",roleIndex:13,initDirection:"right",moveWaitTime:200,path:{type:"fixed",datas:[[0,0],[0,5],[-1,5],[-1,5],[0,5],[0,0],[0,0]],reverse:!1}},{type:"TalkQuestEvent",eventId:"Q6004"}],x:288,y:544,width:32,height:32,active:!0,name:"\u9053\u5177\u5E97\u524D\u5987\u5973"},{components:[{type:"NPCControllerComponent",roleIndex:9,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q6002"}],x:512,y:320,width:32,height:32,active:!0,name:"\u65C5\u9986\u5185\u5175\u58EB"},{components:[{type:"NPCControllerComponent",roleIndex:5,path:{type:"random"}},{type:"TalkQuestEvent",eventId:"Q6001"}],x:640,y:320,width:32,height:32,active:!0,name:"\u95E8\u524D\u5175\u58EB"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Mercado3",nextScene:"Mercado3"},{type:"SceneTransitionDestination",tag:"Mercado3",direction:"down",isPremutation:!1}],x:1056,y:224,width:32,height:32,active:!0,name:"\u53F3\u697C\u68AF"},{components:[{type:"SceneTransitionDestination",tag:"Mercado3_Right",direction:"down",isPremutation:!1}],x:1120,y:224,width:32,height:32,active:!0,name:"\u53F3\u697C\u68AF\u53F3\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Mercado2",nextScene:"Mercado2"},{type:"SceneTransitionDestination",tag:"Mercado2",direction:"down",isPremutation:!1}],x:224,y:224,width:32,height:32,active:!0,name:"\u5DE6\u697C\u68AF"},{components:[{type:"SceneTransitionDestination",tag:"Mercado",direction:"down",isPremutation:!1}],x:640,y:128,width:32,height:32,active:!0,name:"\u5165\u53E3"},{components:[{type:"SceneTransition",tag:"Mercado",nextScene:"World"}],x:576,y:64,width:160,height:64,active:!0,name:"\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"Mercado_Door_5",colliderSize:[32,32]}],x:608,y:960,width:32,height:32,active:!0,background:"map/door.png",name:"Door5"},{components:[{type:"Door",id:"Mercado_Door_4",colliderSize:[32,32]}],x:640,y:960,width:32,height:32,active:!0,background:"map/door.png",name:"Door4"},{components:[{type:"Door",id:"Mercado_Door_3",colliderSize:[32,32]}],x:288,y:864,width:32,height:32,active:!0,background:"map/door.png",name:"Door3"},{components:[{type:"Door",id:"Mercado_Door_2",colliderSize:[32,32]}],x:416,y:992,width:32,height:32,active:!0,background:"map/door.png",name:"Door2"},{components:[{type:"Door",id:"Mercado_Door_1",colliderSize:[32,32]}],x:992,y:448,width:32,height:32,active:!0,background:"map/door.png",name:"Door1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"TantgelCastle_Chest1",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:1376,y:768,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:608,y:960,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[608,960],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,1,1,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,1,0,0,1,1,0,0,0,1,1,1,1,1,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,1,1,0,1,1,0,1,1,0,0,0,0,1,0,0,1,0,1,0,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,1,1,0,0,1,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,1,1,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,1,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,0,0,1,0,0,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,0,1,1,1,1,0,0,1,1,1,1,0,1,0,0,1,1,0,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,1,1,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,1,0,1,2,1,1,1,1,1,1,2,1,0,1,0,0,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,1,0,1,2,2,2,0,0,2,2,2,1,0,1,0,0,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,0,1,0,1,0,0,1,0,1,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,1,1,1,0,0,1,0,0,1,1,0,0,1,0,0,1,1,1,1,0,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:41,height:45}}],x:0,y:0,width:1312,height:1440,active:!0,name:"Mercado1",background:"map/Mercado1.png"}},Mercado2Scene={name:"Mercado2",bgm:"bgm/town.mp3",width:160,height:192,isCave:!1,isMeetEnemy:!1,group:"Mercado",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1003"}],x:1920,y:128,width:32,height:32,active:!0,name:"\u4E2D-\u697C\u68AF\u4E0B\u58EB\u5175"},{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"left"},{type:"TalkQuestEvent",eventId:"Q1003"}],x:1920,y:64,width:32,height:32,active:!0,name:"\u4E2D-\u697C\u68AF\u4E0A\u58EB\u5175"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Mercado2",nextScene:"Mercado1"},{type:"SceneTransitionDestination",tag:"Mercado2",direction:"down",isPremutation:!1}],x:64,y:128,width:32,height:32,active:!0,name:"\u4E0B\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:64,y:96,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[64,96],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,0,0,0,1,1,1,1,1,1],width:5,height:6}}],x:0,y:0,width:160,height:192,active:!0,name:"Mercado2",background:"map/Mercado2.png"}},Mercado3Scene={name:"Mercado3",bgm:"bgm/town.mp3",width:192,height:160,isCave:!1,isMeetEnemy:!1,group:"Mercado",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:5,moveSpeed:0,initDirection:"down"},{type:"TalkQuestEvent",eventId:"Q6011"}],x:96,y:32,width:32,height:32,active:!0,name:"\u5175\u58EB"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Mercado3",nextScene:"Mercado1"},{type:"SceneTransitionDestination",tag:"Mercado3",direction:"right",isPremutation:!1}],x:64,y:64,width:32,height:32,active:!0,name:"\u4E0B\u51FA\u53E3"},{components:[{type:"SceneTransition",tag:"Mercado3_Right",nextScene:"Mercado1"}],x:160,y:64,width:32,height:32,active:!0,name:"\u53F3\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:64,y:32,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[64,32],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,0,1,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,1,1,1,1,1,0],width:6,height:5}}],x:0,y:0,width:192,height:160,active:!0,name:"Mercado3",background:"map/Mercado3.png"}},Garais1Scene={name:"Garais1",bgm:"bgm/dungeon.mp3",width:1408,height:1408,isCave:!0,isMeetEnemy:!0,group:"Garais",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Garais1",nextScene:"Garai"},{type:"SceneTransitionDestination",tag:"Garais1",direction:"down",isPremutation:!1}],x:448,y:800,width:32,height:32,active:!0,name:"\u51FA\u5165\u53E3"},{components:[{type:"SceneTransition",tag:"Garais_A",nextScene:"Garais2"},{type:"SceneTransitionDestination",tag:"Garais_A",direction:"down",isPremutation:!1}],x:160,y:1216,width:32,height:32,active:!0,name:"A"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"Garais1_Door",colliderSize:[64,64]}],x:1152,y:1152,width:64,height:64,active:!0,background:"map/door2.png",name:"Door"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"GaraisCave_Chest_1",colliderSize:[32,32],money:0,items:[50],hidden:!1,important:!1}],x:800,y:96,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"},{components:[{type:"MapChest",id:"GaraisCave_Chest_2",colliderSize:[32,32],money:530,items:[],hidden:!1,important:!1}],x:832,y:96,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest2"},{components:[{type:"MapChest",id:"GaraisCave_Chest_3",colliderSize:[32,32],money:0,items:[8],hidden:!1,important:!1}],x:864,y:96,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:1152,y:1120,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[1152,1088],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:44,height:44}}],x:0,y:0,width:1408,height:1408,active:!0,name:"Garais1",background:"map/Garais1.png"}},Garais2Scene={name:"Garais2",bgm:"bgm/dungeon.mp3",width:1024,height:896,isCave:!0,isMeetEnemy:!0,group:"Garais",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Garais_A",nextScene:"Garais1"},{type:"SceneTransitionDestination",tag:"Garais_A",direction:"down",isPremutation:!1}],x:768,y:192,width:32,height:32,active:!0,name:"A"},{components:[{type:"SceneTransition",tag:"Garais_B",nextScene:"Garais3"},{type:"SceneTransitionDestination",tag:"Garais_B",direction:"down",isPremutation:!1}],x:128,y:128,width:32,height:32,active:!0,name:"B"},{components:[{type:"SceneTransition",tag:"Garais_C",nextScene:"Garais3"},{type:"SceneTransitionDestination",tag:"Garais_C",direction:"left",isPremutation:!1}],x:864,y:128,width:32,height:32,active:!0,name:"C"},{components:[{type:"SceneTransition",tag:"Garais_D",nextScene:"Garais3"},{type:"SceneTransitionDestination",tag:"Garais_D",direction:"down",isPremutation:!1}],x:384,y:448,width:32,height:32,active:!0,name:"D"},{components:[{type:"SceneTransition",tag:"Garais_E",nextScene:"Garais3"},{type:"SceneTransitionDestination",tag:"Garais_E",direction:"down",isPremutation:!1}],x:128,y:736,width:32,height:32,active:!0,name:"E"},{components:[{type:"SceneTransition",tag:"Garais_F",nextScene:"Garais3"},{type:"SceneTransitionDestination",tag:"Garais_F",direction:"down",isPremutation:!1}],x:864,y:736,width:32,height:32,active:!0,name:"F"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[null,null],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:32,height:28}}],x:0,y:0,width:1024,height:896,active:!0,name:"Garais2",background:"map/Garais2.png"}},Garais3Scene={name:"Garais3",bgm:"bgm/dungeon.mp3",width:1408,height:1408,isCave:!0,isMeetEnemy:!0,group:"Garais",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"$BoxCollider",size:[64,32]},{type:"QuestEvent",eventId:"Q320",hideAfterFinish:!0}],x:902.121212121212,y:508.212121212121,width:64,height:32,active:!0,name:"\u94F6\u7AD6\u7434\u4E8B\u4EF6",background:"map/yinshuqing.png"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Garais_B",nextScene:"Garais2"},{type:"SceneTransitionDestination",tag:"Garais_B",direction:"down",isPremutation:!1}],x:960,y:160,width:32,height:32,active:!0,name:"B"},{components:[{type:"SceneTransition",tag:"Garais_C",nextScene:"Garais2"},{type:"SceneTransitionDestination",tag:"Garais_C",direction:"down",isPremutation:!1}],x:1248,y:160,width:32,height:32,active:!0,name:"C"},{components:[{type:"SceneTransition",tag:"Garais_D",nextScene:"Garais2"},{type:"SceneTransitionDestination",tag:"Garais_D",direction:"down",isPremutation:!1}],x:448,y:768,width:32,height:32,active:!0,name:"D"},{components:[{type:"SceneTransition",tag:"Garais_E",nextScene:"Garais2"},{type:"SceneTransitionDestination",tag:"Garais_E",direction:"down",isPremutation:!1}],x:192,y:1152,width:32,height:32,active:!0,name:"E"},{components:[{type:"SceneTransition",tag:"Garais_F",nextScene:"Garais2"},{type:"SceneTransitionDestination",tag:"Garais_F",direction:"down",isPremutation:!1}],x:1216,y:896,width:32,height:32,active:!0,name:"F"},{components:[{type:"SceneTransition",tag:"Garais_G",nextScene:"Garais4"},{type:"SceneTransitionDestination",tag:"Garais_G",direction:"down",isPremutation:!1}],x:640,y:384,width:32,height:32,active:!0,name:"G"},{components:[{type:"SceneTransition",tag:"Garais_H",nextScene:"Garais4"},{type:"SceneTransitionDestination",tag:"Garais_H",direction:"down",isPremutation:!1}],x:736,y:640,width:32,height:32,active:!0,name:"H"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"Garais3_Chest_1",colliderSize:[32,32],money:340,items:[],hidden:!1,important:!1}],x:96,y:96,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:896,y:576,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[896,544],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,1,1,1,1,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,1,1,1,1,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,1,1,1,1,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:44,height:44}}],x:0,y:0,width:1408,height:1408,active:!0,name:"Garais3",background:"map/Garais3.png"}},Garais4Scene={name:"Garais4",bgm:"bgm/dungeon.mp3",width:768,height:704,isCave:!0,isMeetEnemy:!0,group:"Garais",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"Garais_G",nextScene:"Garais3"},{type:"SceneTransitionDestination",tag:"Garais_G",direction:"down",isPremutation:!1}],x:64,y:320,width:32,height:32,active:!0,name:"G"},{components:[{type:"SceneTransition",tag:"Garais_H",nextScene:"Garais3"},{type:"SceneTransitionDestination",tag:"Garais_H",direction:"down",isPremutation:!1}],x:384,y:320,width:32,height:32,active:!0,name:"H"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"TantgelCastle_Chest1",colliderSize:[32,32],money:0,items:[1],hidden:!0,important:!1}],x:800,y:736,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[null,null],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:24,height:22}}],x:0,y:0,width:768,height:704,active:!0,name:"Garais4",background:"map/Garais4.png"}},RockyCave1Scene={name:"RockyCave1",bgm:"bgm/dungeon.mp3",width:1408,height:1408,isCave:!0,isMeetEnemy:!0,enemies:"4,5,7,9",group:"RockyCave",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"RockyCave_A",nextScene:"RockyCave2"},{type:"SceneTransitionDestination",tag:"RockyCave_A",direction:"down",isPremutation:!1}],x:160,y:96,width:32,height:32,active:!0,name:"A"},{components:[{type:"SceneTransition",tag:"RockyCave_B",nextScene:"RockyCave2"},{type:"SceneTransitionDestination",tag:"RockyCave_B",direction:"down",isPremutation:!1}],x:160,y:1024,width:32,height:32,active:!0,name:"B"},{components:[{type:"SceneTransition",tag:"RockyCave_C",nextScene:"RockyCave2"},{type:"SceneTransitionDestination",tag:"RockyCave_C",direction:"down",isPremutation:!1}],x:1184,y:1216,width:32,height:32,active:!0,name:"C"},{components:[{type:"SceneTransition",tag:"RockyCave1",nextScene:"World"},{type:"SceneTransitionDestination",tag:"RockyCave1",direction:"down",isPremutation:!1}],x:576,y:416,width:32,height:32,active:!0,name:"\u51FA\u5165\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"RockyCave1_Door",colliderSize:[64,64]}],x:64,y:1088,width:64,height:64,active:!0,background:"map/door2.png",name:"Door"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"RockyCave1_Chest_1",colliderSize:[32,32],money:340,items:[],hidden:!1,important:!1}],x:576,y:960,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:576,y:352,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[576,320],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:44,height:44}}],x:0,y:0,width:1408,height:1408,active:!0,name:"RockyCave1",background:"map/RockyCave1.png"}},RockyCave2Scene={name:"RockyCave2",bgm:"bgm/dungeon.mp3",width:1408,height:1408,isCave:!0,isMeetEnemy:!0,enemies:"12,8,10,11,22",group:"RockyCave",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"RockyCave_A",nextScene:"RockyCave1"},{type:"SceneTransitionDestination",tag:"RockyCave_A",direction:"down",isPremutation:!1}],x:64,y:64,width:32,height:32,active:!0,name:"A"},{components:[{type:"SceneTransition",tag:"RockyCave_B",nextScene:"RockyCave1"},{type:"SceneTransitionDestination",tag:"RockyCave_B",direction:"down",isPremutation:!1}],x:64,y:960,width:32,height:32,active:!0,name:"B"},{components:[{type:"SceneTransition",tag:"RockyCave_C",nextScene:"RockyCave1"},{type:"SceneTransitionDestination",tag:"RockyCave_C",direction:"down",isPremutation:!1}],x:1088,y:1280,width:32,height:32,active:!0,name:"C"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"RockyCave2_Chest_1",colliderSize:[32,32],money:0,items:[405],hidden:!1,important:!1}],x:672,y:672,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"},{components:[{type:"MapChest",id:"RockyCave2_Chest_2",colliderSize:[32,32],money:670,items:[],hidden:!1,important:!1}],x:736,y:96,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest2"},{components:[{type:"MapChest",id:"RockyCave2_Chest_3",colliderSize:[32,32],money:0,items:[2],hidden:!1,important:!1}],x:992,y:96,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest3"},{components:[{type:"MapChest",id:"RockyCave2_Chest_4",colliderSize:[32,32],money:0,items:[302],hidden:!1,important:!1}],x:1120,y:640,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest4"},{components:[{type:"MapChest",id:"RockyCave2_Chest_5",colliderSize:[32,32],money:0,items:[5],hidden:!1,important:!1}],x:640,y:1088,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest5"},{components:[{type:"MapChest",id:"RockyCave2_Chest_6",colliderSize:[32,32],money:0,items:[9],hidden:!1,important:!1}],x:640,y:1120,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest6"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:704,y:160,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[704,128],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,1,0,1,0,0,1,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,1,0,1,0,0,1,0,1,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,1,0,0,0,0,1,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,1,0,0,0,0,1,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,1,0,0,0,0,1,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,1,0,0,0,0,1,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:44,height:44}}],x:0,y:0,width:1408,height:1408,active:!0,name:"RockyCave2",background:"map/RockyCave2.png"}},DracolordsCastle1Scene={name:"DracolordsCastle1",bgm:"bgm/dungeon.mp3",width:832,height:960,isCave:!1,isMeetEnemy:!0,group:"DracolordsCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle_A",nextScene:"DracolordsCastle2"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_A",direction:"down",isPremutation:!1}],x:192,y:640,width:32,height:32,active:!0,name:"A"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_B",nextScene:"DracolordsCastle2"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_B",direction:"down",isPremutation:!1}],x:640,y:640,width:32,height:32,active:!0,name:"B"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_C",nextScene:"DracolordsCastle2"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_C",direction:"down",isPremutation:!1}],x:416,y:64,width:32,height:32,active:!0,name:"C"},{components:[{type:"SceneTransitionDestination",tag:"DracolordsCastle1",direction:"down",isPremutation:!1}],x:416,y:864,width:32,height:32,active:!0,name:"\u5165\u53E3"},{components:[{type:"SceneTransition",tag:"DracolordsCastle1",nextScene:"World"}],x:352,y:896,width:128,height:64,active:!0,name:"\u51FA\u53E3"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"DracolordsCastle1_Door_1",colliderSize:[64,64]}],x:160,y:352,width:64,height:64,active:!0,background:"map/door3.png",name:"Door1"},{components:[{type:"Door",id:"DracolordsCastle1_Door_2",colliderSize:[64,64]}],x:608,y:352,width:64,height:64,active:!0,background:"map/door3.png",name:"Door2"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:416,y:864,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[384,832],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0,0,1,0,1,1,0,0,1,1,1,1,0,0,0,1,1,0,0,0,1,0,0,1,1,1,0,0,1,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,0,1,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,1,0,0,1,1,0,0,1,0,1,1,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,0,1,1,1,1,0,1,1,1,1,0,0,0,0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,1,0,0,1,1,0,0,1,1,0,0,1,1,0,1,0,0,0,0,0,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,1,1,1,0,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,0,0,0,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,1,0,0,0,0,0,1,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,1,1,1,0,1,1,1,1,0,1,1,0,1,0,0,1,1,0,0,1,0,0,0,0,1,0,1,1,1,0,1,1,1,1,0,0,0,0,1,0,0,1,1,0,0,1,0,1,1,0,1,0,0,0,0,0,0,0,1,1,0,1,1,0,1,0,0,1,1,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,0,1,0,0,1,1,0,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,0,1,1,0,0,1,1,0,1,1,1,1,1,1,0,0,1,1,0,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:26,height:30}}],x:0,y:0,width:832,height:960,active:!0,name:"DracolordsCastle1",background:"map/DracolordsCastle1.png"}},DracolordsCastle2Scene={name:"DracolordsCastle2",bgm:"bgm/dungeon.mp3",width:1216,height:1472,isCave:!0,isMeetEnemy:!0,group:"DracolordsCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle_A",nextScene:"DracolordsCastle1"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_A",direction:"down",isPremutation:!1}],x:288,y:1088,width:32,height:32,active:!0,name:"A"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_B",nextScene:"DracolordsCastle1"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_B",direction:"down",isPremutation:!1}],x:928,y:1088,width:32,height:32,active:!0,name:"B"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_C",nextScene:"DracolordsCastle1"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_C",direction:"down",isPremutation:!1}],x:608,y:96,width:32,height:32,active:!0,name:"C"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_D",nextScene:"DracolordsCastle3"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_D",direction:"down",isPremutation:!1}],x:928,y:1280,width:32,height:32,active:!0,name:"D"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_J",nextScene:"DracolordsCastle3"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_J",direction:"down",isPremutation:!1}],x:608,y:960,width:32,height:32,active:!0,name:"J"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"DracolordsCastle2_Chest_1",colliderSize:[32,32],money:0,items:[107],hidden:!1,important:!1}],x:608,y:832,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:864,y:1216,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[832,1216],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,1,0,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:38,height:46}}],x:0,y:0,width:1216,height:1472,active:!0,name:"DracolordsCastle2",background:"map/DracolordsCastle2.png"}},DracolordsCastle3Scene={name:"DracolordsCastle3",bgm:"bgm/dungeon.mp3",width:1152,height:1152,isCave:!0,isMeetEnemy:!0,group:"DracolordsCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle_D",nextScene:"DracolordsCastle2"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_D",direction:"down",isPremutation:!1}],x:448,y:992,width:32,height:32,active:!0,name:"D"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_E",nextScene:"DracolordsCastle4"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_E",direction:"down",isPremutation:!1}],x:640,y:992,width:32,height:32,active:!0,name:"E"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_I",nextScene:"DracolordsCastle4"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_I",direction:"down",isPremutation:!1}],x:544,y:576,width:32,height:32,active:!0,name:"I"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_J",nextScene:"DracolordsCastle2"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_J",direction:"down",isPremutation:!1}],x:576,y:544,width:32,height:32,active:!0,name:"J"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[null,null],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0],width:36,height:36}}],x:0,y:0,width:1152,height:1152,active:!0,name:"DracolordsCastle3",background:"map/DracolordsCastle3.png"}},DracolordsCastle4Scene={name:"DracolordsCastle4",bgm:"bgm/dungeon.mp3",width:896,height:960,isCave:!0,isMeetEnemy:!0,group:"DracolordsCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle_E",nextScene:"DracolordsCastle3"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_E",direction:"down",isPremutation:!1}],x:448,y:832,width:32,height:32,active:!0,name:"E"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_I",nextScene:"DracolordsCastle3"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_I",direction:"down",isPremutation:!1}],x:544,y:640,width:32,height:32,active:!0,name:"I"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_H",nextScene:"DracolordsCastle5"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_H",direction:"down",isPremutation:!1}],x:320,y:352,width:32,height:32,active:!0,name:"H"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_F",nextScene:"DracolordsCastle5"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_F",direction:"down",isPremutation:!1}],x:672,y:192,width:32,height:32,active:!0,name:"F"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_G",nextScene:"DracolordsCastle5"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_G",direction:"down",isPremutation:!1}],x:128,y:128,width:32,height:32,active:!0,name:"G"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"DracolordsCastle4_Chest_1",colliderSize:[32,32],money:0,items:[1],hidden:!1,important:!1}],x:96,y:576,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"},{components:[{type:"MapChest",id:"DracolordsCastle4_Chest_2",colliderSize:[32,32],money:500,items:[],hidden:!1,important:!1}],x:128,y:608,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest2"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[null,null],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:28,height:30}}],x:0,y:0,width:896,height:960,active:!0,name:"DracolordsCastle4",background:"map/DracolordsCastle4.png"}},DracolordsCastle5Scene={name:"DracolordsCastle5",bgm:"bgm/dungeon.mp3",width:1344,height:1088,isCave:!0,isMeetEnemy:!0,group:"DracolordsCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle_G",nextScene:"DracolordsCastle4"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_G",direction:"down",isPremutation:!1}],x:128,y:256,width:32,height:32,active:!0,name:"G"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_H",nextScene:"DracolordsCastle4"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_H",direction:"down",isPremutation:!1}],x:224,y:640,width:32,height:32,active:!0,name:"H"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_K",nextScene:"DracolordsCastle6"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_K",direction:"down",isPremutation:!1}],x:448,y:832,width:32,height:32,active:!0,name:"K"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_F",nextScene:"DracolordsCastle4"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_F",direction:"down",isPremutation:!1}],x:736,y:96,width:32,height:32,active:!0,name:"F"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_L",nextScene:"DracolordsCastle6"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_L",direction:"down",isPremutation:!1}],x:1120,y:320,width:32,height:32,active:!0,name:"L"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[null,null],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],width:42,height:34}}],x:0,y:0,width:1344,height:1088,active:!0,name:"DracolordsCastle5",background:"map/DracolordsCastle5.png"}},DracolordsCastle6Scene={name:"DracolordsCastle6",bgm:"bgm/dungeon.mp3",width:704,height:1024,isCave:!1,isMeetEnemy:!0,group:"DracolordsCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle_K",nextScene:"DracolordsCastle5"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_K",direction:"down",isPremutation:!1}],x:416,y:672,width:32,height:32,active:!0,name:"K"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_L",nextScene:"DracolordsCastle5"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_L",direction:"down",isPremutation:!1}],x:608,y:448,width:32,height:32,active:!0,name:"L"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_M",nextScene:"DracolordsCastle7"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_M",direction:"down",isPremutation:!1}],x:64,y:448,width:32,height:32,active:!0,name:"M"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[null,null],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:22,height:32}}],x:0,y:0,width:704,height:1024,active:!0,name:"DracolordsCastle6",background:"map/DracolordsCastle6.png"}},DracolordsCastle7Scene={name:"DracolordsCastle7",bgm:"bgm/dungeon.mp3",width:832,height:768,isCave:!0,isMeetEnemy:!0,group:"DracolordsCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle_M",nextScene:"DracolordsCastle6"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_M",direction:"down",isPremutation:!1}],x:64,y:320,width:32,height:32,active:!0,name:"M"},{components:[{type:"SceneTransition",tag:"DracolordsCastle_N",nextScene:"DracolordsCastle8"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_N",direction:"down",isPremutation:!1}],x:736,y:320,width:32,height:32,active:!0,name:"N"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[null,null],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:26,height:24}}],x:0,y:0,width:832,height:768,active:!0,name:"DracolordsCastle7",background:"map/DracolordsCastle7.png"}},DracolordsCastle8Scene={name:"DracolordsCastle8",bgm:"bgm/dungeon.mp3",width:1056,height:1280,isCave:!1,isMeetEnemy:!0,group:"DracolordsCastle",root:{children:[{x:0,y:0,width:-2,height:-2,active:!0,name:"npcs",children:[{components:[{type:"NPCControllerComponent",roleIndex:16,moveSpeed:0,initDirection:"down"},{type:"QuestEvent",eventId:"Q7000",hideEventsId:["Q888"],hideAfterFinish:!0}],x:544,y:928,width:32,height:32,active:!0,name:"\u9B54\u738B"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"entrances",children:[{components:[{type:"SceneTransition",tag:"DracolordsCastle_N",nextScene:"DracolordsCastle7"},{type:"SceneTransitionDestination",tag:"DracolordsCastle_N",direction:"down",isPremutation:!1}],x:352,y:1152,width:252,height:64,active:!0,name:"N"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"doors",children:[{components:[{type:"Door",id:"DracolordsCastle8_Door_1",colliderSize:[32,64]}],x:608,y:448,width:32,height:64,active:!0,background:"map/door4.png",name:"Door1"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"mapChests",children:[{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_1",colliderSize:[32,32],money:0,items:[],hidden:!1,important:!1}],x:384,y:448,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest1"},{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_2",colliderSize:[32,32],money:500,items:[],hidden:!1,important:!1}],x:416,y:448,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest2"},{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_3",colliderSize:[32,32],money:0,items:[3],hidden:!1,important:!1}],x:448,y:448,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest3"},{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_4",colliderSize:[32,32],money:0,items:[50],hidden:!1,important:!1}],x:384,y:480,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest4"},{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_5",colliderSize:[32,32],money:0,items:[402],hidden:!1,important:!1}],x:480,y:480,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest5"},{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_6",colliderSize:[32,32],money:0,items:[],hidden:!1,important:!1}],x:384,y:512,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest6"},{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_7",colliderSize:[32,32],money:420,items:[],hidden:!1,important:!1}],x:416,y:512,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest7"},{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_8",colliderSize:[32,32],money:0,items:[1],hidden:!1,important:!1}],x:448,y:512,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest8"},{components:[{type:"MapChest",id:"DracolordsCastle8_Chest_9",colliderSize:[32,32],money:0,items:[9],hidden:!1,important:!1}],x:480,y:512,width:32,height:32,active:!0,background:"map/MapChest.png",name:"Chest9"}]},{x:0,y:0,width:-2,height:-2,active:!0,name:"objects",children:[]},{x:0,y:0,width:-2,height:-2,active:!0,name:"enviroments",children:[]},{x:544,y:960,width:-2,height:-2,active:!0,name:"bornPoint",components:[{type:"BornPointComponent",position:[512,960],direciton:"down",isPremutation:!1}]}],components:[{type:"SceneComponent",mapData:{name:"Tiles",data:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,1,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,1,0,1,0,1,0,0,0,1,1,1,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,0,0,1,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,0,0,1,1,1,0,1,1,0,1,1,1,1,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,1,1,1,0,1,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,1,0,0,0,1,1,1,1,1,1,0,0,1,0,0,0,1,0,0,0,0,0,0,1,1,1,0,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,1,0,1,0,1,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,0,1,1,0,0,1,1,1,1,1,1,0,0,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,0,0,1,0,1,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,1,0,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,0,0,0,0,1,1,1,1,1,1,0,0,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,0,0,1,1,1,1,1,1,1,0,0,1,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,0,0,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,0,0,0,1,0,1,0,0,0,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,0,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,0,0,1,1,1,1,1,1,0,0,0,1,0,1,1,1,0,0,0,0,0,0,0,1,0,0,1,1,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,0,1,1,1,1,0,0,0,0,0,1,1,1,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,1,1,1,1,0,1,1,1,1,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],width:33,height:40}}],x:0,y:0,width:1056,height:1280,active:!0,name:"DracolordsCastle8",background:"map/DracolordsCastle8.png"}},name$8="Logo",width$8=-2,height$8=-2,priority$6=500,hasCamera$5=!1,bgm$3="bgm/overture.mp3",root$8={x:0,y:0,width:-2,height:-2,active:!0,alpha:1,useScreenPosition:!0,renderLayer:20,components:[{type:"LogoComponent"}],children:[{x:0,y:-100,width:690,height:255,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"black"},active:!0,components:[{type:"$PropertyAnimationComponent",keys:{backgroundSprite:[{frame:0,value:"system/logo_1.png"},{frame:10,value:"system/logo_2.png"},{frame:20,value:"system/logo_3.png"},{frame:30,value:"system/logo_4.png"},{frame:40,value:"system/logo_5.png"},{frame:50,value:"system/logo_6.png"}]},frameCount:100,times:-1,reverse:!1,duration:2e3,auto:!0}]}]},LogoScene={name:name$8,width:width$8,height:height$8,priority:priority$6,hasCamera:hasCamera$5,bgm:bgm$3,root:root$8},name$7="Title",width$7=-2,height$7=-2,priority$5=500,hasCamera$4=!1,bgm$2="bgm/title.mp3",root$7={x:0,y:0,width:-2,height:-2,active:!0,alpha:1,useScreenPosition:!0,renderLayer:20,components:[{type:"TitleComponent"}],children:[{name:"menuWindow",x:-354,y:-280,width:260,height:136,pivot:[0,0],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:3,col:1,cell:[260,40],gravity:["left","top"],template:"text_item.json"}},{name:"saveWindow",x:0,y:0,width:-2,height:-2,active:!0,alpha:1,useScreenPosition:!0,components:[{type:"SaveWindow"}],children:[{x:0,y:-100,width:360,height:136,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:3,col:1,cell:[360,40],gravity:["center","center"],template:"key_value_item.json"}}]},{name:"configWindow",x:0,y:0,width:-2,height:-2,active:!1,alpha:1,useScreenPosition:!0,components:[{type:"ConfigWindow"}],children:[{x:0,y:-100,width:360,height:-1,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,components:[{type:"$ListComponent",wrapLayout:1,wrapLayoutOffset:16}],layout:{type:"GridLayout",row:1,col:1,cell:[360,40],gravity:["center","center"],template:"text_item.json"}}]}]},TitleScene={name:name$7,width:width$7,height:height$7,priority:priority$5,hasCamera:hasCamera$4,bgm:bgm$2,root:root$7},name$6="End",width$6="-2",height$6="-2",root$6={x:0,y:0,width:-2,height:-2,active:!0,components:[{type:"EndComponent"}],children:[{x:0,y:0,width:300,height:60,active:!0,pivot:[.5,.5],layoutGravity:["center","center"],components:[{type:"$TextComponent",text:"END",font:{size:50,align:"center"}}]}]},EndScene={name:name$6,width:width$6,height:height$6,root:root$6},name$5="Start",width$5=-2,height$5=-2,priority$4=500,hasCamera$3=!1,bgm$1="",root$5={x:0,y:0,width:-2,height:-2,active:!0,alpha:1,useScreenPosition:!0,renderLayer:20,components:[{type:"StartComponent"}],children:[{x:0,y:-50,width:-2,height:255,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"black"},active:!0,components:[{type:"$TextComponent",text:"RESPECT FOR SE",font:{size:50,align:"center"}}]}]},StartScene={name:name$5,width:width$5,height:height$5,priority:priority$4,hasCamera:hasCamera$3,bgm:bgm$1,root:root$5},name$4="Description",width$4="-2",height$4="-2",root$4={x:0,y:0,width:-2,height:-2,active:!0,components:[{type:"DescriptionComponent"}],children:[{x:0,y:-200,width:-2,height:60,active:!0,pivot:[.5,.5],layoutGravity:["center","center"],components:[{type:"$TextComponent",text:"\u64CD\u4F5C\u8BF4\u660E",font:{size:50,align:"center"}}]},{x:0,y:0,width:-2,height:200,active:!0,pivot:[.5,.5],layoutGravity:["center","center"],layout:{type:"VerticalLayout",gravity:"center"},alpha:1,children:[{x:10,y:0,width:-2,height:50,active:!0,components:[{type:"$TextComponent",text:"W - \u4E0A    S - \u4E0B",font:{size:40,align:"center"}}]},{x:10,y:0,width:-2,height:50,active:!0,components:[{type:"$TextComponent",text:"A - \u5DE6    D - \u53F3",font:{size:40,align:"center"}}]},{x:10,y:0,width:-2,height:50,active:!0,components:[{type:"$TextComponent",text:"J - \u786E\u5B9A    K - \u53D6\u6D88",font:{size:40,align:"center"}}]}]}]},DescriptionScene={name:name$4,width:width$4,height:height$4,root:root$4},name$3="Battle",bgm="bgm/battle.mp3",width$3=-2,height$3=-2,loadType$3=1,hasCamera$2=!1,priority$3=1e3,root$3={x:0,y:0,width:-2,height:-2,active:!0,alpha:1,useScreenPosition:!0,renderLayer:50,components:[{type:"BattleSystem"}],children:[{x:320,y:160,width:32,height:32,active:!0,alpha:1,components:[{type:"$SceneTransitionDestination",tag:"floor_down",direction:2}]},{name:"background",x:0,y:-60,width:384,height:336,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"bg-battle.png",spriteWidth:256,spriteHeight:224,backgroundColor:"#000",scaleType:"fit",borderWidth:4,pivotOffset:[260,228]},active:!0,children:[{name:"enemy",x:0,y:10,width:180,height:180,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"monsters.png",scaleType:"fit",pivotOffset:[0,0]},active:!0,components:[{type:"$PropertyAnimationComponent",auto:!1}]},{name:"effectAnim",x:0,y:10,width:195,height:165,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"monsters.png",scaleType:"fit",pivotOffset:[0,0]},active:!1,components:[{type:"$PropertyAnimationComponent",auto:!1}]}]},{name:"characterStatusText",x:-354,y:-228,width:160,height:190,pivot:[0,0],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,children:[{name:"characterNameText",x:0,y:8,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"\u52C7\u8005\u6D1B\u7279",font:{size:26,align:"center"}}]},{name:"characterHPLable",x:20,y:50,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"H",font:{size:26,align:"left"}}]},{name:"characterHPText",x:-20,y:50,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterMPLable",x:20,y:90,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"M",font:{size:26,align:"left"}}]},{name:"characterMPText",x:-20,y:90,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterLVLable",x:20,y:130,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"LV",font:{size:26,align:"left"}}]},{name:"characterLVText",x:-20,y:130,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"30",font:{size:26,align:"right"}}]}]},{name:"commandsWindow",x:-354,y:110,width:160,height:180,pivot:[0,0],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:4,col:1,cell:[160,40],gravity:["left","top"],template:"text_item.json"}},{name:"enemyInfoText",x:-190,y:110,width:380,height:60,pivot:[0,0],layoutGravity:["center","center"],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"$TextComponent",text:"\u9F99\u738B",padding:[0,0,0,26]}]},{name:"itemMenuWindow",x:-190,y:110,width:380,height:-1,pivot:[0,0],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,components:[{type:"$ListComponent",wrapLayout:1,wrapLayoutOffset:12}],layout:{type:"GridLayout",row:5,col:2,cell:[190,40],gravity:["left","top"],template:"text_item.json"}},{x:0,y:205,width:710,height:190,layoutGravity:["center","center"],pivot:[.5,.5],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,children:[{name:"messageWindow",x:0,y:0,width:680,height:200,pivot:[0,0],active:!0,components:[{type:"$ScrollTextComponent",text:`\u3042\u308A\u304C\u3068\u3046,\u8FD9\u662F\u4EC0\u4E48\u60C5\u51B5\u6C34\u7535\u8D39\u6C34\u7535\u8D39\u6C34\u7535\u8D39\u6C34\u7535\u8D39\u5E08\u5085\u7684\u8BF4\u6CD5\u6240\u53D1\u751F\u7684\u7C89\u4E1D\u6C34\u7535\u8D39\u7B2C\u4E09\u65B9\u6C34\u7535\u8D39\u6C34\u7535\u8D39\u6C34\u7535\u8D39\u4F3C\u61C2\u975E\u61C2\u8212\u670D
\u4E0D\u77E5\u9053\u7684\u4EBA\u554A
\u547D\u4E2D\u7684\u795E\u554A
\u6765\u6D4B\u8BD5\u4EE5\u4E0B\u5427
\u52C7\u8005\u554A\uFF0C\u8D76\u5FEB\u6740\u6B7B\u9B54\u738B\u5427
....
\u83B7\u5F97\u9053\u5177 \u836F\u8349`,padding:[16,30,10,30]}]},{name:"battleMessageCursor",x:0,y:-6,width:12,height:24,background:{sprite:"system/cursor.png",scaleType:"fit",rotate:90},components:[{type:"$Cursor"}],layoutGravity:["center","bottom"],pivot:[.5,.5],active:!0}]}]},BattleScene={name:name$3,bgm,width:width$3,height:height$3,loadType:loadType$3,hasCamera:hasCamera$2,priority:priority$3,root:root$3},name$2="Global",width$2=-2,height$2=-2,loadType$2=2,priority$2=500,hasCamera$1=!1,root$2={x:0,y:0,width:-2,height:-2,active:!0,alpha:1,useScreenPosition:!0,renderLayer:20,components:[{type:"GlobalWindowComponent"}],children:[{name:"menuWindow",x:-354,y:-280,width:260,height:136,pivot:[0,0],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!1,components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:3,col:2,cell:[130,40],gravity:["left","top"],template:"text_item.json"}},{name:"commonGoldWindow",x:354,y:-218,width:160,height:66,pivot:[1,1],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},layout:{type:"HorizontalLayout",gravity:"center",padding:[0,16,0,16]},components:[{type:"CommonGoldWindow"}],active:!1,children:[{x:0,y:0,width:40,height:50,active:!0,components:[{type:"$TextComponent",text:"G",font:{size:26,align:"left"}}]},{name:"CharacterGold",x:0,y:0,width:90,height:50,active:!0,components:[{type:"$TextComponent",text:"100",font:{size:26,align:"right"}}]}]},{name:"commonStatusWindow",x:354,y:310,width:160,height:190,pivot:[1,1],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"CommonStatusWindow"}],active:!1,children:[{name:"characterName",x:0,y:8,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"\u52C7\u8005\u6D1B\u7279",font:{size:26,align:"center"}}]},{name:"characterHPLable",x:20,y:50,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"H",font:{size:26,align:"left"}}]},{name:"characterHP",x:-20,y:50,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterMPLable",x:20,y:90,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"M",font:{size:26,align:"left"}}]},{name:"characterMP",x:-20,y:90,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterLVLable",x:20,y:130,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"LV",font:{size:26,align:"left"}}]},{name:"characterLV",x:-20,y:130,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"30",font:{size:26,align:"right"}}]}]},{name:"menuStatusWindow",x:0,y:-40,width:600,height:355,pivot:[.5,.5],layoutGravity:["center","center"],active:!1,background:{sprite:"",backgroundColor:"red"},components:[{type:"MenuStatusWindow"}],children:[{name:"menuStatusLeftWindow",x:-150,y:0,width:300,height:355,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,children:[{name:"characterName",x:0,y:10,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"\u52C7\u8005\u6D1B\u7279",font:{size:26,align:"center"}}]},{name:"characterLVLable",x:20,y:50,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"LV",font:{size:26,align:"center"}}]},{name:"characterLV",x:-60,y:50,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"30",font:{size:26,align:"right"}}]},{name:"characterHPLable",x:20,y:90,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:" HP ",font:{size:26,align:"center"}}]},{name:"characterHP",x:-60,y:90,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterMPLable",x:20,y:130,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"MP",font:{size:26,align:"center"}}]},{name:"characterMP",x:-60,y:130,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterWeaponLable",x:20,y:170,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u6B66",font:{size:26,align:"center"}}]},{name:"characterWeapon",x:-60,y:170,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"\u94DC\u5251",font:{size:26,align:"right"}}]},{name:"characterBodyLable",x:20,y:210,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u9632",font:{size:26,align:"center"}}]},{name:"characterBody",x:-60,y:210,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"\u94DC\u5251",font:{size:26,align:"right"}}]},{name:"characterShieldLable",x:20,y:250,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u76FE",font:{size:26,align:"center"}}]},{name:"characterShield",x:-60,y:250,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"\u94DC\u5251",font:{size:26,align:"right"}}]},{name:"characterAccessoriesLable",x:20,y:290,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u9970",font:{size:26,align:"center"}}]},{name:"characterAccessories",x:-60,y:290,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"\u8BC5\u5492\u6212\u6307",font:{size:26,align:"right"}}]}]},{name:"menuStatusRightWindow",x:150.2,y:0,width:300,height:355,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,children:[{name:"characterPowerLable",x:20,y:10,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u529B\u91CF",font:{size:26,align:"center"}}]},{name:"characterPower",x:-60,y:10,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"30",font:{size:26,align:"right"}}]},{name:"characterSpeedLable",x:20,y:50,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u901F\u5EA6",font:{size:26,align:"center"}}]},{name:"characterSpeed",x:-60,y:50,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"30",font:{size:26,align:"right"}}]},{name:"characterResilienceLable",x:20,y:90,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u8010\u529B",font:{size:26,align:"center"}}]},{name:"characterResilience",x:-60,y:90,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterMaxHPLable",x:20,y:130,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u6700\u5927HP",font:{size:26,align:"center"}}]},{name:"characterMaxHP",x:-60,y:130,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterMaxMPLabel",x:20,y:170,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u6700\u5927MP",font:{size:26,align:"center"}}]},{name:"characterMaxMP",x:-60,y:170,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterAttackLable",x:20,y:210,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u653B\u51FB\u529B",font:{size:26,align:"center"}}]},{name:"characterAttack",x:-60,y:210,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterDefendLabel",x:20,y:250,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u9632\u5FA1\u529B",font:{size:26,align:"center"}}]},{name:"characterDefend",x:-60,y:250,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"150",font:{size:26,align:"right"}}]},{name:"characterExpLable",x:20,y:290,width:150,height:40,active:!0,components:[{type:"$TextComponent",text:"\u7ECF\u9A8C",font:{size:26,align:"center"}}]},{name:"characterExp",x:-60,y:290,width:-2,height:40,active:!0,layoutGravity:["right","top"],pivot:[1,0],components:[{type:"$TextComponent",text:"20000",font:{size:26,align:"right"}}]}]}]},{name:"menuEquipmentWindow",x:-60,y:6,width:405,height:560,layoutGravity:["center","center"],pivot:[.5,.5],active:!1,enable:!1,components:[{type:"MenuEquipmentWindow"}],children:[{name:"menuEquipmentLeftWindow",x:-100,y:54,width:200,height:172,layoutGravity:["center","top"],pivot:[.5,0],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:4,col:1,cell:[184,40],gravity:["center","center"],template:"key_value_item.json"}},{name:"menuEquipmentLeftTopWindow",x:-100,y:0,width:200,height:54,layoutGravity:["center","top"],pivot:[.5,0],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[],children:[{x:28,y:0,width:-2,height:-2,active:!0,components:[{type:"$TextComponent",text:"\u653B",lineHeight:1,font:{size:"26",align:"left"}}]},{name:"menuEquipmentLeftTopWindowText",x:64,y:0,width:130,height:-2,active:!0,components:[{type:"$TextComponent",text:"111\u2192115",lineHeight:1,font:{size:"26",align:"center"}}]},{x:14,y:6,width:10,height:16,background:{sprite:"system/cursor.png",scaleType:"fit",spriteWidth:8,spriteHeight:13},layoutGravity:["left","center"],pivot:[0,.5],active:!1}]},{name:"menuEquipmentRightWindow",x:101,y:54,width:200,height:-1,layoutGravity:["center","top"],pivot:[.5,0],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"$ListComponent",canSelect:!1,wrapLayout:1,wrapLayoutOffset:12}],layout:{type:"GridLayout",row:10,col:1,cell:[200,40],gravity:["center","center"],template:"key_value_item.json"}}]},{name:"menuItemWindow",x:-60,y:6,width:405,height:560,layoutGravity:["center","center"],pivot:[.5,.5],active:!1,enable:!1,components:[{type:"MenuItemWindow"}],children:[{name:"menuItemSelectWindow",x:-98,y:20,width:200,height:412,layoutGravity:["center","top"],pivot:[.5,0],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:10,col:1,cell:[200,40],gravity:["center","center"],template:"key_value_item.json"}},{name:"menuItemDealWindow",x:84,y:378,width:160,height:-1,layoutGravity:["center","top"],pivot:[.5,.5],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"$ListComponent",wrapLayout:1,wrapLayoutOffset:12}],layout:{type:"GridLayout",row:2,col:1,cell:[160,40],gravity:["center","center"],template:"text_item.json"}}]},{name:"menuMagicWindow",x:0,y:6,width:405,height:560,layoutGravity:["center","center"],pivot:[.5,.5],active:!1,enable:!1,components:[{type:"MenuMagicWindow"}],children:[{name:"menuMagicSelectWindow",x:-20,y:20,width:200,height:252,layoutGravity:["center","top"],pivot:[.5,0],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:6,col:1,cell:[200,40],gravity:["center","center"],template:"key_value_item.json"}},{name:"menuMPWindow",x:160,y:20,width:160,height:100,layoutGravity:["center","top"],pivot:[.5,0],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},children:[{name:"MPLable",x:10,y:0,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"MP",font:{size:26,align:"center"}}]},{name:"menuMagicMPText",x:0,y:40,width:-2,height:40,active:!0,components:[{type:"$TextComponent",text:"200 / 200",font:{size:26,align:"center"}}]}]}]},{name:"shopWindow",x:0,y:0,width:-2,height:-2,active:!1,alpha:1,useScreenPosition:!0,components:[{type:"ShopWindow"}],children:[{name:"shopSelectWindow",x:354,y:-70,width:160,height:132,pivot:[1,1],layoutGravity:["center","center"],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:3,col:1,cell:[160,40],gravity:["center","center"],template:"text_item.json"}},{name:"shopItemWindow",x:-150,y:-296,width:400,height:-1,layoutGravity:["center","center"],pivot:[.5,0],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"$ListComponent",wrapLayout:1,wrapLayoutOffset:12}],layout:{type:"GridLayout",row:6,col:1,cell:[400,40],gravity:["center","center"],template:"key_value_item.json"}},{name:"shopMessageWindow",x:-350,y:120,width:704,height:102,pivot:[0,0],layoutGravity:["center","center"],active:!0,background:{sprite:"",backgroundColor:"#222",borderWidth:4},children:[{name:"shopMessageLabelText",x:200,y:0,width:680,height:42,pivot:[0,0],active:!0,components:[{type:"$TextComponent",text:"\u62E5\u6709",font:{size:26,align:"left"}}]},{x:0,y:48,width:-2,height:2,pivot:[0,0],active:!0,background:{sprite:"",borderWidth:1,backgroundColor:"white"}},{x:0,y:50,width:680,height:42,pivot:[0,0],active:!0,children:[{name:"shopMessageNameText",x:30,y:0,width:200,height:42,pivot:[0,0],active:!0,components:[{type:"$TextComponent",text:"\u540D\u5B57",font:{size:26,align:"left"}}]},{name:"shopMessageValueText",x:200,y:0,width:480,height:42,pivot:[0,0],active:!0,components:[{type:"$TextComponent",text:"100",font:{size:26}}]}]}]}]},{name:"messageWindow",x:-350,y:120,width:700,height:190,pivot:[0,0],layoutGravity:["center","center"],active:!1,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"MessageWindow"}],children:[{x:0,y:0,width:680,height:200,pivot:[0,0],active:!0,components:[{type:"$ScrollTextComponent",padding:[16,30,10,30]}]},{name:"messageCursor",x:0,y:-6,width:12,height:24,background:{sprite:"system/cursor.png",scaleType:"fit",rotate:90},components:[{type:"$Cursor"}],layoutGravity:["center","bottom"],pivot:[.5,.5],active:!0},{name:"messageAlertWindow",x:0,y:0,width:130,height:92,pivot:[1,1],layoutGravity:["right","top"],active:!1,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"AlertWindow"}],children:[{name:"alertJudgeComponent",x:0,y:0,width:-1,height:-1,layoutGravity:["center","top"],pivot:[.5,0],active:!0,components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:2,col:1,cell:[130,40],gravity:["center","center"],template:"text_item.json"}}]}]},{name:"alertWindow",x:0,y:0,width:340,height:130,pivot:[.5,.5],layoutGravity:["center","center"],active:!1,background:{sprite:"",backgroundColor:"#222",borderWidth:4},components:[{type:"AlertWindow"}],children:[{name:"alertContentText",x:0,y:8,width:-2,height:40,pivot:[0,0],active:!0,components:[{type:"$TextComponent",text:"\u662F\u5426\u8986\u76D6\uFF1F",font:{size:26,align:"center"}}]},{name:"alertJudgeComponent",x:0,y:64,width:240,height:52,layoutGravity:["center","top"],pivot:[.5,0],active:!0,components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:1,col:2,cell:[120,40],gravity:["center","center"],template:"text_item.json"}}]},{name:"saveWindow",x:0,y:0,width:-2,height:-2,active:!1,alpha:1,useScreenPosition:!0,components:[{type:"SaveWindow"}],children:[{x:0,y:-100,width:360,height:136,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,components:[{type:"$ListComponent"}],layout:{type:"GridLayout",row:3,col:1,cell:[360,40],gravity:["center","center"],template:"key_value_item.json"}}]},{name:"configWindow",x:0,y:0,width:-2,height:-2,active:!1,alpha:1,useScreenPosition:!0,components:[{type:"ConfigWindow"}],children:[{x:0,y:-100,width:360,height:-1,pivot:[.5,.5],layoutGravity:["center","center"],background:{sprite:"",backgroundColor:"#222",borderWidth:4},active:!0,components:[{type:"$ListComponent",wrapLayout:1,wrapLayoutOffset:16}],layout:{type:"GridLayout",row:1,col:1,cell:[360,40],gravity:["center","center"],template:"text_item.json"}}]}]},GlobalScene={name:name$2,width:width$2,height:height$2,loadType:loadType$2,priority:priority$2,hasCamera:hasCamera$1,root:root$2},name$1="TeamController",width$1=-2,height$1=-2,loadType$1=2,priority$1=100,root$1={x:0,y:0,width:32,height:32,alpha:1,active:!0,components:[{type:"TeamControllerComponent",moveSpeed:96,coord:[8,7]}]},TeamController={name:name$1,width:width$1,height:height$1,loadType:loadType$1,priority:priority$1,root:root$1},name="Fading",width=-2,height=-2,loadType=2,priority=1002,hasCamera=!1,root={x:0,y:0,width:-2,height:-2,active:!0,alpha:1,useScreenPosition:!0,renderLayer:50,components:[{type:"$FadingComponent"}]},FadingScene={name,width,height,loadType,priority,hasCamera,root};AddGameSceneData([TantegelCastleScene,TantegelCastle2Scene,TantegelCastle3Scene,RadatomeScene,MairaScene,RimuldarScene,DomdoraScene,GaraiScene,Mercado1Scene,Mercado2Scene,Mercado3Scene,HolyShrine1Scene,HolyShrine2Scene,RainShrine1Scene,RainShrine2Scene,RotosCave1Scene,RotosCave2Scene,MarshyCaveScene,Garais1Scene,Garais2Scene,Garais3Scene,Garais4Scene,Mercado1Scene,Mercado2Scene,Mercado3Scene,RockyCave1Scene,RockyCave2Scene,DracolordsCastle1Scene,DracolordsCastle2Scene,DracolordsCastle3Scene,DracolordsCastle4Scene,DracolordsCastle5Scene,DracolordsCastle6Scene,DracolordsCastle7Scene,DracolordsCastle8Scene,WorldScene,StartScene,DescriptionScene,LogoScene,TitleScene,EndScene,TeamController,GlobalScene,FadingScene,BattleScene]);async function loadCoreScene(n){n.sceneManager.loadScene(FadingScene.name),n.sceneManager.loadScene(GlobalScene.name),n.sceneManager.loadScene(TeamController.name),await waitWhile(()=>n.sceneManager.loading,1/0,n.time)}async function initScene(n){await loadCoreScene(n),n.sceneManager.loadScene(StartScene.name)}SetCharacters(AllCharactersData.map(parseCharacter));SetItems(AllItemData.map(parseItem));SetShopItems(ShopData);SetEneies(EnemyData);SetMagics(MagicData);globalGameData.startGame();const engine=createEngine();engine.renderer.registerPostProcess(new TorchPostProcess(engine));setEventEngine(engine);const{resource}=engine,assetLoader=new AssetLoader;assetLoader.addAssets(audioInitLoad(resource),resource.loadJson("events.json").then(n=>SetGameEventScript(n)),engine.i18n.loadLanguageEntries(engine.i18n.language,resource).then(n=>{engine.i18n.setLanguageAndEntries(engine.i18n.language,n)}));initScene(engine);engine.init();engine.run({afterTime:n=>{globalGameData.gameplayTime+=n.time.deltaTime}});initDevEnv();function initDevEnv(){const e=document.getElementById("testBtn");e.style.display="none",e.addEventListener("click",()=>{engine.audios.playBGM(currentScene().bgm)})}
